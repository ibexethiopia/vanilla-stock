import{a as st,f as we,d as lt,u as tl,t as al,h as at,b as Ge,c as ke,e as te,r as T,g as pe,o as x,i as et,n as Ee,m as Oe,_ as W,j as Z,S as nl,k as o,l as r,p as S,q as t,w as a,s as i,v as s,F as I,x as w,y as D,z as C,A as Re,B as Se,C as Qe,D as On,E as Be,G as Jt,H as Qt,I as Xt,J as me,K as de,L as fa,M as ol,N as Q,O as ht,P as Xe,Q as ja,R as ne,T as Ie,U as he,V as $e,W as fe,X as In,Y as Ct,Z as bt,$ as ll,a0 as Zt,a1 as Ze,a2 as Pn,a3 as Ae,a4 as sl,a5 as Un,a6 as qe,a7 as vt,a8 as ga,a9 as ya,aa as Fn,ab as rl,ac as qn,ad as It,ae as dl,af as We,ag as rt,ah as il,ai as ul,aj as Mn,ak as ml,al as Pt,am as cl,an as pl,ao as xt,ap as ha,aq as Rn,ar as wt,as as ba,at as _l,au as _t,av as fl,aw as gl,ax as yl,ay as Kn,az as hl,aA as Vn,aB as Ha,aC as Na,aD as va,aE as zn,aF as ca,aG as nt,aH as dt,aI as Ln,aJ as Ht,aK as bl,aL as ft,aM as Bn,aN as ka,aO as vl,aP as kl,aQ as wl,aR as Cl,aS as Sl,aT as $l,aU as Al,aV as Dl,aW as Tl,aX as wa,aY as El,aZ as Ol,a_ as Wn,a$ as Il,b0 as jn,b1 as Ca,b2 as Hn,b3 as Sa,b4 as $a,b5 as Pl,b6 as Ul,b7 as Fl,b8 as ql,b9 as Et,ba as Ml,bb as ra,bc as Rl,bd as it,be as Nn,bf as Kl,bg as Vl,bh as zl,bi as Aa,bj as Ll,bk as Bl,bl as Wl,bm as jl,bn as Hl,bo as Nl,bp as Yn,bq as Yl,br as Gl,bs as Jl,bt as Gn,bu as Jn,bv as Ql,bw as Qn,bx as Xl,by as Zl,bz as Da,bA as Vt,bB as xl,bC as es,bD as ts,bE as as,bF as ns,bG as os,bH as ls,bI as ss,bJ as rs,bK as ds,bL as is}from"./vendor-f6e1d56c.js";const pa=(e,l)=>{const c=e[l];return c?typeof c=="function"?c():Promise.resolve(c):new Promise((n,h)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(h.bind(null,new Error("Unknown variable dynamic import: "+l)))})};var Nt=st.create({baseURL:window.config.path+"/api/v1"});Nt.defaults.headers.Accept="application/json";Nt.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";Nt.defaults.headers.common["X-CSRF-TOKEN"]=document.head.querySelector('meta[name="csrf-token"]').content;Nt.interceptors.response.use(function(e){return e.data},function(e){if(e.response.status===401)window.location.href=window.config.path;else return Promise.reject(e.response)});window.axiosBase=Nt;const Xn=(e,l)=>{var c=l.role.name=="admin";return we(l.role.perms,n=>{n.name==e&&(c=!0)}),c},Ut=e=>{if(e.details.sales_tax_type=="exclusive"&&e.details.tax_id!=""&&e.details.tax){var l=e.details.tax.rate,c=e.details.sales_price,n=c*(l/100),h=c+n;return h}else return e.details.sales_price},Ta=e=>`${e.address}, ${e.city}, ${e.state}, ${e.zipcode}, ${e.country}`,Pe=e=>window.config.app_type=="non-saas"?e:`superadmin/${e}`;at.suppressDeprecationWarnings=!0;lt.extend(tl);lt.extend(al);const J=()=>{const e=Ge(),l=ke(),{t:c}=te(),n=T(e.meta.orderType),h=window.config.invoice_url,y=window.config.download_lang_csv_url,u=window.config.app_type,d=pe(()=>l.state.auth.menuCollapsed),m=pe(()=>l.state.auth.cssSettings),p=pe(()=>l.state.auth.activeModules),_=pe(()=>l.state.auth.visibleSubscriptionModules),f=pe(()=>l.state.auth.globalSetting),g=pe(()=>l.state.auth.appSetting),b=pe(()=>l.state.auth.addMenus),v=pe(()=>l.state.auth.lang),k=pe(()=>l.state.auth.user),$=pe(()=>l.state.auth.warehouse),A=pe(()=>l.state.auth.all_warehouses),O=pe(()=>l.state.front.appSetting),F=pe(()=>window.config.frontStoreWarehouse);x(()=>{e.meta&&e.meta.orderType?n.value=e.meta.orderType:n.value="online-orders"});const P={enabled:"success",disabled:"error"},E=[{key:"enabled",value:c("common.enabled")},{key:"disabled",value:c("common.disabled")}],U=[{key:"inclusive",value:c("product.inclusive")},{key:"exclusive",value:c("product.exclusive")}],R=ee=>ee&&ee>at().endOf("day"),L=ee=>ee==null?lt().tz(g.value.timezone):lt(ee).tz(g.value.timezone),K=ee=>ee==null?lt().tz(g.value.timezone).format(`${g.value.date_format}`):lt(ee).tz(g.value.timezone).format(`${g.value.date_format}`),V=ee=>ee==null?lt().tz(g.value.timezone).format(`${g.value.date_format} ${g.value.time_format}`):lt(ee).tz(g.value.timezone).format(`${g.value.date_format} ${g.value.time_format}`),q=ee=>ee!=null?lt(ee).tz(g.value.timezone).format(`${g.value.time_format}`):"",B=ee=>parseInt(ee),Y=ee=>parseFloat(parseFloat(ee).toFixed(2)),N=ee=>{const ye=parseFloat(Math.abs(ee)).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(g.value.currency.position=="front")var Te=`${g.value.currency.symbol}${ye}`;else var Te=`${ye}${g.value.currency.symbol}`;return ee<0?`- ${Te}`:Te},le=(ee,ye)=>{const Te=parseFloat(Math.abs(ee)).toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(ye.position=="front")var Me=`${ye.symbol}${Te}`;else var Me=`${Te}${ye.symbol}`;return ee<0?`- ${Me}`:Me},H=ee=>{var ye="";return ee.payment_status!=null&&ee.payment_status!="all"&&(ee.payment_status=="pending"?ye+=`(payment_status eq "${ee.payment_status}" or payment_status eq "partially_paid" or payment_status eq "unpaid")`:ye+=`payment_status eq "${ee.payment_status}"`),ee.order_status!=null&&ee.order_status!="all"&&(n.value=="online-orders"?ee.order_status=="cancelled"?ye+="cancelled eq 1":ee.order_status=="pending"?ye+='((order_status eq "ordered" or order_status eq "confirmed" or order_status eq "processing" or order_status eq "shipping") and cancelled ne 1)':ye+=`(order_status eq "${ee.order_status}" and cancelled ne 1)`:ye+=`order_status eq "${ee.order_status}"`),ye},G=ee=>{var ye="";return we(ee,(Te,Me)=>{Te!=null&&(ye+=`${Me} eq "${Te}" and `)}),ye.length>0&&(ye=ye.substring(0,ye.length-4)),ye},z=ee=>Xn(ee,k.value),X=ee=>{l.commit("auth/updatePageTitle",c(`menu.${ee}`))},j=pe(()=>{const ee=k&&k.value&&k.value.role?[k.value.role.name]:[];return k&&k.value&&k.value.role&&we(k.value.role.perms,ye=>{ee.push(ye.name)}),ee}),oe=pe(()=>{var ee={};return n.value=="purchases"?ee={type:"purchases",langKey:"purchase",menuKey:"purchases",userType:"suppliers",permission:"purchases"}:n.value=="sales"?ee={type:"sales",langKey:"sales",menuKey:"sales",userType:"customers",permission:"sales"}:n.value=="purchase-returns"?ee={type:"purchase-returns",langKey:"purchase_returns",menuKey:"purchase_returns",userType:"suppliers",permission:"purchase_returns"}:n.value=="sales-returns"?ee={type:"sales-returns",langKey:"sales_returns",menuKey:"sales_returns",userType:"customers",permission:"sales_returns"}:n.value=="online-orders"?ee={type:"online-orders",langKey:"online_orders",menuKey:"online_orders",userType:"customers",permission:"online_orders"}:n.value=="quotations"?ee={type:"quotations",langKey:"quotation",menuKey:"quotation",userType:"customers",permission:"quotations"}:n.value=="stock-transfers"&&(ee={type:"stock-transfers",langKey:"stock_transfer",menuKey:"stock_transfer",userType:"customers",permission:"stock_transfers"}),ee}),M=ee=>{const ye=ee.replace("-","_");return c(`menu.${ye}`)},ae=[{key:"pending",value:c("common.unpaid")},{key:"paid",value:c("common.paid")}],ie=[{key:"pending",value:c("common.pending")},{key:"paid",value:c("common.paid")},{key:"cancelled",value:c("common.cancelled")}],re={received:"green",pending:"orange",ordered:"blue",completed:"green",pending:"orange",delivered:"green",shipping:"purple",processing:"pink",confirmed:"cyan",ordered:"blue",received:"green",pending:"orange"},be=[{key:"received",value:c("common.received")},{key:"pending",value:c("common.pending")},{key:"ordered",value:c("common.ordered")}],ue=[{key:"completed",value:c("common.completed")},{key:"pending",value:c("common.pending")}],_e=[{key:"confirmed",value:c("common.confirmed")},{key:"processing",value:c("common.processing")},{key:"shipping",value:c("common.shipping")}],Fe=[{key:"ordered",value:c("common.ordered")},..._e,{key:"delivered",value:c("common.delivered")}],Je=[{key:"received",value:c("common.received")},{key:"pending",value:c("common.pending")}];return{menuCollapsed:d,appSetting:g,appType:u,addMenus:b,selectedLang:v,user:k,selectedWarehouse:$,allWarehouses:A,checkPermission:z,permsArray:j,statusColors:P,orderStatusColors:re,userStatus:E,taxTypes:U,barcodeSymbology:[{key:"CODE128",value:"CODE128"},{key:"CODE39",value:"CODE39"}],frontAppSetting:O,disabledDate:R,formatQuantity:B,formatAmount:Y,formatAmountCurrency:N,formatAmountUsingCurrencyObject:le,convertToPositive:ee=>ee<0?ee*-1:ee,calculateOrderFilterString:H,calculateFilterString:G,updatePageTitle:X,orderType:n,orderPageObject:oe,orderStatus:ae,paymentStatus:ie,purchaseOrderStatus:be,onlineOrderChangeStatus:_e,salesOrderStatus:Fe,purchaseReturnStatus:ue,salesReturnStatus:Je,getRecursiveCategories:(ee,ye=null)=>{const Te=[],Me=[];return ee.data.map(Ye=>{(ye==null||ye!=null&&Ye.x_parent_id!=ye)&&Me.push({xid:Ye.xid,x_parent_id:Ye.x_parent_id,title:Ye.name,value:Ye.xid})}),Me.forEach(Ye=>{if(!Ye.x_parent_id)return Te.push(Ye);const ze=Me.findIndex(Kt=>Kt.xid===Ye.x_parent_id);if(!Me[ze].children)return Me[ze].children=[Ye];Me[ze].children.push(Ye)}),Te},filterTreeNode:(ee,ye)=>ye.props.title.toLowerCase().includes(ee.toLowerCase()),getOrderTypeFromstring:M,invoiceBaseUrl:h,downloadLangCsvUrl:y,appModules:p,dayjs:lt,formatDate:K,formatDateTime:V,formatTime:q,dayjsObject:L,slugify:ee=>{var ye=Math.random().toString(36).slice(5),Te=ee.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return Te+"-"+ye},cssSettings:m,frontWarehouse:F,globalSetting:f,willSubscriptionModuleVisible:ee=>u=="non-saas"?!0:g.value.subscription_plan&&g.value.subscription_plan.modules?et(g.value.subscription_plan.modules,ee):!1,visibleSubscriptionModules:_}},ve=()=>{const e=T(!1),l=T({}),{t:c}=te(),{appSetting:n}=J();return{loading:e,rules:l,addEditRequestAdmin:u=>{e.value=!0;const{url:d,data:m,success:p}=u;var _={};we(m,function(f,g){f==null?_[g]=null:_[g]=f}),axiosAdmin.post(d,_).then(f=>{u.successMessage&&Ee.success({placement:n.value.rtl?"bottomLeft":"bottomRight",message:c("common.success"),description:u.successMessage}),p(f.data),e.value=!1,l.value={}}).catch(f=>{var g=f.data;const b=f.status;var v={};if(b==422){if(g.error&&typeof g.error.details<"u")for(var k=Object.keys(g.error.details),$=0;$<k.length;$++){var A=k[$].replace(".","\\.");v[A]={required:!0,message:g.error.details[k[$]][0]}}l.value=v,Oe.error(c("common.fix_errors"))}g&&g.message&&(Oe.error(g.message),g={error:{...g}}),u.error&&u.error(g),e.value=!1})},addEditFileRequestAdmin:u=>{e.value=!0;const{url:d,data:m,success:p}=u,_=new FormData;we(m,function(f,g){f==null?_.append(g,null):_.append(g,f.originFileObj)}),axiosAdmin.post(d,_,{headers:{"Content-Type":"multipart/form-data"}}).then(f=>{u.successMessage&&Ee.success({placement:n.value.rtl?"bottomLeft":"bottomRight",message:c("common.success"),description:u.successMessage}),p(f.data),e.value=!1,l.value={}}).catch(f=>{var g=f.data;const b=f.status;var v={};if(b==422){if(g.error&&typeof g.error.details<"u")for(var k=Object.keys(g.error.details),$=0;$<k.length;$++){var A=k[$].replace(".","\\.");v[A]={required:!0,message:g.error.details[k[$]][0]}}l.value=v,Oe.error(c("common.fix_errors"))}g&&g.message&&(Oe.error(g.message),g={error:{...g}}),u.error&&u.error(g),e.value=!1})}}},us=Z({props:["credentials"],components:{SnippetsOutlined:nl},setup(){const e=window.config.app_env,l=window.config.app_type,c=T([{title:"Details",dataIndex:"details"},{title:"action",dataIndex:"action"}]),n=T([{name:"Admin",email:"admin@example.com",password:12345678},{name:"StockManager",email:"stockmanager@example.com",password:12345678},{name:"Salesman",email:"salesman@example.com",password:12345678}]);return x(()=>{l=="saas"&&(n.value=[{name:"SuperAdmin",email:"superadmin@example.com",password:12345678},...n.value])}),{appEnv:e,demoCredentials:n,demoCredentialsColumns:c}}}),ms={key:0},cs=w("br",null,null,-1),ps=w("br",null,null,-1);function _s(e,l,c,n,h,y){const u=o("a-divider"),d=o("SnippetsOutlined"),m=o("a-tooltip"),p=o("a-table");return e.appEnv!="envato"?(r(),S("div",ms,[t(u,null,{default:a(()=>[i(s(e.$t("common.demo_account_credentials")),1)]),_:1}),t(p,{pagination:!1,dataSource:e.demoCredentials,columns:e.demoCredentialsColumns},{bodyCell:a(({column:_,record:f})=>[_.dataIndex==="details"?(r(),S(I,{key:0},[w("b",null,s(f.name),1),i(),cs,i(" Email : "+s(f.email)+" ",1),ps,i(" Password : "+s(f.password),1)],64)):D("",!0),_.dataIndex==="action"?(r(),C(m,{key:1,onClick:()=>{e.credentials.email=f.email,e.credentials.password=f.password}},{title:a(()=>[i(s(e.$t("popover.click_here_to_copy_credentials",[f.name])),1)]),default:a(()=>[t(d)]),_:2},1032,["onClick"])):D("",!0)]),_:1},8,["dataSource","columns"])])):D("",!0)}const fs=W(us,[["render",_s]]);const gs=Z({components:{DemoCredentials:fs},setup(){const{addEditRequestAdmin:e,loading:l,rules:c}=ve(),{globalSetting:n,appType:h}=J(),y=n.value.login_image_url,u=ke(),d=Re(),m=Se({email:null,password:null}),p=T({error:"",success:""});return{loading:l,rules:c,credentials:m,onSubmit:()=>{p.value={error:"",success:!1},e({url:"auth/login",data:m,success:f=>{const g=f.user;u.commit("auth/updateUser",g),u.commit("auth/updateToken",f.token),u.commit("auth/updateExpires",f.expires_in),u.commit("auth/updateVisibleSubscriptionModules",f.visible_subscription_modules),h=="non-saas"?(u.dispatch("auth/updateAllWarehouses"),u.commit("auth/updateWarehouse",f.user.warehouse),d.push({name:"admin.dashboard.index",params:{success:!0}})):g.is_superadmin&&g.user_type=="super_admins"?(u.commit("auth/updateApp",f.app),u.commit("auth/updateEmailVerifiedSetting",f.email_setting_verified),d.push({name:"superadmin.dashboard.index",params:{success:!0}})):(u.commit("auth/updateApp",f.app),u.commit("auth/updateEmailVerifiedSetting",f.email_setting_verified),u.commit("auth/updateAddMenus",f.shortcut_menus.credentials),u.dispatch("auth/updateAllWarehouses"),u.commit("auth/updateWarehouse",f.user.warehouse),d.push({name:"admin.dashboard.index",params:{success:!0}}))},error:f=>{p.value={error:f.error.message?f.error.message:"",success:!1}}})},onRequestSend:p,globalSetting:n,loginBackground:y,innerWidth:window.innerWidth}}}),ys={class:"login-main-container"},hs={class:"login-logo mb-30"},bs=["src"],vs={class:"right-login-div"},ks=["src"];function ws(e,l,c,n,h,y){const u=o("a-alert"),d=o("a-input"),m=o("a-form-item"),p=o("a-input-password"),_=o("a-button"),f=o("a-form"),g=o("DemoCredentials"),b=o("a-card"),v=o("a-col"),k=o("a-row");return r(),S("div",ys,[t(k,{class:"main-container-div"},{default:a(()=>[t(v,{xs:24,sm:24,md:24,lg:8},{default:a(()=>[t(k,{class:"login-left-div"},{default:a(()=>[t(v,{xs:{span:20,offset:2},sm:{span:20,offset:2},md:{span:16,offset:4},lg:{span:16,offset:4}},{default:a(()=>[t(b,{title:null,class:"login-div",bordered:e.innerWidth<=768},{default:a(()=>[t(f,{layout:"vertical"},{default:a(()=>[w("div",hs,[w("img",{class:"login-img-logo",src:e.globalSetting.light_logo_url},null,8,bs)]),e.onRequestSend.error!=""?(r(),C(u,{key:0,message:e.onRequestSend.error,type:"error","show-icon":"",class:"mb-20 mt-10"},null,8,["message"])):D("",!0),e.onRequestSend.success?(r(),C(u,{key:1,message:e.$t("messages.login_success"),type:"success","show-icon":"",class:"mb-20 mt-10"},null,8,["message"])):D("",!0),t(m,{label:e.$t("user.email_phone"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null},{default:a(()=>[t(d,{value:e.credentials.email,"onUpdate:value":l[0]||(l[0]=$=>e.credentials.email=$),onPressEnter:e.onSubmit,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.email_phone")])},null,8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(m,{label:e.$t("user.password"),name:"password",help:e.rules.password?e.rules.password.message:null,validateStatus:e.rules.password?"error":null},{default:a(()=>[t(p,{value:e.credentials.password,"onUpdate:value":l[1]||(l[1]=$=>e.credentials.password=$),onPressEnter:e.onSubmit,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.password")])},null,8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(m,{class:"mt-30"},{default:a(()=>[t(_,{loading:e.loading,onClick:e.onSubmit,class:"login-btn",block:"",type:"primary"},{default:a(()=>[i(s(e.$t("menu.login")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1}),t(g,{credentials:e.credentials},null,8,["credentials"])]),_:1},8,["bordered"])]),_:1})]),_:1})]),_:1}),t(v,{xs:0,sm:0,md:24,lg:16},{default:a(()=>[w("div",vs,[w("img",{class:"right-image",src:e.loginBackground},null,8,ks)])]),_:1})]),_:1})])}const Cs=W(gs,[["render",ws]]),Ea=()=>{const e=T([]),l=T({}),c=T(""),n=T(""),h=T(""),y=T(!1),{t:u}=te(),d=T(window.config.product_name),m=T(window.config.product_version),p=ke(),_=T([]),f=T([]),g=T(!1),b=T(!1),v=T(""),k=T(0);var $;const A=()=>{g.value=!0;const E=window.config.product_name,U=axiosAdmin.get(Pe("modules")),R=st.post("https://envato.codeifly.com/product",{verified_name:E,domain:"demo.stockifly.in"});var L=[];Promise.all([U,R]).then(([K,V])=>{const q=V.data.product,B=window.config.installed_modules,Y=window.config.modules;_.value=V.data.offers,f.value=V.data.settings,we(q.modules,N=>{const le=Qe(B,["verified_name",N.verified_name]);if(L.push({...N,current_version:le?le.current_version:"-",status:et(Y,N.verified_name),installed:le!=null}),!N.verified||N.other_domain_verified){var H=[...window.config.modules],G=On(H,function(z){return z!=N.verified_name});p.commit("auth/updateActiveModules",G),window.config.modules=G}}),e.value=L,g.value=!1})},O=E=>{const{success:U}=E;y.value=!0,l.value={},n.value="",st.post("https://envato.codeifly.com/verify",{verified_name:d.value,purchase_code:c.value,domain:"demo.stockifly.in",app_url:"https://demo.stockifly.in/",version:m.value}).then(R=>{y.value=!1,R.data.status=="success"?(y.value=!1,Ee.success({message:u("common.success")}),h.value=u("messages.verify_success"),U(R.data)):(Ee.error({message:u("common.error")}),n.value=R.data.message)}).catch(R=>{y.value=!1;const L=R.response.data,K=R.response.status;var V={};if(K==422){if(L.errors&&typeof L.errors<"u")for(var q=Object.keys(L.errors),B=0;B<q.length;B++){var Y=q[B].replace(".","\\.");V[Y]={required:!0,message:L.errors[q[B]][0]}}l.value=V,Oe.error(u("common.fix_errors"))}else n.value=L.message?L.message:u("messages.somehing_went_wrong")})},F=E=>{b.value=!0,k.value=0,v.value="";const U={verified_name:E,domain:window.location.host};$=window.setInterval(function(){P()},1500),axiosAdmin.post(Pe("modules/install"),U).then(R=>{b.value=!1,k.value=100,v.value="started",axiosAdmin.post(Pe("modules/extract"),U).then(L=>{v.value="completed",st.post("https://envato.codeifly.com/version-update",{verified_name:L.data.verified_name,version:L.data.version,domain:"demo.stockifly.in"}),p.commit("auth/updateActiveModules",L.data.enabled_modules),window.config.modules=L.data.enabled_modules,window.config.installed_modules=L.data.installed_modules}).catch(L=>{v.value="failed"})}).catch(R=>{b.value=!1,k.value=0,clearInterval($)})},P=()=>{axiosAdmin(Pe("modules/download-percentage")).then(E=>{k.value=parseInt(E.data.percentage),k.value>=100&&clearInterval($)})};return{allModules:e,getModuleData:A,install:F,dataLoading:g,verifyPurchase:O,rules:l,purchaseCode:c,errorMessage:n,successMessage:h,loading:y,productName:d,version:m,offers:_,settings:f,downloading:b,downloadPercentage:k,extracting:v}};const Ss=Z({setup(){const e=window.config.verify_purchase_background,l=Re(),{rules:c,purchaseCode:n,errorMessage:h,successMessage:y,loading:u,verifyPurchase:d}=Ea();return{rules:c,purchaseCode:n,loading:u,verify:()=>d({success:p=>{l.push({name:"admin.login"})}}),errorMessage:h,successMessage:y,verifyPurchaseBackground:e}}}),$s={class:"container-content"},As={class:"text-center"},Ds=["innerHTML"],Ts=["innerHTML"];function Es(e,l,c,n,h,y){const u=o("a-typography-title"),d=o("a-divider"),m=o("a-alert"),p=o("a-input"),_=o("a-form-item"),f=o("a-button"),g=o("a-form"),b=o("a-col"),v=o("a-row");return r(),S("div",{class:"main-container",style:Be({backgroundImage:`url(${e.verifyPurchaseBackground})`})},[w("div",$s,[t(v,{type:"flex",justify:"center"},{default:a(()=>[t(b,{span:8},{default:a(()=>[w("div",As,[t(u,{level:4},{default:a(()=>[i(s(e.$t("common.verify_purchase")),1)]),_:1})]),t(d),e.successMessage!=""?(r(),C(m,{key:0,type:"success","show-icon":"",banner:""},{message:a(()=>[w("span",{innerHTML:e.successMessage},null,8,Ds)]),_:1})):D("",!0),e.errorMessage!=""?(r(),C(m,{key:1,type:"error","show-icon":"",banner:""},{message:a(()=>[w("span",{innerHTML:e.errorMessage},null,8,Ts)]),_:1})):D("",!0),t(g,{layout:"vertical",class:"mt-20"},{default:a(()=>[t(_,{label:e.$t("common.purchase_code"),name:"purchase_code",help:e.rules.purchase_code?e.rules.purchase_code.message:null,validateStatus:e.rules.purchase_code?"error":null,class:"required"},{default:a(()=>[t(p,{value:e.purchaseCode,"onUpdate:value":l[0]||(l[0]=k=>e.purchaseCode=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(_,null,{default:a(()=>[t(f,{type:"primary",onClick:e.verify,loading:e.loading},{default:a(()=>[i(s(e.$t("common.verify_purchase")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})]),_:1})])],4)}const Os=W(Ss,[["render",Es]]),Is=[{path:"/admin/login",component:Cs,name:"admin.login",meta:{requireUnauth:!0,menuKey:e=>"login"}},{path:"/admin/verify",component:Os,name:"verify.main",meta:{requireUnauth:!0,menuKey:e=>"verify_product"}}];Jt.register(...Qt);const Ps={props:["data"],components:{DoughnutChart:Xt.DoughnutChart},setup(e){const l=T(),c=T({responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!1,text:"Chart.js Doughnut Chart"}}}),n=T({});return me(e,(h,y)=>{n.value={labels:h.data.topSellingProducts?h.data.topSellingProducts.labels:[],datasets:[{data:h.data.topSellingProducts?h.data.topSellingProducts.values:[],backgroundColor:h.data.topSellingProducts?h.data.topSellingProducts.colors:[]}]}}),{chartRef:l,testData:n,options:c}}};function Us(e,l,c,n,h,y){const u=o("DoughnutChart");return r(),C(u,{ref:"chartRef",chartData:n.testData,options:n.options},null,8,["chartData","options"])}const Fs=W(Ps,[["render",Us]]);Jt.register(...Qt);const qs={props:["data"],components:{BarChart:Xt.BarChart},setup(e){const l=T(),{t:c}=te(),n=T({responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!1,text:"Chart.js Doughnut Chart"}}}),h=T({});return me(e,(y,u)=>{h.value={labels:y.data.purchaseSales.dates?y.data.purchaseSales.dates:[],datasets:[{label:c("menu.purchases"),data:y.data.purchaseSales.purchases?y.data.purchaseSales.purchases:[],backgroundColor:"#20C997"},{label:c("menu.sales"),data:y.data.purchaseSales.sales?y.data.purchaseSales.sales:[],backgroundColor:"#FFCD56"}]}}),{chartRef:l,testData:h,options:n}}};function Ms(e,l,c,n,h,y){const u=o("BarChart");return r(),C(u,{ref:"chartRef",chartData:n.testData,options:n.options},null,8,["chartData","options"])}const Rs=W(qs,[["render",Ms]]);Jt.register(...Qt);const Ks={props:["data"],components:{LineChart:Xt.LineChart},setup(e){const l=T(),{t:c}=te(),n=T({responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!1,text:""}}}),h=T({});return me(e,(y,u)=>{h.value={labels:y.data.paymentChartData?y.data.paymentChartData.dates:[],datasets:[{label:c("dashboard.payment_sent"),data:y.data.paymentChartData.sent?y.data.paymentChartData.sent:[],borderColor:"#20C997",backgroundColor:"#20C997"},{label:c("dashboard.payment_received"),data:y.data.paymentChartData.received?y.data.paymentChartData.received:[],borderColor:"#FFCD56",backgroundColor:"#FFCD56"}]}}),{chartRef:l,testData:h,options:n}}};function Vs(e,l,c,n,h,y){const u=o("LineChart");return r(),C(u,{ref:"chartRef",chartData:n.testData,options:n.options},null,8,["chartData","options"])}const zs=W(Ks,[["render",Vs]]),Ls={props:{bgColor:{default:"#5F63F2"}}},Bs={class:"custom-card-widget"};function Ws(e,l,c,n,h,y){const u=o("a-space"),d=o("a-card");return r(),C(d,{bordered:!1},{default:a(()=>[w("figure",Bs,[t(u,null,{default:a(()=>[w("div",{class:"custom-card-widget-icon",style:Be({background:c.bgColor})},[de(e.$slots,"image")],4),w("figcaption",null,[de(e.$slots,"description")])]),_:3})])]),_:3})}const Zn=W(Ls,[["render",Ws]]);Jt.register(...Qt);const js={props:["data","title"],components:{DoughnutChart:Xt.DoughnutChart},setup(e){const l=T(),c=T({responsive:!0,plugins:{legend:{position:"bottom"},title:{display:e.title!="",text:e.title}}}),n=T({labels:e.data.labels,datasets:[{data:e.data.values,backgroundColor:e.data.colors}]});return me(e,(h,y)=>{n.value={labels:h.data.labels,datasets:[{data:h.data.values,backgroundColor:h.data.colors}]}}),{chartRef:l,testData:n,options:c}}};function Hs(e,l,c,n,h,y){const u=o("DoughnutChart");return r(),C(u,{ref:"chartRef",chartData:n.testData,options:n.options},null,8,["chartData","options"])}const Ns=W(js,[["render",Hs]]),Ys=Z({props:["itemDetails","visible"],components:{Doughnut:Ns},setup(e,{emit:l}){const{formatAmountCurrency:c,getOrderTypeFromstring:n,formatDate:h,formatDateTime:y}=J();te();const u=T("product_orders"),d=T({}),m=pe(()=>e.itemDetails.warehouse_stocks.filter(f=>f.stock_quantity<e.itemDetails.stock_quantitiy_alert));return me(e,(_,f)=>{if(u.value="product_orders",_.itemDetails.warehouse_stocks){var g=[],b=[],v=["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)"];we(_.itemDetails.warehouse_stocks,(k,$)=>{g.push(k.warehouse.name),b.push(k.stock_quantity)}),d.value={labels:g,values:b,colors:v}}else d.value={labels:[],values:[],colors:[]}}),{onClose:()=>{l("closed")},formatDate:h,formatDateTime:y,formatAmountCurrency:c,warehouseStockColumns,stockHistoryColumns,productOrderColumns,warehouseStockChartData:d,activeKey:u,getOrderTypeFromstring:n,drawerWidth:window.innerWidth<=991?"90%":"60%",outOfStockWarehouses:m}}}),Gs=w("hr",{style:{height:"1px",border:"none",color:"#f0f0f0","background-color":"#f0f0f0"},class:"mt-10 mb-10"},null,-1);function Js(e,l,c,n,h,y){const u=o("a-image"),d=o("a-col"),m=o("a-row"),p=o("a-statistic"),_=o("a-typography-title"),f=o("Doughnut"),g=o("a-table"),b=o("a-tab-pane"),v=o("a-tabs"),k=o("a-drawer");return r(),C(k,{title:e.itemDetails.name,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},maskClosable:!1,onClose:e.onClose},{default:a(()=>[t(m,null,{default:a(()=>[e.itemDetails.product_type=="single"?(r(),C(d,{key:0,xs:24,sm:24,md:8,lg:6},{default:a(()=>[t(u,{width:150,src:e.itemDetails.image_url},null,8,["src"])]),_:1})):D("",!0),t(d,{xs:24,sm:24,md:8,lg:18},{default:a(()=>[e.itemDetails.description?(r(),C(m,{key:0,class:"mb-10 mt-10"},{default:a(()=>[t(d,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[i(s(e.itemDetails.description),1)]),_:1})]),_:1})):D("",!0),t(m,{class:"mb-10 mt-10"},{default:a(()=>[t(d,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(p,{title:e.$t("product.mrp"),value:e.formatAmountCurrency(e.itemDetails.mrp),style:{"margin-right":"50px"}},null,8,["title","value"])]),_:1}),t(d,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(p,{title:e.$t("product.purchase_price"),value:e.formatAmountCurrency(e.itemDetails.purchase_price),style:{"margin-right":"50px"}},null,8,["title","value"])]),_:1}),t(d,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(p,{title:e.$t("product.sales_price"),value:e.formatAmountCurrency(e.itemDetails.sales_price)},null,8,["title","value"])]),_:1})]),_:1}),Gs,t(m,null,{default:a(()=>[t(d,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(_,{level:5},{default:a(()=>[i(s(e.$t("product.stocks")),1)]),_:1}),t(f,{data:e.warehouseStockChartData,style:{height:"200px"}},null,8,["data"])]),_:1}),t(d,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(g,{columns:e.warehouseStockColumns,"row-key":$=>$.id,"data-source":e.itemDetails.warehouse_stocks,pagination:!1,class:"mt-30"},{bodyCell:a(({column:$,record:A})=>{var O;return[$.dataIndex==="warehouse_id"?(r(),S(I,{key:0},[i(s(A.warehouse.name),1)],64)):D("",!0),$.dataIndex==="stock_quantity"?(r(),S(I,{key:1},[i(s(A.stock_quantity)+" "+s((O=e.itemDetails.unit)==null?void 0:O.short_name),1)],64)):D("",!0)]}),_:1},8,["columns","row-key","data-source"])]),_:1})]),_:1})]),_:1})]),_:1}),t(m,{class:"mt-10"},{default:a(()=>[t(d,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{activeKey:e.activeKey,"onUpdate:activeKey":l[0]||(l[0]=$=>e.activeKey=$)},{default:a(()=>[t(b,{key:"product_orders",tab:e.$t("product.product_orders")},{default:a(()=>[t(g,{columns:e.productOrderColumns,"row-key":$=>$.id,"data-source":e.itemDetails.items,pagination:!1},{bodyCell:a(({column:$,record:A})=>[$.dataIndex==="order_type"?(r(),S(I,{key:0},[i(s(e.getOrderTypeFromstring(A.order.order_type)),1)],64)):D("",!0),$.dataIndex==="order_date"?(r(),S(I,{key:1},[i(s(e.formatDateTime(A.order.order_date)),1)],64)):D("",!0),$.dataIndex==="single_unit_price"?(r(),S(I,{key:2},[i(s(e.formatAmountCurrency(A.single_unit_price)),1)],64)):D("",!0),$.dataIndex==="total_discount"?(r(),S(I,{key:3},[i(s(e.formatAmountCurrency(A.total_discount))+" ("+s(A.discount_rate)+"%) ",1)],64)):D("",!0),$.dataIndex==="total_tax"?(r(),S(I,{key:4},[i(s(e.formatAmountCurrency(A.total_tax))+" ("+s(A.tax_rate)+"%) ",1)],64)):D("",!0),$.dataIndex==="subtotal"?(r(),S(I,{key:5},[i(s(e.formatAmountCurrency(A.subtotal)),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source"])]),_:1},8,["tab"]),t(b,{key:"stock_history",tab:e.$t("product.stock_history")},{default:a(()=>[t(g,{columns:e.stockHistoryColumns,"row-key":$=>$.id,"data-source":e.itemDetails.stock_history,pagination:!1},{bodyCell:a(({column:$,record:A})=>[$.dataIndex==="created_at"?(r(),S(I,{key:0},[i(s(e.formatDateTime(A.created_at)),1)],64)):D("",!0),$.dataIndex==="order_type"?(r(),S(I,{key:1},[i(s(e.getOrderTypeFromstring(A.order_type)),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source"])]),_:1},8,["tab"])]),_:1},8,["activeKey"])]),_:1})]),_:1})]),_:1},8,["title","width","open","onClose"])}const Qs=W(Ys,[["render",Js]]),Xs={props:["data"],components:{CloudDownloadOutlined:fa,CloudUploadOutlined:ol,Details:Qs},setup(e){const{formatDateTime:l}=J(),c=T(!1),n=T({});return{formatDateTime:l,viewData:n,detailsVisible:c,viewItem:y=>{n.value=y,c.value=!0}}}};function Zs(e,l,c,n,h,y){const u=o("Details"),d=o("CloudDownloadOutlined"),m=o("CloudUploadOutlined"),p=o("a-typography-link"),_=o("a-timeline-item"),f=o("a-timeline");return r(),S(I,null,[t(u,{visible:n.detailsVisible,onClosed:l[0]||(l[0]=g=>n.detailsVisible=!1),itemDetails:n.viewData},null,8,["visible","itemDetails"]),t(f,null,{default:a(()=>[(r(!0),S(I,null,Q(c.data,g=>(r(),C(_,{key:g.id},{dot:a(()=>[g.stock_type=="out"?(r(),C(d,{key:0,style:{"font-size":"20px"}})):(r(),C(m,{key:1,style:{"font-size":"20px"}}))]),default:a(()=>[w("span",null,[t(p,{onClick:b=>n.viewItem(g.product)},{default:a(()=>[i(s(g.product.name),1)]),_:2},1032,["onClick"]),i(" with "),w("strong",null,s(g.quantity)+" "+s(g.product.unit.short_name),1),i(" "+s(g.order_type)+" on "+s(n.formatDateTime(g.created_at)),1)])]),_:2},1024))),128))]),_:1})],64)}const xs=W(Xs,[["render",Zs]]),ea=()=>{const{dayjs:e}=J();ke();const{t:l}=te(),c=Ge(),n=T(c.meta.orderType),h=T([]),y=["user_id","warehouse_id"];x(()=>{c.meta&&c.meta.orderType?n.value=c.meta.orderType:n.value="online-orders"});const u={order_date:e().utc().format("YYYY-MM-DDTHH:mm:ssZ"),user_id:void 0,notes:"",order_status:void 0,tax_id:void 0,warehouse_id:void 0,discount:0,shipping:0,subtotal:0},d={date:void 0,payment_mode_id:void 0,amount:"",notes:""},m=[{title:"#",dataIndex:"sn"},{title:l("product.name"),dataIndex:"name"},{title:l("product.quantity"),dataIndex:"unit_quantity"},{title:l("product.unit_price"),dataIndex:"single_unit_price"},{title:l("product.discount"),dataIndex:"total_discount"},{title:l("product.tax"),dataIndex:"total_tax"},{title:l("product.subtotal"),dataIndex:"subtotal"},{title:l("common.action"),dataIndex:"action"}],p=[{title:l("product.product"),dataIndex:"product_id"},{title:l("product.quantity"),dataIndex:"quantity"},{title:l("product.unit_price"),dataIndex:"single_unit_price"},{title:l("product.discount"),dataIndex:"total_discount"},{title:l("product.tax"),dataIndex:"total_tax"},{title:l("product.subtotal"),dataIndex:"subtotal"}],_=[{key:"invoice_number",value:l("stock.invoice_number")}],f=pe(()=>{var v={};return n.value=="purchases"?v={type:"purchases",langKey:"purchase",menuKey:"purchases",userType:"suppliers",permission:"purchases"}:n.value=="sales"?v={type:"sales",langKey:"sales",menuKey:"sales",userType:"customers",permission:"sales"}:n.value=="purchase-returns"?v={type:"purchase-returns",langKey:"purchase_returns",menuKey:"purchase_returns",userType:"suppliers",permission:"purchase_returns"}:n.value=="sales-returns"?v={type:"sales-returns",langKey:"sales_returns",menuKey:"sales_returns",userType:"customers",permission:"sales_returns"}:n.value=="online-orders"?v={type:"online-orders",langKey:"online_orders",menuKey:"online_orders",userType:"customers",permission:"online_orders"}:n.value=="quotations"?v={type:"quotations",langKey:"quotation",menuKey:"sales",userType:"customers",permission:"quotations"}:n.value=="stock-transfers"&&(v={type:"stock-transfers",langKey:"stock_transfer",menuKey:"stock_transfer",userType:"customers",permission:"stock_transfers"}),v}),g=()=>{var v=[{title:l("stock.invoice_number"),dataIndex:"invoice_number"}];f.value.type=="stock-transfers"&&v.push({title:l("stock_transfer.warehouse"),dataIndex:"warehouse"}),v.push({title:l(`${f.value.langKey}.${f.value.langKey}_date`),dataIndex:"order_date"}),f.value.type!="stock-transfers"&&v.push({title:l(`${f.value.langKey}.user`),dataIndex:"user_id"}),h.value=[...v,{title:l(`${f.value.langKey}.${f.value.langKey}_status`),dataIndex:"order_status"},{title:l("payments.paid_amount"),dataIndex:"paid_amount"},{title:l("payments.total_amount"),dataIndex:"total_amount"},{title:l("payments.payment_status"),dataIndex:"payment_status"},{title:l("common.action"),dataIndex:"action"}]},b=[{title:l("payments.date"),dataIndex:"date"},{title:l("payments.amount"),dataIndex:"amount"},{title:l("payments.payment_mode"),dataIndex:"payment_mode_id"}];return{initData:u,initPaymentData:d,columns:h,hashableColumns:y,setupTableColumns:g,filterableColumns:_,pageObject:f,orderType:n,orderItemColumns:m,orderPaymentsColumns:b,orderItemDetailsColumns:p}},je=()=>{const e=ke(),l=Se({data:[],pagination:{pageSize:10,showSizeChanger:!0},loading:!1,sorter:{},searchColumn:void 0,searchString:"",searchStatus:void 0,filterLoading:!1,filterableColumns:[],selectedRowKeys:[],tableColumns:[]}),c=T(1),n=T({}),h=T([]),y=T(""),u=T({allowExport:!1,exportType:""}),d=b=>{const v=b.limit,k=(b.page-1)*v,$=m(v,k);return y.value=$,axiosAdmin.get($)},m=(b,v)=>{var k=n.value.url,$="",A="",O=!1,F=!1;if("filterString"in n.value&&n.value.filterString!=""&&typeof n.value.filterString=="string"&&($+=`${n.value.filterString} and `,O=!0),typeof n.value.filters=="object"&&ja(n.value.filters,(E,U)=>{E!=null&&E!=""&&($+=`${U} eq "${E}" and `,O=!0,et(h.value,U)&&(A+=`${E},`,F=!0))}),l.searchColumn!=null&&l.searchString!="")$+=`${l.searchColumn} lk "%${l.searchString}%" and `,O=!0,l.filterLoading=!0;else if(l.searchString!=""&&l.filterableColumns.length>0){var P="";we(l.filterableColumns,E=>{P+=`${E.key} lk "%${l.searchString}%" or `}),P.length>0&&($+=`(${P.substring(0,P.length-3)})`,O=!1),l.filterLoading=!0}if($.length>0&&O==!0?k+=`&filters=${encodeURIComponent($.substring(0,$.length-5))}`:$.length>0&&O==!1&&(k+=`&filters=${encodeURIComponent($)}`),n.value.extraFilters&&typeof n.value.extraFilters=="object"&&ja(n.value.extraFilters,(E,U)=>{E!=null&&E!=""&&(k+=`&${U}=${E}`,et(h.value,U)&&(A+=`${E},`,F=!0))}),l.sorter&&l.sorter.field){const E=l.sorter.order=="ascend"||l.sorter.order=="asc"?"asc":"desc";k+=`&order=${l.sorter.field} ${E}`}else k+="&order=id desc";return k+=`&offset=${v}&limit=${b}`,F&&(A=A.substring(0,A.length-1),k+=`&hashable=${A}`),k},p=(b,v,k)=>{const $={...l.pagination};$.current=b.current,$.pageSize=b.pageSize,l.pagination=$,c.value=b.current,k=l.sorter,_({limit:b.pageSize,page:b.current,sortField:k.field,sortOrder:k.order,...v})},_=(b={})=>{l.loading=!0,d({limit:l.pagination.pageSize,page:c.value,...b}).then(v=>{const k=v.data,$={...l.pagination};if($.total=v.meta.paging.total,l.loading=!1,l.data=k,l.pagination=$,l.filterLoading=!1,l.selectedRowKeys=[],u.value.allowExport){var A=u.value.exportType;if(A!=""){var O=e.state.auth.allExportData,F=Xe(O,P=>P.export_type!=A);e.commit("auth/updatAllExportData",[...F,{export_type:A,data:k,url:y.value}])}}b.success!=null&&b.success(k)})},f=ht(()=>{_({page:1})},400);return{table:l,tableUrl:n,exportDetails:u,currentPage:c,hashable:h,handleTableChange:p,fetch:_,onTableSearch:f,onRowSelectChange:b=>{l.selectedRowKeys=b}}},er={props:["paymentStatus"]};function tr(e,l,c,n,h,y){const u=o("a-tag");return r(),S("span",null,[c.paymentStatus=="paid"?(r(),C(u,{key:0,color:"success"},{default:a(()=>[i(s(e.$t(`payments.${c.paymentStatus}`)),1)]),_:1})):c.paymentStatus=="partially_paid"?(r(),C(u,{key:1,color:"warning"},{default:a(()=>[i(s(e.$t(`payments.${c.paymentStatus}`)),1)]),_:1})):(r(),C(u,{key:2,color:"error"},{default:a(()=>[i(s(e.$t(`payments.${c.paymentStatus}`)),1)]),_:1}))])}const ut=W(er,[["render",tr]]),ar={props:["data"],setup(){const{orderStatusColors:e}=J();return{orderStatusColors:e}}};function nr(e,l,c,n,h,y){const u=o("a-tag");return c.data.cancelled?(r(),C(u,{key:0,color:"#f50"},{default:a(()=>[i(s(e.$t("common.cancelled")),1)]),_:1})):(r(),C(u,{key:1,color:n.orderStatusColors[c.data.order_status]},{default:a(()=>[i(s(e.$t(`common.${c.data.order_status}`)),1)]),_:1},8,["color"]))}const ta=W(ar,[["render",nr]]),or={props:["user","size"]},lr={key:0},sr={key:1};function rr(e,l,c,n,h,y){const u=o("a-avatar"),d=o("a-badge");return c.user?(r(),S("div",lr,[t(d,null,{default:a(()=>[t(u,{size:30,src:c.user.profile_image_url},null,8,["src"]),i(" "+s(c.user.name),1)]),_:1})])):(r(),S("div",sr,[w("span",null,s(e.$t("user.walk_in_customer")),1)]))}const He=W(or,[["render",rr]]),Oa=()=>{const e="payment-modes?fields=id,xid,name,mode_type",l="payment-modes",{t:c}=te(),n={name:"",mode_type:"bank"},h=[{title:c("payment_mode.name"),dataIndex:"name"},{title:c("payment_mode.mode_type"),dataIndex:"mode_type"},{title:c("common.action"),dataIndex:"action"}],y=[{key:"name",value:c("payment_mode.name")}];return{url:e,addEditUrl:l,initData:n,columns:h,filterableColumns:y}},dr=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve();return{loading:n,rules:h,onClose:()=>{h.value={},l("closed")},onSubmit:()=>{c({url:e.url,data:e.formData,successMessage:e.successMessage,success:d=>{l("addEditSuccess",d.xid)}})},drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function ir(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-radio-button"),f=o("a-radio-group"),g=o("a-form"),b=o("SaveOutlined"),v=o("a-button"),k=o("a-modal");return r(),C(k,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(v,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(v,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(g,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("payment_mode.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=$=>e.formData.name=$),placeholder:e.$t("common.placeholder_default_text",[e.$t("payment_mode.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("payment_mode.mode_type"),mode_type:"mode_type",help:e.rules.mode_type?e.rules.mode_type.message:null,validateStatus:e.rules.mode_type?"error":null},{default:a(()=>[t(f,{value:e.formData.mode_type,"onUpdate:value":l[1]||(l[1]=$=>e.formData.mode_type=$),size:"small","button-style":"solid"},{default:a(()=>[t(_,{value:"cash"},{default:a(()=>[i(s(e.$t("payment_mode.cash")),1)]),_:1}),t(_,{value:"bank"},{default:a(()=>[i(s(e.$t("payment_mode.bank")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const Ia=W(dr,[["render",ir]]),ur=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:Ia},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=Oa(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),mr={key:0};function cr(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("payment_modes_view")||e.permsArray.includes("admin")?(r(),S("div",mr,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"categories"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("payment_mode.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("payment_mode.add"),successMessage:e.$t("payment_mode.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const xn=W(ur,[["render",cr]]),pr=Z({props:["formData","data","visible","url","addEditType","editItemAmount","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,PaymentModeAddButton:xn},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{disabledDate:y,appSetting:u,formatAmountCurrency:d}=J(),m=T([]);x(()=>{p()});const p=()=>{axiosAdmin.get("payment-modes?limit=10000").then(b=>{m.value=b.data})};return{paymentModes:m,appSetting:u,formatAmountCurrency:d,disabledDate:y,loading:n,rules:h,onClose:()=>{h.value={},l("closed")},onSubmit:()=>{c({url:e.url,data:e.formData,successMessage:e.successMessage,success:b=>{l("addEditSuccess",b.xid)}})},paymentModeAdded:()=>{p()}}}}),_r={style:{display:"flex"}},fr={style:{color:"#7c8db5 !important"}},gr={key:0},yr={key:1};function hr(e,l,c,n,h,y){const u=o("a-date-picker"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-select-option"),f=o("a-select"),g=o("PaymentModeAddButton"),b=o("a-input"),v=o("a-textarea"),k=o("a-form"),$=o("SaveOutlined"),A=o("a-button"),O=o("a-modal");return r(),C(O,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(A,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t($)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(A,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(k,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("payments.date"),name:"date",help:e.rules.date?e.rules.date.message:null,validateStatus:e.rules.date?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.date,"onUpdate:value":l[0]||(l[0]=F=>e.formData.date=F),format:e.appSetting.date_format,valueFormat:"YYYY-MM-DD","disabled-date":e.disabledDate,style:{width:"100%"}},null,8,["value","format","disabled-date"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("payments.payment_mode"),name:"payment_mode_id",help:e.rules.payment_mode_id?e.rules.payment_mode_id.message:null,validateStatus:e.rules.payment_mode_id?"error":null,class:"required"},{default:a(()=>[w("span",_r,[t(f,{value:e.formData.payment_mode_id,"onUpdate:value":l[1]||(l[1]=F=>e.formData.payment_mode_id=F),placeholder:e.$t("common.select_default_text",[e.$t("payments.payment_mode")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(e.paymentModes,F=>(r(),C(_,{key:F.xid,value:F.xid},{default:a(()=>[i(s(F.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"]),t(g,{onOnAddSuccess:e.paymentModeAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("payments.amount"),name:"amount",help:e.rules.amount?e.rules.amount.message:null,validateStatus:e.rules.amount?"error":null,class:"required"},{default:a(()=>[t(b,{prefix:e.appSetting.currency.symbol,value:e.formData.amount,"onUpdate:value":l[2]||(l[2]=F=>e.formData.amount=F),placeholder:e.$t("common.placeholder_default_text",[e.$t("payments.amount")])},null,8,["prefix","value","placeholder"]),w("small",fr,[i(s(e.$t("common.max_amount"))+" ",1),e.addEditType=="edit"?(r(),S("span",gr,s(e.formatAmountCurrency(e.data.due_amount+e.editItemAmount)),1)):(r(),S("span",yr,s(e.formatAmountCurrency(e.data.due_amount)),1))])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("payments.notes"),name:"notes",help:e.rules.notes?e.rules.notes.message:null,validateStatus:e.rules.notes?"error":null},{default:a(()=>[t(v,{value:e.formData.notes,"onUpdate:value":l[3]||(l[3]=F=>e.formData.notes=F),placeholder:e.$t("payments.notes"),rows:5},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const br=W(pr,[["render",hr]]);const vr={props:["selectedItem"],components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,LeftOutlined:In,UserInfo:He,AddEdit:br,PaymentStatus:ut,OrderStatus:ta},setup(e,{emit:l}){const{initPaymentData:c,orderPaymentsColumns:n,orderItemDetailsColumns:h}=ea(),{formatAmountCurrency:y,permsArray:u,formatDate:d,formatDateTime:m}=J(),{t:p}=te(),_=T(!1),f=T("add"),g=T("order-payments"),b=T({}),v=T({}),k=T(0),$=u.value.includes("order_payments_view")||u.value.includes("admin")?"payments":"order_items",A=T($),O=pe(()=>f.value=="add"?p("payments.add"):p("payments.edit")),F=pe(()=>f.value=="add"?p("payments.created"):p("payments.updated"));return{onClose:()=>{l("goBack")},formatDate:d,formatDateTime:m,formatAmountCurrency:y,orderPaymentsColumns:n,orderItemDetailsColumns:h,activeKey:A,addEditSuccess:L=>{l("reloadOrder"),f.value=="add"&&(b.value={order_id:e.selectedItem.xid,date:void 0,payment_mode_id:void 0,amount:"",notes:""}),_.value=!1},formData:b,addEditVisible:_,addItem:()=>{g.value="order-payments",f.value="add",b.value={...c,order_id:e.selectedItem.xid},_.value=!0,k.value=0},onCloseAddEdit:()=>{b.value={...c,order_id:e.selectedItem.xid},_.value=!1,k.value=0},addEditUrl:g,addEditType:f,viewData:v,permsArray:u,editItemAmount:k,pageTitle:O,successMessage:F}}},kr={class:"order-details"},wr={class:"table-responsive"},Cr={class:"table-responsive"};function Sr(e,l,c,n,h,y){const u=o("AddEdit"),d=o("a-descriptions-item"),m=o("OrderStatus"),p=o("PaymentStatus"),_=o("a-descriptions"),f=o("a-col"),g=o("a-row"),b=o("EditOutlined"),v=o("a-button"),k=o("DeleteOutlined"),$=o("a-table"),A=o("a-tab-pane"),O=o("a-avatar"),F=o("a-badge"),P=o("a-tabs");return r(),S("div",null,[t(u,{addEditType:n.addEditType,visible:n.addEditVisible,url:n.addEditUrl,onAddEditSuccess:n.addEditSuccess,onClosed:n.onCloseAddEdit,formData:n.formData,data:c.selectedItem,editItemAmount:n.editItemAmount,pageTitle:n.pageTitle,successMessage:n.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","editItemAmount","pageTitle","successMessage"]),w("div",kr,[t(g,{class:"mt-10"},{default:a(()=>[t(f,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(_,{title:null,layout:"vertical",contentStyle:{fontWeight:500,marginBottom:"20px"}},{default:a(()=>[t(d,{label:e.$t("stock.order_date")},{default:a(()=>[i(s(n.formatDateTime(c.selectedItem.order_date)),1)]),_:1},8,["label"]),t(d,{label:e.$t("stock.invoice_number")},{default:a(()=>[i(s(c.selectedItem.invoice_number),1)]),_:1},8,["label"]),c.selectedItem.user&&c.selectedItem.user.name?(r(),C(d,{key:0,label:c.selectedItem.order_type=="purchases"||c.selectedItem.order_type=="purchase-returns"?e.$t("stock.supplier"):e.$t("stock.customer")},{default:a(()=>[i(s(c.selectedItem.user.name),1)]),_:1},8,["label"])):D("",!0),c.selectedItem.order_type=="stock-transfers"&&c.selectedItem.warehouse&&c.selectedItem.warehouse.name?(r(),C(d,{key:1,label:e.$t("stock_transfer.to_warehouse")},{default:a(()=>[i(s(c.selectedItem.warehouse.name),1)]),_:1},8,["label"])):D("",!0),c.selectedItem.from_warehouse&&c.selectedItem.from_warehouse.name?(r(),C(d,{key:2,label:e.$t("stock_transfer.from_warehouse")},{default:a(()=>[i(s(c.selectedItem.from_warehouse.name),1)]),_:1},8,["label"])):D("",!0),t(d,{label:e.$t("stock.status")},{default:a(()=>[t(m,{data:c.selectedItem},null,8,["data"])]),_:1},8,["label"]),t(d,{label:e.$t("payments.payment_status")},{default:a(()=>[t(p,{paymentStatus:c.selectedItem.payment_status},null,8,["paymentStatus"])]),_:1},8,["label"]),t(d,{label:e.$t("stock.order_taken_by")},{default:a(()=>[i(s(c.selectedItem.staff_member&&c.selectedItem.staff_member.name?c.selectedItem.staff_member.name:"-"),1)]),_:1},8,["label"]),t(d,{label:e.$t("payments.total_amount")},{default:a(()=>[i(s(n.formatAmountCurrency(c.selectedItem.total)),1)]),_:1},8,["label"]),t(d,{label:e.$t("payments.paid_amount")},{default:a(()=>[i(s(n.formatAmountCurrency(c.selectedItem.paid_amount)),1)]),_:1},8,["label"]),t(d,{label:e.$t("payments.due_amount")},{default:a(()=>[i(s(n.formatAmountCurrency(c.selectedItem.due_amount)),1)]),_:1},8,["label"]),t(d,{label:e.$t("stock.discount")},{default:a(()=>[i(s(n.formatAmountCurrency(c.selectedItem.discount)),1)]),_:1},8,["label"]),t(d,{label:e.$t("stock.shipping")},{default:a(()=>[i(s(n.formatAmountCurrency(c.selectedItem.shipping)),1)]),_:1},8,["label"]),t(d,{label:e.$t("stock.order_tax")},{default:a(()=>[i(s(c.selectedItem.tax_rate>0?`${c.selectedItem.tax_rate}%`:"-"),1)]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),t(g,null,{default:a(()=>[t(f,{span:24},{default:a(()=>[t(P,{activeKey:n.activeKey,"onUpdate:activeKey":l[0]||(l[0]=E=>n.activeKey=E)},{default:a(()=>[n.permsArray.includes("order_payments_view")||n.permsArray.includes("admin")?(r(),C(A,{key:"payments",tab:e.$t("payments.payments")},{default:a(()=>[t(g,null,{default:a(()=>[t(f,{span:24},{default:a(()=>[w("div",wr,[t($,{"row-key":E=>E.xid,columns:n.orderPaymentsColumns,"data-source":c.selectedItem.order_payments,pagination:!1},{bodyCell:a(({column:E,record:U})=>[E.dataIndex==="date"?(r(),S(I,{key:0},[i(s(n.formatDate(U.payment.date)),1)],64)):D("",!0),E.dataIndex==="amount"?(r(),S(I,{key:1},[i(s(n.formatAmountCurrency(U.amount)),1)],64)):D("",!0),E.dataIndex==="payment_mode_id"?(r(),S(I,{key:2},[i(s(U.payment.payment_mode.name),1)],64)):D("",!0),E.dataIndex==="action"?(r(),S(I,{key:3},[n.permsArray.includes("order_payments_edit")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:R=>e.editItem(U),style:{"margin-left":"4px"}},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("order_payments_delete")||n.permsArray.includes("admin")?(r(),C(v,{key:1,type:"primary",onClick:R=>e.showDeleteConfirm(U.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-key","columns","data-source"])])]),_:1})]),_:1})]),_:1},8,["tab"])):D("",!0),t(A,{key:"order_items",tab:e.$t("product.order_items")},{default:a(()=>[t(g,null,{default:a(()=>[t(f,{span:24},{default:a(()=>[w("div",Cr,[t($,{"row-key":E=>E.xid,columns:n.orderItemDetailsColumns,"data-source":c.selectedItem.items,pagination:!1},{bodyCell:a(({column:E,record:U})=>[E.dataIndex==="product_id"?(r(),C(F,{key:0},{default:a(()=>[t(O,{shape:"square",src:U.product.image_url},null,8,["src"]),i(" "+s(U.product.name),1)]),_:2},1024)):D("",!0),E.dataIndex==="single_unit_price"?(r(),S(I,{key:1},[i(s(n.formatAmountCurrency(U.single_unit_price)),1)],64)):D("",!0),E.dataIndex==="total_discount"?(r(),S(I,{key:2},[i(s(n.formatAmountCurrency(U.total_discount)),1)],64)):D("",!0),E.dataIndex==="total_tax"?(r(),S(I,{key:3},[i(s(n.formatAmountCurrency(U.total_tax)),1)],64)):D("",!0),E.dataIndex==="subtotal"?(r(),S(I,{key:4},[i(s(n.formatAmountCurrency(U.subtotal)),1)],64)):D("",!0)]),_:1},8,["row-key","columns","data-source"])])]),_:1})]),_:1})]),_:1},8,["tab"])]),_:1},8,["activeKey"])]),_:1})]),_:1})])])}const _a=W(vr,[["render",Sr]]);const $r=Z({props:["visible","order"],emits:["close","restSelectedItem","reloadOrder"],components:{PaymentStatus:ut,Details:_a,PlusOutlined:ne,DownloadOutlined:Ct},setup(e,{emit:l}){const{formatAmountCurrency:c,permsArray:n,invoiceBaseUrl:h,selectedWarehouse:y}=J();te();const u=T(null),d=()=>{l("close")},m=()=>{l("goBack")},p=()=>{l("reloadOrder")},_=()=>{};return{detailsRef:u,formatAmountCurrency:c,invoiceBaseUrl:h,permsArray:n,selectedWarehouse:y,onClose:d,restSelectedItem:m,paymentSuccess:p,drawerWidth:window.innerWidth<=991?"90%":"60%",downloadInvoice:_}}}),Ar={style:{width:"50%"}},Dr={key:0};function Tr(e,l,c,n,h,y){const u=o("PaymentStatus"),d=o("a-page-header"),m=o("a-progress"),p=o("a-breadcrumb"),_=o("PlusOutlined"),f=o("a-button"),g=o("DownloadOutlined"),b=o("a-typography-link"),v=o("a-space"),k=o("Details"),$=o("a-drawer");return r(),C($,{width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},maskClosable:!1,onClose:e.onClose},{title:a(()=>[t(d,{style:{padding:"0px"}},{title:a(()=>[i(" #"+s(e.order.invoice_number)+" ",1),t(u,{paymentStatus:e.order.payment_status},null,8,["paymentStatus"])]),_:1}),t(p,null,{default:a(()=>[w("div",Ar,[t(m,{percent:parseFloat(parseFloat(parseFloat(e.order.paid_amount)/parseFloat(e.order.total)*100).toFixed(2))},null,8,["percent"])])]),_:1})]),extra:a(()=>[t(v,null,{default:a(()=>[(e.permsArray.includes("order_payments_create")||e.permsArray.includes("admin"))&&e.order.payment_status!="paid"&&e.order.order_type!="stock-transfers"&&e.detailsRef?(r(),C(f,{key:0,type:"primary",onClick:e.detailsRef.addItem},{default:a(()=>[t(_),i(" "+s(e.$t("payments.add")),1)]),_:1},8,["onClick"])):(e.permsArray.includes("order_payments_create")||e.permsArray.includes("admin"))&&e.order.payment_status!="paid"&&e.order.order_type=="stock-transfers"&&e.order.from_warehouse&&e.order.from_warehouse.xid&&e.order.from_warehouse.xid==e.selectedWarehouse.xid&&e.detailsRef?(r(),C(f,{key:1,type:"primary",onClick:e.detailsRef.addItem},{default:a(()=>[t(_),i(" "+s(e.$t("payments.add")),1)]),_:1},8,["onClick"])):D("",!0),t(b,{href:`${e.invoiceBaseUrl}/${e.order.unique_id}`,target:"_blank"},{default:a(()=>[t(f,{type:"primary"},{default:a(()=>[t(g),i(" "+s(e.$t("sales.invoice")),1)]),_:1})]),_:1},8,["href"])]),_:1})]),default:a(()=>[e.order&&e.order.xid?(r(),S("div",Dr,[t(k,{ref:"detailsRef",selectedItem:e.order,onGoBack:e.restSelectedItem,onReloadOrder:e.paymentSuccess},null,8,["selectedItem","onGoBack","onReloadOrder"])])):D("",!0)]),_:1},8,["width","open","onClose"])}const Er=W($r,[["render",Tr]]),Or=Z({props:["data","visible"],emits:["confirmSuccess","closed"],components:{LoadingOutlined:Ie,CheckOutlined:bt},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{t:y}=te(),u=T([{title:y("product.product"),dataIndex:"product_id"},{title:y("product.quantity"),dataIndex:"quantity"},{title:y("stock_adjustment.current_stock"),dataIndex:"current_stock"}]);return{rules:h,loading:n,onClose:()=>{h.value={},l("closed")},onSubmit:()=>{c({url:`online-orders/confirm/${e.data.unique_id}`,data:{},successMessage:y("online_orders.order_confirmed"),success:p=>{l("closed"),l("confirmSuccess")}})},confirmOrderTableColumns:u}}});function Ir(e,l,c,n,h,y){const u=o("a-typography-text"),d=o("a-table"),m=o("a-col"),p=o("a-row"),_=o("a-form"),f=o("CheckOutlined"),g=o("a-button"),b=o("a-modal");return r(),C(b,{open:e.visible,closable:!1,centered:!0,title:e.$t("online_orders.update_orders_status"),onOk:e.onSubmit},{footer:a(()=>[t(g,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(f)]),default:a(()=>[i(" "+s(e.$t("common.confirm")),1)]),_:1},8,["loading","onClick"]),t(g,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(_,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{columns:e.confirmOrderTableColumns,"data-source":e.data.items,"row-key":v=>v.id,pagination:!1},{bodyCell:a(({column:v,record:k})=>[v.dataIndex==="product_id"?(r(),S(I,{key:0},[i(s(k.product.name),1)],64)):D("",!0),v.dataIndex==="quantity"?(r(),S(I,{key:1},[i(s(`${k.quantity} ${k.product.unit.short_name}`),1)],64)):D("",!0),v.dataIndex==="current_stock"?(r(),S(I,{key:2},[k.product.details.current_stock<k.quantity?(r(),C(u,{key:0,type:"danger",strong:""},{default:a(()=>[i(s(`${k.product.details.current_stock} ${k.product.unit.short_name}`),1)]),_:2},1024)):k.product.details.current_stock>=k.quantity?(r(),C(u,{key:1,type:"success",strong:""},{default:a(()=>[i(s(`${k.product.details.current_stock} ${k.product.unit.short_name}`),1)]),_:2},1024)):D("",!0)],64)):D("",!0)]),_:1},8,["columns","data-source","row-key"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const Pr=W(Or,[["render",Ir]]),St=()=>{const e=Ge(),l=ke(),c=pe(()=>l.getters["front/storeCartItems"]),{formatAmountUsingCurrencyObject:n}=J(),h=l.state.auth.appSetting,y=l.state.auth.user,{t:u}=te(),d=T(e.params.type),m=pe(()=>l.state.front.warehouseCurrency),p=pe(()=>window.config.frontStoreWarehouse),_=pe(()=>l.state.front.appSetting),f={enabled:"success",disabled:"error"},g=[{key:"enabled",value:u("common.enabled")},{key:"disabled",value:u("common.disabled")}],b=[{key:"inclusive",value:u("product.inclusive")},{key:"exclusive",value:u("product.exclusive")}],v=X=>X&&X>moment().endOf("day"),k=X=>parseFloat(parseFloat(X).toFixed(2)),$=X=>n(X,m.value),A=X=>{var j="";return we(X,(oe,M)=>{oe!=null&&(j+=`${M} eq "${oe}" and `)}),j.length>0&&(j=j.substring(0,j.length-4)),j},O=X=>checkUserPermission(X,y),F=X=>{l.commit("auth/updatePageTitle",u(`menu.${X}`))},P=pe(()=>{const X=[l.state.auth.user.role.name];return we(l.state.auth.user.role.perms,j=>{X.push(j.name)}),X}),E=pe(()=>{var X={};return d.value=="purchases"?X={type:"purchases",langKey:"purchase",menuKey:"purchases",userType:"suppliers"}:d.value=="sales"?X={type:"sales",langKey:"sales",menuKey:"sales",userType:"customers"}:d.value=="purchase-returns"?X={type:"purchase-returns",langKey:"purchase_returns",menuKey:"purchase_returns",userType:"suppliers"}:d.value=="sales-returns"&&(X={type:"sales-returns",langKey:"sales_returns",menuKey:"sales_returns",userType:"customers"}),X}),U=X=>{const j=X.replace("-","_");return u(`menu.${j}`)},R=[{key:"pending",value:u("common.pending")},{key:"paid",value:u("common.paid")},{key:"cancelled",value:u("common.cancelled")}],L=[{key:"pending",value:u("common.pending")},{key:"paid",value:u("common.paid")},{key:"cancelled",value:u("common.cancelled")}],K=[{key:"received",value:u("common.received")},{key:"pending",value:u("common.pending")},{key:"ordered",value:u("common.ordered")}],V=[{key:"completed",value:u("common.completed")},{key:"pending",value:u("common.pending")}],q=[{key:"ordered",value:u("common.ordered")},{key:"confirmed",value:u("common.confirmed")},{key:"processing",value:u("common.processing")},{key:"shipping",value:u("common.shipping")},{key:"delivered",value:u("common.delivered")}],B=[{key:"received",value:u("common.received")},{key:"pending",value:u("common.pending")}],Y=[{key:"CODE128",value:"CODE128"},{key:"CODE39",value:"CODE39"}],N=(X,j=null)=>{const oe=[],M=[];return X.data.map(ae=>{(j==null||j!=null&&ae.parent_id!=j)&&M.push({id:ae.id,parent_id:ae.parent_id,title:ae.name,value:ae.id})}),M.forEach(ae=>{if(!ae.parent_id)return oe.push(ae);const ie=M.findIndex(re=>re.id===ae.parent_id);if(!M[ie].children)return M[ie].children=[ae];M[ie].children.push(ae)}),oe},le=(X,j)=>j.props.title.toLowerCase().includes(X.toLowerCase()),H=pe(()=>{let X=0;return we(c.value,j=>{X+=j.cart_quantity*j.details.sales_price}),X});return{appSetting:h,user:y,checkPermission:O,permsArray:P,statusColors:f,userStatus:g,taxTypes:b,barcodeSymbology:Y,disabledDate:v,formatAmount:k,formatAmountCurrency:$,calculateFilterString:A,updatePageTitle:F,orderType:d,orderPageObject:E,orderStatus:R,paymentStatus:L,purchaseOrderStatus:K,salesOrderStatus:q,purchaseReturnStatus:V,salesReturnStatus:B,getRecursiveCategories:N,filterTreeNode:le,getOrderTypeFromstring:U,products:c,total:H,updateCart:()=>{l.commit("front/addCartItems",c.value)},removeItem:X=>{const j=Xe(c.value,oe=>oe.xid!=X);l.commit("front/addCartItems",j)},frontAppSetting:_,warehouseCurrency:m,frontWarehouse:p}},Ur=Z({props:["orderStatus"],setup(e){const{salesOrderStatus:l}=J(),{orderStatus:c}=e,n=T(0);return x(()=>{var h=ll(l,["key",c]);n.value=h+1}),{current:n,salesOrderStatus:l}}});function Fr(e,l,c,n,h,y){const u=o("a-step"),d=o("a-steps");return r(),C(d,{current:e.current,status:"wait"},{default:a(()=>[(r(!0),S(I,null,Q(e.salesOrderStatus,m=>(r(),C(u,{key:m.key,title:m.value},null,8,["title"]))),128))]),_:1},8,["current"])}const eo=W(Ur,[["render",Fr]]);const qr=Z({props:{order:{default:{}},detailView:{default:"front"}},components:{OrderStatus:eo,PaymentStatus:ut,StopOutlined:Zt,OrderStatusTag:ta},setup(e,{emit:l}){const c=St(),n=J(),h=ke(),y=pe(()=>h.state.front.warehouseCurrency);return{columns:[{title:"#",dataIndex:"id"},{title:"Product",dataIndex:"product_id"},{title:"Quantity",dataIndex:"quantity"},{title:"Price",dataIndex:"unit_price"},{title:"Total",dataIndex:"subtotal"}],formatAmountCurrency:m=>e.detailView=="admin"?n.formatAmountCurrency(m):c.formatAmountCurrency(m),buildAddress:Ta,warehouseCurrency:y}}}),Mr={key:0},Rr={key:1},Kr={class:"item-desc mt-40"},Vr={class:"mt-20 pl-15"},zr={class:"pd-10"},Lr={class:"item-total pd-10"};function Br(e,l,c,n,h,y){const u=o("stop-outlined"),d=o("a-alert"),m=o("order-status"),p=o("a-descriptions-item"),_=o("PaymentStatus"),f=o("OrderStatusTag"),g=o("a-descriptions"),b=o("a-avatar"),v=o("a-list-item-meta"),k=o("a-list-item"),$=o("a-table"),A=o("a-col"),O=o("a-row");return r(),S(I,null,[e.order.cancelled?(r(),S("div",Mr,[t(d,{message:e.$t("online_orders.order_cancelled"),description:e.$t("online_orders.order_cancelled_message"),type:"error","show-icon":""},{icon:a(()=>[t(u)]),_:1},8,["message","description"])])):(r(),S("div",Rr,[t(m,{orderStatus:e.order.order_status},null,8,["orderStatus"])])),w("div",Kr,[w("span",null,s(e.$t("online_orders.order_summary")),1)]),w("div",Vr,[t(g,{title:null,column:2,labelStyle:{fontWeight:"bold"}},{default:a(()=>[t(p,{label:e.$t("stock.order_id")},{default:a(()=>[i(s(e.order.invoice_number),1)]),_:1},8,["label"]),t(p,{label:e.$t("common.total")},{default:a(()=>[i(s(e.formatAmountCurrency(e.order.total)),1)]),_:1},8,["label"]),t(p,{label:e.$t("user.name")},{default:a(()=>[i(s(e.order.shipping_address.name),1)]),_:1},8,["label"]),t(p,{label:e.$t("user.email")},{default:a(()=>[i(s(e.order.shipping_address.email),1)]),_:1},8,["label"]),t(p,{label:e.$t("user.phone")},{default:a(()=>[i(s(e.order.shipping_address.phone),1)]),_:1},8,["label"]),t(p,{label:e.$t("payments.payment_status")},{default:a(()=>[t(_,{paymentStatus:e.order.payment_status},null,8,["paymentStatus"])]),_:1},8,["label"]),t(p,{label:e.$t("stock.status")},{default:a(()=>[t(f,{data:e.order},null,8,["data"])]),_:1},8,["label"]),t(p,{label:e.$t("stock.shipping_address")},{default:a(()=>[i(s(e.order.shipping_address.shipping_address),1)]),_:1},8,["label"]),t(p,{label:e.$t("stock.billing_address")},{default:a(()=>[i(s(e.order.shipping_address.address),1)]),_:1},8,["label"])]),_:1})]),t(O,{class:"mt-20"},{default:a(()=>[t(A,{span:24},{default:a(()=>[t($,{columns:e.columns,"row-key":F=>F.id,"data-source":e.order.items,pagination:!1},{bodyCell:a(({index:F,column:P,record:E})=>[P.dataIndex==="id"?(r(),S(I,{key:0},[i(s(F+1),1)],64)):D("",!0),P.dataIndex==="product_id"?(r(),C(k,{key:1},{default:a(()=>[t(v,null,{avatar:a(()=>[t(b,{src:E.product.image_url,size:"large",shape:"square"},null,8,["src"])]),title:a(()=>[i(s(E.product.name),1)]),_:2},1024)]),_:2},1024)):D("",!0),P.dataIndex==="unit_price"?(r(),S(I,{key:2},[i(s(e.formatAmountCurrency(E.unit_price)),1)],64)):D("",!0),P.dataIndex==="subtotal"?(r(),S(I,{key:3},[i(s(e.formatAmountCurrency(E.subtotal)),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source"])]),_:1})]),_:1}),t(O,{class:"mt-30"},{default:a(()=>[t(A,{span:18}),t(A,{span:6},{default:a(()=>[w("div",zr,[t(O,null,{default:a(()=>[t(A,{span:12},{default:a(()=>[i(s(e.$t("product.subtotal")),1)]),_:1}),t(A,{span:12,class:"text-right"},{default:a(()=>[i(s(e.formatAmountCurrency(e.order.subtotal)),1)]),_:1})]),_:1}),t(O,{class:"mt-10"},{default:a(()=>[t(A,{span:12},{default:a(()=>[i(s(e.$t("product.discount")),1)]),_:1}),t(A,{span:12,class:"text-right"},{default:a(()=>[i(s(e.formatAmountCurrency(e.order.discount)),1)]),_:1})]),_:1}),t(O,{class:"mt-10"},{default:a(()=>[t(A,{span:12},{default:a(()=>[i(s(e.$t("stock.order_tax")),1)]),_:1}),t(A,{span:12,class:"text-right"},{default:a(()=>[i(s(e.formatAmountCurrency(e.order.tax_amount)),1)]),_:1})]),_:1}),t(O,{class:"mt-10"},{default:a(()=>[t(A,{span:12},{default:a(()=>[i(s(e.$t("stock.shipping")),1)]),_:1}),t(A,{span:12,class:"text-right"},{default:a(()=>[i(s(e.formatAmountCurrency(e.order.shipping)),1)]),_:1})]),_:1})]),w("div",Lr,[t(O,{class:"mt-10"},{default:a(()=>[t(A,{span:12},{default:a(()=>[i(s(e.$t("stock.grand_total")),1)]),_:1}),t(A,{span:12,class:"text-right"},{default:a(()=>[i(s(e.formatAmountCurrency(e.order.total)),1)]),_:1})]),_:1})])]),_:1})]),_:1})],64)}const to=W(qr,[["render",Br]]),Wr=Z({props:["order","visible"],emits:["closed"],components:{OrderDetails:to},setup(e,{emit:l}){return{onClose:()=>{l("closed")}}}});function jr(e,l,c,n,h,y){const u=o("OrderDetails"),d=o("a-modal");return r(),C(d,{open:e.visible,centered:!0,title:e.$t("online_orders.update_orders_status"),onCancel:e.onClose,width:"70%",footer:!1},{default:a(()=>[t(u,{order:e.order,detailView:"admin"},null,8,["order"])]),_:1},8,["open","title","onCancel"])}const Hr=W(Wr,[["render",jr]]),Nr={props:{selectable:{default:!1},tableSize:{default:"large"},bordered:{default:!1},orderType:{default:""},filters:{default:{}},perPageItems:Number},emits:["onRowSelection"],components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,MoreOutlined:Pn,DownloadOutlined:Ct,ExclamationCircleOutlined:Ae,SisternodeOutlined:sl,CheckOutlined:bt,StopOutlined:Zt,SendOutlined:Un,Details:_a,UserInfo:He,Details:_a,PaymentStatus:ut,OrderStatus:ta,OrderDetails:Er,ConfirmOrder:Pr,ViewOrder:Hr},setup(e,{emit:l}){const c=ke(),{columns:n,hashableColumns:h,setupTableColumns:y,filterableColumns:u,pageObject:d,orderType:m,orderStatus:p,orderItemDetailsColumns:_}=ea(),f=je(),{formatAmountCurrency:g,invoiceBaseUrl:b,permsArray:v,calculateOrderFilterString:k,formatDate:$,selectedWarehouse:A,selectedLang:O,orderStatusColors:F}=J();Ge();const{t:P}=te(),E=T(!1),U=T({}),R=T(!1),L=T(!1),K=T({});x(()=>{q()});const V=ue=>{var _e=!1;return(ue.order_type=="stock-transfers"&&e.filters.transfer_type=="transfered"&&(v.value.includes(`${d.value.permission}_delete`)||v.value.includes("admin"))&&ue.payment_status=="unpaid"||ue.order_type!="online-orders"&&(v.value.includes(`${d.value.permission}_delete`)||v.value.includes("admin"))&&ue.payment_status=="unpaid")&&(_e=!0),{disabled:!_e,name:ue.xid}},q=()=>{m.value=e.orderType,e.perPageItems&&(f.table.pagination.pageSize=e.perPageItems),f.table.pagination.current=1,f.table.pagination.currentPage=1,f.hashable.value=h,y(),B()},B=()=>{const ue=e.filters,_e=k(ue);var Fe={};ue.dates&&(Fe.dates=ue.dates),ue.transfer_type&&(Fe.transfer_type=ue.transfer_type),f.tableUrl.value={url:`${e.orderType}?fields=id,xid,unique_id,warehouse_id,x_warehouse_id,warehouse{id,xid,name},from_warehouse_id,x_from_warehouse_id,fromWarehouse{id,xid,name},invoice_number,order_type,order_date,tax_amount,discount,shipping,subtotal,paid_amount,due_amount,order_status,payment_status,total,tax_rate,staff_user_id,x_staff_user_id,staffMember{id,xid,name,profile_image,profile_image_url,user_type},user_id,x_user_id,user{id,xid,user_type,name,profile_image,profile_image_url,phone},orderPayments{id,xid,amount,payment_id,x_payment_id},orderPayments:payment{id,xid,amount,payment_mode_id,x_payment_mode_id,date,notes},orderPayments:payment:paymentMode{id,xid,name},items{id,xid,product_id,x_product_id,single_unit_price,unit_price,quantity,tax_rate,total_tax,tax_type,total_discount,subtotal},items:product{id,xid,name,image,image_url,unit_id,x_unit_id},items:product:unit{id,xid,name,short_name},items:product:details{id,xid,warehouse_id,x_warehouse_id,product_id,x_product_id,current_stock},items:orderItemTaxes{id,xid,order_item_id,order_item_id,tax_name,tax_amount},cancelled,terms_condition,shippingAddress{id,xid,order_id,name,email,phone,address,shipping_address,city,state,country,zipcode}`,filterString:_e,filters:{user_id:ue.user_id?ue.user_id:void 0,warehouse_id:ue.warehouse_id?ue.warehouse_id:void 0},extraFilters:Fe},f.table.filterableColumns=u,ue.searchColumn&&ue.searchString&&ue.searchString!=""?(f.table.searchColumn=ue.searchColumn,f.table.searchString=ue.searchString):(f.table.searchColumn=void 0,f.table.searchString=""),f.fetch({page:f.table.pagination.currentPage})},Y=ue=>{qe.confirm({title:P("common.delete")+"?",icon:t(Ae),content:P(`${d.value.langKey}.delete_message`),centered:!0,okText:P("common.yes"),okType:"danger",cancelText:P("common.no"),onOk(){axiosAdmin.delete(`${e.orderType}/${ue}`).then(()=>{le(),B(),Ee.success({message:P("common.success"),description:P(`${d.value.langKey}.deleted`)})})},onCancel(){}})},N=()=>{qe.confirm({title:P("common.delete")+"?",icon:t(Ae),content:P(`${d.value.langKey}.selected_delete_message`),centered:!0,okText:P("common.yes"),okType:"danger",cancelText:P("common.no"),onOk(){const ue=[];we(f.table.selectedRowKeys,_e=>{ue.push(axiosAdmin.delete(`${e.orderType}/${_e}`))}),Promise.all(ue).then(_e=>{le(),be(),B(),Ee.success({message:P("common.success"),description:P(`${d.value.langKey}.deleted`),placement:"bottomRight"})})},onCancel(){}})},le=()=>{c.dispatch("auth/updateVisibleSubscriptionModules")},H=ue=>{U.value=ue,E.value=!0},G=()=>{U.value={}},z=()=>{f.fetch({page:f.currentPage.value,success:ue=>{const _e=Qe(ue,Fe=>Fe.xid==U.value.xid);_e!=null&&(U.value=_e)}})},X=()=>{E.value=!1},j=ue=>{K.value=ue,R.value=!0},oe=ue=>{K.value=ue,L.value=!0},M=ue=>{processRequest({url:`online-orders/change-status/${ue.unique_id}`,data:{order_status:ue.order_status},success:_e=>{Ee.success({placement:"bottomRight",message:P("common.success"),description:P("online_orders.order_status_changed")})},error:_e=>{}})},ae=ue=>{qe.confirm({title:P("quotation.convert_to_sale")+"?",icon:t(Ae),content:P("quotation.convert_message"),centered:!0,okText:P("common.yes"),okType:"danger",cancelText:P("common.no"),onOk(){axiosAdmin.post(`quotations/convert-to-sale/${ue.unique_id}`).then(()=>{f.fetch(),Ee.success({placement:"bottomRight",message:P("common.success"),description:P("quotation.quotation_converted_to_sales")})})},onCancel(){}})},ie=ue=>{qe.confirm({title:P("online_orders.cancel_order")+"?",icon:t(Ae),content:P("online_orders.cancel_message"),centered:!0,okText:P("common.yes"),okType:"danger",cancelText:P("common.no"),onOk(){axiosAdmin.post(`online-orders/cancel/${ue.unique_id}`).then(()=>{q(),Ee.success({message:P("common.success"),description:P("online_orders.order_cancelled"),placement:"bottomRight"})})},onCancel(){}})},re=ue=>{qe.confirm({title:P("common.delivered")+"?",icon:t(Ae),content:P("online_orders.deliver_message"),centered:!0,okText:P("common.yes"),okType:"danger",cancelText:P("common.no"),onOk(){axiosAdmin.post(`online-orders/delivered/${ue.unique_id}`).then(()=>{q(),Ee.success({message:P("common.success"),description:P("online_orders.order_delivered"),placement:"bottomRight"})})},onCancel(){}})},be=()=>{f.table.selectedRowKeys=[],l("onRowSelection",[])};return me(e,(ue,_e)=>{be(),q(),G()}),me(A,(ue,_e)=>{be(),f.table.pagination.current=1,B()}),{columns:n,...f,filterableColumns:u,pageObject:d,formatDate:$,orderStatus:p,orderStatusColors:F,setUrlData:B,formatAmountCurrency:g,invoiceBaseUrl:b,permsArray:v,selectedItem:U,viewItem:H,restSelectedItem:G,paymentSuccess:z,showDeleteConfirm:Y,showSelectedDeleteConfirm:N,detailsDrawerVisible:E,onDetailDrawerClose:X,orderItemDetailsColumns:_,selectedLang:O,initialSetup:q,convertToSale:ae,confirmOrder:j,cancelOrder:ie,viewOrder:oe,confirmDelivery:re,changeOrderStatus:M,confirmModalVisible:R,viewModalVisible:L,modalData:K,getCheckboxProps:V}}},Yr={class:"table-responsive"},Gr={key:0},Jr={key:0},Qr=w("br",null,null,-1),Xr={key:1};function Zr(e,l,c,n,h,y){const u=o("user-info"),d=o("PaymentStatus"),m=o("OrderStatus"),p=o("EyeOutlined"),_=o("a-button"),f=o("a-tooltip"),g=o("CheckOutlined"),b=o("SendOutlined"),v=o("StopOutlined"),k=o("a-space"),$=o("MoreOutlined"),A=o("a-menu-item"),O=o("EditOutlined"),F=o("DeleteOutlined"),P=o("DownloadOutlined"),E=o("a-typography-link"),U=o("a-menu"),R=o("a-dropdown"),L=o("SisternodeOutlined"),K=o("a-avatar"),V=o("a-badge"),q=o("a-table"),B=o("a-col"),Y=o("a-row"),N=o("OrderDetails"),le=o("ConfirmOrder"),H=o("ViewOrder");return r(),S(I,null,[t(Y,null,{default:a(()=>[t(B,{span:24},{default:a(()=>[w("div",Yr,[t(q,{"row-selection":c.selectable&&c.orderType!="online-orders"?{selectedRowKeys:e.table.selectedRowKeys,onChange:(G,z)=>{e.onRowSelectChange(G),e.$emit("onRowSelection",G)},getCheckboxProps:n.getCheckboxProps}:null,columns:n.columns,"row-key":G=>G.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:c.bordered,size:c.tableSize},{bodyCell:a(({column:G,record:z})=>[G.dataIndex==="order_date"?(r(),S(I,{key:0},[i(s(n.formatDate(z.order_date)),1)],64)):D("",!0),G.dataIndex==="warehouse"?(r(),S(I,{key:1},[z.warehouse&&z.warehouse.xid?(r(),S("span",Gr,s(z.warehouse.name),1)):D("",!0)],64)):D("",!0),G.dataIndex==="user_id"?(r(),C(u,{key:2,user:z.user},null,8,["user"])):D("",!0),G.dataIndex==="paid_amount"?(r(),S(I,{key:3},[i(s(n.formatAmountCurrency(z.paid_amount)),1)],64)):D("",!0),G.dataIndex==="total_amount"?(r(),S(I,{key:4},[i(s(n.formatAmountCurrency(z.total)),1)],64)):D("",!0),G.dataIndex==="payment_status"?(r(),C(d,{key:5,paymentStatus:z.payment_status},null,8,["paymentStatus"])):D("",!0),G.dataIndex==="order_status"?(r(),C(m,{key:6,data:z},null,8,["data"])):D("",!0),G.dataIndex==="action"?(r(),S(I,{key:7},[z.order_type=="online-orders"&&z.order_status!="delivered"&&!z.cancelled?(r(),C(k,{key:0},{default:a(()=>[t(f,{placement:"topLeft",title:e.$t("stock.view_order")},{default:a(()=>[t(_,{type:"primary",onClick:X=>n.viewOrder(z)},{icon:a(()=>[t(p)]),_:2},1032,["onClick"])]),_:2},1032,["title"]),z.order_status=="ordered"&&!z.cancelled?(r(),C(f,{key:0,placement:"topLeft",title:e.$t("common.confirm")},{default:a(()=>[t(_,{type:"primary",onClick:X=>n.confirmOrder(z)},{icon:a(()=>[t(g)]),_:2},1032,["onClick"])]),_:2},1032,["title"])):D("",!0),!z.cancelled&&z.order_status!="ordered"&&z.order_status!="delivered"?(r(),C(f,{key:1,placement:"topLeft",title:e.$t("online_orders.confirm_delivery")},{default:a(()=>[t(_,{type:"primary",onClick:X=>n.confirmDelivery(z)},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])]),_:2},1032,["title"])):D("",!0),!z.cancelled&&z.order_status!="delivered"?(r(),C(f,{key:2,placement:"topLeft",title:e.$t("common.cancel")},{default:a(()=>[t(_,{type:"primary",onClick:X=>n.cancelOrder(z),danger:""},{icon:a(()=>[t(v)]),_:2},1032,["onClick"])]),_:2},1032,["title"])):D("",!0)]),_:2},1024)):z.order_type=="stock-transfers"?(r(),C(R,{key:1,placement:"bottomRight"},{overlay:a(()=>[t(U,null,{default:a(()=>[n.permsArray.includes(`${n.pageObject.permission}_view`)||n.permsArray.includes("admin")?(r(),C(A,{key:"view",onClick:X=>n.viewItem(z)},{default:a(()=>[t(p),i(" "+s(e.$t("common.view")),1)]),_:2},1032,["onClick"])):D("",!0),c.filters.transfer_type=="transfered"&&(n.permsArray.includes(`${n.pageObject.permission}_edit`)||n.permsArray.includes("admin"))?(r(),C(A,{key:"edit",onClick:()=>e.$router.push({name:`admin.stock.${n.pageObject.type}.edit`,params:{id:z.xid}})},{default:a(()=>[t(O),i(" "+s(e.$t("common.edit")),1)]),_:2},1032,["onClick"])):D("",!0),c.filters.transfer_type=="transfered"&&(n.permsArray.includes(`${n.pageObject.permission}_delete`)||n.permsArray.includes("admin"))&&z.payment_status=="unpaid"?(r(),C(A,{key:"delete",onClick:X=>n.showDeleteConfirm(z.xid)},{default:a(()=>[t(F),i(" "+s(e.$t("common.delete")),1)]),_:2},1032,["onClick"])):D("",!0),t(A,{key:"download"},{default:a(()=>[t(E,{href:`${n.invoiceBaseUrl}/${z.unique_id}/${n.selectedLang}`,target:"_blank"},{default:a(()=>[t(P),i(" "+s(e.$t("common.download")),1)]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024)]),default:a(()=>[t($)]),_:2},1024)):(r(),C(R,{key:2,placement:"bottomRight"},{overlay:a(()=>[t(U,null,{default:a(()=>[(n.permsArray.includes(`${n.pageObject.permission}_view`)||n.permsArray.includes("admin"))&&z.order_type=="quotations"?(r(),C(A,{key:"view",onClick:X=>n.convertToSale(z)},{default:a(()=>[t(L),i(" "+s(e.$t("quotation.convert_to_sale")),1)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes(`${n.pageObject.permission}_view`)||n.permsArray.includes("admin")?(r(),C(A,{key:"view",onClick:X=>n.viewItem(z)},{default:a(()=>[t(p),i(" "+s(e.$t("common.view")),1)]),_:2},1032,["onClick"])):D("",!0),z.order_type!="online-orders"&&(n.permsArray.includes(`${n.pageObject.permission}_edit`)||n.permsArray.includes("admin"))?(r(),C(A,{key:"edit",onClick:()=>e.$router.push({name:`admin.stock.${n.pageObject.type}.edit`,params:{id:z.xid}})},{default:a(()=>[t(O),i(" "+s(e.$t("common.edit")),1)]),_:2},1032,["onClick"])):D("",!0),z.order_type!="online-orders"&&(n.permsArray.includes(`${n.pageObject.permission}_delete`)||n.permsArray.includes("admin"))&&z.payment_status=="unpaid"?(r(),C(A,{key:"delete",onClick:X=>n.showDeleteConfirm(z.xid)},{default:a(()=>[t(F),i(" "+s(e.$t("common.delete")),1)]),_:2},1032,["onClick"])):D("",!0),t(A,{key:"download"},{default:a(()=>[t(E,{href:`${n.invoiceBaseUrl}/${z.unique_id}/${n.selectedLang}`,target:"_blank"},{default:a(()=>[t(P),i(" "+s(e.$t("common.download")),1)]),_:2},1032,["href"])]),_:2},1024)]),_:2},1024)]),default:a(()=>[t($)]),_:2},1024))],64)):D("",!0)]),expandedRowRender:a(G=>[G&&G.record&&G.record.items?(r(),C(q,{key:0,"row-key":z=>z.xid,columns:n.orderItemDetailsColumns,"data-source":G.record.items,pagination:!1},{bodyCell:a(({column:z,record:X})=>[z.dataIndex==="product_id"?(r(),C(V,{key:0},{default:a(()=>[t(K,{shape:"square",src:X.product.image_url},null,8,["src"]),i(" "+s(X.product.name),1)]),_:2},1024)):D("",!0),z.dataIndex==="quantity"?(r(),S(I,{key:1},[i(s(`${X.quantity} ${X.product.unit.short_name}`),1)],64)):D("",!0),z.dataIndex==="single_unit_price"?(r(),S(I,{key:2},[i(s(n.formatAmountCurrency(X.single_unit_price)),1)],64)):D("",!0),z.dataIndex==="total_discount"?(r(),S(I,{key:3},[i(s(n.formatAmountCurrency(X.total_discount)),1)],64)):D("",!0),z.dataIndex==="total_tax"?(r(),S(I,{key:4},[X.order_item_taxes.length>0?(r(),S("span",Jr,[(r(!0),S(I,null,Q(X.order_item_taxes,j=>(r(),S("span",{key:j.xid},[w("span",null,s(j.tax_name)+" : "+s(n.formatAmountCurrency(j.tax_amount)),1),Qr]))),128))])):(r(),S("span",Xr,s(n.formatAmountCurrency(X.total_tax)),1))],64)):D("",!0),z.dataIndex==="subtotal"?(r(),S(I,{key:5},[i(s(n.formatAmountCurrency(X.subtotal)),1)],64)):D("",!0)]),_:2},1032,["row-key","columns","data-source"])):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange","bordered","size"])])]),_:1})]),_:1}),t(N,{visible:n.detailsDrawerVisible,order:n.selectedItem,onClose:n.onDetailDrawerClose,onGoBack:n.restSelectedItem,onReloadOrder:n.paymentSuccess},null,8,["visible","order","onClose","onGoBack","onReloadOrder"]),t(le,{visible:n.confirmModalVisible,data:n.modalData,onClosed:l[0]||(l[0]=G=>n.confirmModalVisible=!1),onConfirmSuccess:n.initialSetup},null,8,["visible","data","onConfirmSuccess"]),t(H,{visible:n.viewModalVisible,order:n.modalData,onClosed:l[1]||(l[1]=G=>n.viewModalVisible=!1)},null,8,["visible","order"])],64)}const Yt=W(Nr,[["render",Zr]]),xr=Z({props:{dateRange:{default:[]},formatType:{default:"YYYY-MM-DD HH:mm:ss"}},emits:["dateTimeChanged"],setup(e,{emit:l}){const c=T([]),{appSetting:n,dayjs:h}=J();return x(()=>{e.dateRange&&e.dateRange.length>0&&(c.value=[h(e.dateRange[0]),h(e.dateRange[1])])}),{appSetting:n,dateRangeValue:c,dateTimeChanged:d=>{d?l("dateTimeChanged",[d[0].tz(n.value.timezone).startOf("day").utc().format(e.formatType),d[1].tz(n.value.timezone).endOf("day").utc().format(e.formatType)]):l("dateTimeChanged",[])},resetPicker:()=>{c.value=[]}}}});function ed(e,l,c,n,h,y){const u=o("a-range-picker");return r(),C(u,{value:e.dateRangeValue,"onUpdate:value":l[0]||(l[0]=d=>e.dateRangeValue=d),format:e.appSetting.date_format,placeholder:[e.$t("common.start_date"),e.$t("common.end_date")],style:{width:"100%"},onChange:e.dateTimeChanged},null,8,["value","format","placeholder","onChange"])}const tt=W(xr,[["render",ed]]),td=Z({components:{SyncOutlined:vt,CloudDownloadOutlined:fa},setup(){const{appSetting:e,appType:l}=J(),c=window.config.app_version,n=T("fetching"),h=T([]);return x(()=>{e.value.update_app_notification&&l=="non-saas"&&axiosAdmin(Pe("update-app")).then(y=>{st.post("https://envato.codeifly.com/product",{verified_name:window.config.product_name,domain:"demo.stockifly.in"}).then(u=>{h.value=u.data,console.log(h.value),h.value.product.version!=c?n.value="update_available":n.value="success"})})}),{appSetting:e,productStatus:n,product:h,appType:l}}});function ad(e,l,c,n,h,y){return o("CloudDownloadOutlined"),o("a-button"),o("a-alert"),o("a-col"),o("a-row"),D("",!0)}const nd=W(td,[["render",ad]]),od=Z({setup(){return{}}}),ld={class:"breadcrumb-header"};function sd(e,l,c,n,h,y){const u=o("a-col"),d=o("a-row"),m=o("a-card");return r(),S("div",ld,[t(m,{class:"page-content-sub-header breadcrumb-left-border"},{default:a(()=>[t(d,null,{default:a(()=>[t(u,{span:24},{default:a(()=>[de(e.$slots,"header",{key:"header"})]),_:3}),t(u,{span:24},{default:a(()=>[de(e.$slots,"breadcrumb",{key:"breadcrumb"})]),_:3})]),_:3})]),_:3})])}const ge=W(od,[["render",sd]]);const rd={components:{EyeOutlined:Ze,ArrowUpOutlined:ga,ArrowDownOutlined:ya,DoubleRightOutlined:Fn,StateWidget:Zn,TopProducts:Fs,PurchaseSales:Rs,PaymentsChart:zs,OrderTable:Yt,UserInfo:He,Tiimeline:xs,LineChartOutlined:rl,BankOutlined:qn,ShoppingOutlined:It,TagOutlined:dl,DateRangePicker:tt,UpdateAppAlert:nd,AdminPageHeader:ge},setup(){const{t:e}=te(),{formatQuantity:l,formatAmountCurrency:c,appSetting:n,user:h,permsArray:y,selectedWarehouse:u}=J(),d=T(""),m=Se({dates:[]}),p=T([]),_=Ge(),f=[{title:e("product.product"),dataIndex:"product_name"},{title:e("product.quantity"),dataIndex:"current_stock"},{title:e("product.quantitiy_alert"),dataIndex:"stock_quantitiy_alert"}],g=[{title:e("stock.customer"),dataIndex:"customer_id"},{title:e("payments.total_amount"),dataIndex:"total_amount"}];return x(()=>{const b=axiosAdmin.post("dashboard",m);y.value.includes("purchases_view")?d.value="purchases":y.value.includes("purchase_returns_view")?d.value="purchase-returns":y.value.includes("sales_returns_view")?d.value="sales-returns":d.value="sales",_.params&&_.params.success&&Ee.success({message:e("common.welcome_back",[h.value.name]),description:e("messages.login_success_dashboard"),placement:"topRight"}),Promise.all([b]).then(([v])=>{p.value=v.data})}),me([m,u],(b,v)=>{axiosAdmin.post("dashboard",m).then(k=>{p.value=k.data})}),{filters:m,activeOrderType:d,responseData:p,stockQuantityColumns:f,topCustomerColumns:g,formatQuantity:l,formatAmountCurrency:c,permsArray:y,appSetting:n}}},dd={class:"dashboard-page-content-container"},id={class:"mt-30 mb-20"},ud={key:0},md={key:0},cd={key:0},pd={key:0},_d=w("br",null,null,-1);function fd(e,l,c,n,h,y){const u=o("a-page-header"),d=o("AdminPageHeader"),m=o("UpdateAppAlert"),p=o("DateRangePicker"),_=o("a-col"),f=o("a-row"),g=o("LineChartOutlined"),b=o("StateWidget"),v=o("ShoppingOutlined"),k=o("TagOutlined"),$=o("BankOutlined"),A=o("TopProducts"),O=o("a-card"),F=o("PurchaseSales"),P=o("DoubleRightOutlined"),E=o("a-button"),U=o("a-tab-pane"),R=o("a-tabs"),L=o("a-statistic"),K=o("OrderTable"),V=o("PaymentsChart"),q=o("a-table"),B=o("user-info");return r(),S(I,null,[t(d,null,{header:a(()=>[t(u,{title:e.$t("menu.dashboard"),style:{padding:"0px"}},null,8,["title"])]),_:1}),w("div",dd,[t(m),t(f,{gutter:[8,8],class:"mt-30 mb-10"},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(p,{ref:"serachDateRangePicker",onDateTimeChanged:l[0]||(l[0]=Y=>n.filters.dates=Y)},null,512)]),_:1}),t(_,{xs:24,sm:24,md:12,lg:18,xl:18,style:{display:"flex","justify-content":"space-around","align-items":"center"}},{default:a(()=>[w("div",null,[i("Stock Purchase Value: "),w("strong",null,s(n.responseData.stockPurchaseValue),1)]),w("div",null,[i("Stock Sales Value: "),w("strong",null,s(n.responseData.stockSalesValue),1)])]),_:1})]),_:1}),w("div",id,[t(f,{gutter:[15,15]},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(b,null,{image:a(()=>[t(g,{style:{color:"#fff","font-size":"24px"}})]),description:a(()=>[n.responseData.stateData?(r(),S("h2",ud,s(n.formatAmountCurrency(n.responseData.stateData.totalSales)),1)):D("",!0),w("p",null,s(e.$t("dashboard.total_sales")),1)]),_:1})]),_:1}),t(_,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(b,null,{image:a(()=>[t(v,{style:{color:"#fff","font-size":"24px"}})]),description:a(()=>[n.responseData.stateData?(r(),S("h2",md,s(n.formatAmountCurrency(n.responseData.stateData.totalExpenses)),1)):D("",!0),w("p",null,s(e.$t("dashboard.total_expenses")),1)]),_:1})]),_:1}),t(_,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(b,null,{image:a(()=>[t(k,{style:{color:"#fff","font-size":"24px"}})]),description:a(()=>[n.responseData.stateData?(r(),S("h2",cd,s(n.formatAmountCurrency(n.responseData.stateData.paymentSent)),1)):D("",!0),w("p",null,s(e.$t("dashboard.payment_sent")),1)]),_:1})]),_:1}),t(_,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(b,null,{image:a(()=>[t($,{style:{color:"#fff","font-size":"24px"}})]),description:a(()=>[n.responseData.stateData?(r(),S("h2",pd,s(n.formatAmountCurrency(n.responseData.stateData.paymentReceived)),1)):D("",!0),w("p",null,s(e.$t("dashboard.payment_received")),1)]),_:1})]),_:1})]),_:1})]),t(f,{gutter:[18,18],class:"mt-30 mb-20"},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(O,{title:e.$t("dashboard.top_selling_product")},{default:a(()=>[t(A,{data:n.responseData},null,8,["data"])]),_:1},8,["title"])]),_:1}),t(_,{xs:24,sm:24,md:12,lg:18,xl:18},{default:a(()=>[t(O,{title:e.$t("dashboard.sales_purchases")},We({default:a(()=>[t(F,{data:n.responseData},null,8,["data"])]),_:2},[n.permsArray.includes("sales_view")||n.permsArray.includes("admin")?{name:"extra",fn:a(()=>[t(E,{class:"mt-10",type:"link",onClick:l[1]||(l[1]=Y=>e.$router.push({name:"admin.stock.sales.index"}))},{default:a(()=>[i(s(e.$t("common.view_all"))+" ",1),t(P)]),_:1})]),key:"0"}:void 0]),1032,["title"])]),_:1})]),_:1}),(n.permsArray.includes("purchases_view")||n.permsArray.includes("sales_view")||n.permsArray.includes("purchase_returns_view")||n.permsArray.includes("sales_returns_view")||n.permsArray.includes("admin"))&&n.activeOrderType!=""?(r(),C(f,{key:0,class:"mt-30 mb-20"},{default:a(()=>[t(_,{span:24},{default:a(()=>[t(O,{title:e.$t("dashboard.recent_stock_history"),bodyStyle:{paddingTop:"0px"}},{extra:a(()=>[t(R,{activeKey:n.activeOrderType,"onUpdate:activeKey":l[2]||(l[2]=Y=>n.activeOrderType=Y)},{default:a(()=>[n.permsArray.includes("sales_view")||n.permsArray.includes("admin")?(r(),C(U,{key:"sales",tab:e.$t("menu.sales")},null,8,["tab"])):D("",!0),n.permsArray.includes("purchases_view")||n.permsArray.includes("admin")?(r(),C(U,{key:"purchases",tab:e.$t("menu.purchases")},null,8,["tab"])):D("",!0),n.permsArray.includes("purchase_returns_view")||n.permsArray.includes("admin")?(r(),C(U,{key:"purchase-returns",tab:e.$t("menu.purchase_returns")},null,8,["tab"])):D("",!0),n.permsArray.includes("sales_returns_view")||n.permsArray.includes("admin")?(r(),C(U,{key:"sales-returns",tab:e.$t("menu.sales_returns")},null,8,["tab"])):D("",!0)]),_:1},8,["activeKey"])]),default:a(()=>[t(f,null,{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:6,xl:6,class:"col-border-right pt-30"},{default:a(()=>[n.responseData.stockHistoryStatsData?(r(),C(f,{key:0,style:Be(n.appSetting.rtl?{marginLeft:"24px"}:{marginRight:"24px"}),class:"stock-history-stats"},{default:a(()=>[t(_,{span:24,class:"sales mb-20"},{default:a(()=>[t(L,{title:e.$t("dashboard.total_sales_items"),value:n.formatQuantity(n.responseData.stockHistoryStatsData.totalSales)},null,8,["title","value"])]),_:1}),t(_,{span:24,class:"sales-returns mb-20"},{default:a(()=>[t(L,{title:e.$t("dashboard.total_sales_returns_items"),value:n.formatQuantity(n.responseData.stockHistoryStatsData.totalSalesReturn)},null,8,["title","value"])]),_:1}),t(_,{span:24,class:"purchases mb-20"},{default:a(()=>[t(L,{title:e.$t("dashboard.total_purchases_items"),value:n.formatQuantity(n.responseData.stockHistoryStatsData.totalPurchases)},null,8,["title","value"])]),_:1}),t(_,{span:24,class:"purchase-returns mb-20"},{default:a(()=>[t(L,{title:e.$t("dashboard.total_purchase_returns_items"),value:n.formatQuantity(n.responseData.stockHistoryStatsData.totalPurchaseReturn)},null,8,["title","value"])]),_:1})]),_:1},8,["style"])):D("",!0)]),_:1}),t(_,{xs:24,sm:24,md:12,lg:18,xl:18},{default:a(()=>[t(K,{orderType:n.activeOrderType,filters:n.filters,perPageItems:5},null,8,["orderType","filters"])]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})]),_:1})):D("",!0),t(f,{gutter:[18,18],class:"mt-30 mb-20"},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24,xl:24},{default:a(()=>[t(O,{title:e.$t("payments.payments")},We({default:a(()=>[t(V,{data:n.responseData},null,8,["data"])]),_:2},[n.permsArray.includes("order_payments_view")||n.permsArray.includes("admin")?{name:"extra",fn:a(()=>[t(E,{class:"mt-10",type:"link",onClick:l[3]||(l[3]=Y=>e.$router.push({name:"admin.reports.payments.index"}))},{default:a(()=>[i(s(e.$t("common.view_all"))+" ",1),t(P)]),_:1})]),key:"0"}:void 0]),1032,["title"])]),_:1})]),_:1}),t(f,{gutter:[18,18],class:"mt-30 mb-20"},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:16,xl:16},{default:a(()=>[n.responseData&&n.responseData.stockAlerts?(r(),C(O,{key:0,title:e.$t("menu.stock_alert"),bodyStyle:{padding:"0px"}},We({default:a(()=>[t(q,{columns:n.stockQuantityColumns,"row-key":Y=>Y.xid,"data-source":n.responseData.stockAlerts,pagination:!1},{bodyCell:a(({column:Y,record:N})=>[Y.dataIndex==="current_stock"?(r(),S(I,{key:0},[i(s(`${N.current_stock} ${N.short_name}`),1)],64)):D("",!0),Y.dataIndex==="stock_quantitiy_alert"?(r(),S(I,{key:1},[i(s(`${N.stock_quantitiy_alert} ${N.short_name}`),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source"])]),_:2},[n.permsArray.includes("warehouses_view")||n.permsArray.includes("admin")?{name:"extra",fn:a(()=>[t(E,{class:"mt-10",type:"link",onClick:l[4]||(l[4]=Y=>e.$router.push({name:"admin.reports.stock.index"}))},{default:a(()=>[i(s(e.$t("common.view_all"))+" ",1),t(P)]),_:1})]),key:"0"}:void 0]),1032,["title"])):D("",!0)]),_:1}),t(_,{xs:24,sm:24,md:12,lg:8,xl:8},{default:a(()=>[n.responseData&&n.responseData.topCustomers?(r(),C(O,{key:0,title:e.$t("dashboard.top_customers"),bodyStyle:{padding:"0px"}},We({default:a(()=>[t(q,{columns:n.topCustomerColumns,"row-key":Y=>Y.customer_id,"data-source":n.responseData.topCustomers,pagination:!1},{bodyCell:a(({column:Y,record:N})=>[Y.dataIndex=="customer_id"?(r(),C(B,{key:0,user:N.customer},null,8,["user"])):D("",!0),Y.dataIndex=="total_amount"?(r(),S(I,{key:1},[i(s(n.formatAmountCurrency(N.total_amount))+" ",1),_d,i(" "+s(e.$t("dashboard.total_sales"))+" : "+s(N.total_sales),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source"])]),_:2},[n.permsArray.includes("users_view")||n.permsArray.includes("admin")?{name:"extra",fn:a(()=>[t(E,{class:"mt-10",type:"link",onClick:l[5]||(l[5]=Y=>e.$router.push({name:"admin.reports.users.index"}))},{default:a(()=>[i(s(e.$t("common.view_all"))+" ",1),t(P)]),_:1})]),key:"0"}:void 0]),1032,["title"])):D("",!0)]),_:1})]),_:1})])],64)}const gd=W(rd,[["render",fd]]),yd=[{path:"/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"/admin/dashboard",component:gd,name:"admin.dashboard.index",meta:{requireAuth:!0,menuParent:"dashboard",menuKey:e=>"dashboard"}}]}],ao=()=>{const e="brands",{t:l}=te(),c={name:"",slug:"",image:void 0,image_url:void 0},n=[{title:l("brand.name"),dataIndex:"name"},{title:l("brand.logo"),dataIndex:"image_url"},{title:l("common.action"),dataIndex:"action"}],h=[{key:"name",value:l("brand.name")}];return{addEditUrl:e,initData:c,columns:n,filterableColumns:h}},Ke=()=>{const{table:e,tableUrl:l,hashable:c,currentPage:n,handleTableChange:h,fetch:y,onTableSearch:u,onRowSelectChange:d,exportDetails:m}=je(),p=T(!1),_=T({}),f=T(""),g=T(""),b=T({}),v=T([]),k=T({}),$=T(!1),A=T("add"),O=T(""),F=T({}),{t:P}=te(),E=ke(),U=M=>{p.value=!0,_.value=M},R=()=>{O.value=f.value,A.value="add",$.value=!0,_.value={}},L=()=>{z(),$.value=!1},K=()=>{p.value=!1,_.value={}},V=M=>{const ae={};var ie=k.value;Object.keys(b.value).forEach(re=>{if(il(ie,re)){const be=ie[re];ae[re]=ul(M,be)}else et(v.value,re)?ae[re]=M[`x_${re}`]:ae[re]=M[re]}),ae._method="PUT",F.value=ae,_.value=M,O.value=`${f.value}/${M.xid}`,A.value="edit",$.value=!0},q=()=>{E.dispatch("auth/updateVisibleSubscriptionModules")},B=M=>{le(M,"add-edit")},Y=M=>{le(M,"add-new")},N=M=>{le(M,"add-continue")},le=(M,ae="add-edit")=>{if(A.value=="add"){const ie={...e.pagination};ie.current=1,n.value=1,e.pagination=ie}q(),(ae=="add-edit"||ae=="add-new")&&z(),y({page:A.value=="add"?1:n.value,limit:10}),ae=="add-edit"&&($.value=!1)},H=M=>{qe.confirm({title:P("common.delete")+"?",icon:t(Ae),content:P(`${g.value}.delete_message`),centered:!0,okText:P("common.yes"),okType:"danger",cancelText:P("common.no"),onOk(){return axiosAdmin.delete(`${f.value}/${M}`).then(ae=>{q(),y({page:n.value}),Ee.success({message:P("common.success"),description:P(`${g.value}.deleted`),placement:"bottomRight"})}).catch(()=>{})},onCancel(){}})},G=()=>{qe.confirm({title:P("common.delete")+"?",icon:t(Ae),content:P(`${g.value}.selected_delete_message`),centered:!0,okText:P("common.yes"),okType:"danger",cancelText:P("common.no"),onOk(){const M=[];we(e.selectedRowKeys,ae=>{M.push(axiosAdmin.delete(`${f.value}/${ae}`))}),Promise.all(M).then(ae=>{q(),y({page:n.value}),Ee.success({message:P("common.success"),description:P(`${g.value}.deleted`),placement:"bottomRight"})})},onCancel(){}})},z=()=>{F.value={...b.value}},X=M=>{F.value={...F.value,...M}},j=pe(()=>g.value!=""?A.value=="add"?P(`${g.value}.add`):P(`${g.value}.edit`):""),oe=pe(()=>g.value!=""?A.value=="add"?P(`${g.value}.created`):P(`${g.value}.updated`):"");return me(v,(M,ae)=>{c.value=M}),{detailsVisible:p,viewData:_,onCloseDetails:K,addEditVisible:$,addEditType:A,addEditUrl:O,currentPage:n,formData:F,initData:b,crudUrl:f,langKey:g,hashableColumns:v,multiDimensalObjectColumns:k,pageTitle:j,successMessage:oe,viewItem:U,addItem:R,editItem:V,onCloseAddEdit:L,showDeleteConfirm:H,addEditSuccess:B,addAndNewSuccess:Y,addAndContinueSuccess:N,restFormData:z,assignNewFormData:X,showSelectedDeleteConfirm:G,table:e,tableUrl:l,handleTableChange:h,fetch:y,onTableSearch:u,onRowSelectChange:d,exportDetails:m}};const hd=Z({props:{formData:null,folder:String,imageField:{default:"image",type:String},url:{default:"upload-file",type:String}},components:{LoadingOutlined:Ie,PlusOutlined:ne},setup(e,{emit:l}){const c=T([]),n=T(!1),{t:h}=te();return{fileList:c,loading:n,customRequest:u=>{const d=new FormData;d.append("image",u.file),d.append("folder",e.folder),n.value=!0,axiosAdmin.post(e.url,d,{headers:{"Content-Type":"multipart/form-data"}}).then(m=>{c.value=[],n.value=!1,l("onFileUploaded",{file:m.data.file,file_url:m.data.file_url})}).catch(()=>{n.value=!1,Oe.error(h("messages.uploading_failed"))})}}}}),bd={key:0},vd=["src"],kd={key:1},wd={class:"ant-upload-text"};function Cd(e,l,c,n,h,y){const u=o("loading-outlined"),d=o("plus-outlined"),m=o("a-upload");return r(),C(m,{accept:"image/*","file-list":e.fileList,"onUpdate:fileList":l[0]||(l[0]=p=>e.fileList=p),name:"image","list-type":"picture-card",class:"avatar-uploader","show-upload-list":!1,customRequest:e.customRequest},{default:a(()=>[e.formData[e.imageField]!=null?(r(),S("div",bd,[w("img",{style:{width:"128px"},src:e.formData[`${e.imageField}_url`],alt:"avatar"},null,8,vd)])):(r(),S("div",kd,[e.loading?(r(),C(u,{key:0})):(r(),C(d,{key:1})),w("div",wd,s(e.$t("common.upload")),1)]))]),_:1},8,["file-list","customRequest"])}const ot=W(hd,[["render",Cd]]),Sd=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,Upload:ot},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{slugify:y}=J();return{loading:n,rules:h,onClose:()=>{h.value={},l("closed")},onSubmit:()=>{c({url:e.url,data:e.formData,successMessage:e.successMessage,success:m=>{l("addEditSuccess",m.xid)}})},slugify:y,drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function $d(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("Upload"),f=o("a-form"),g=o("SaveOutlined"),b=o("a-button"),v=o("a-modal");return r(),C(v,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(b,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(g)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(b,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(f,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("brand.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=k=>e.formData.name=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("brand.name")]),onKeyup:l[1]||(l[1]=k=>e.formData.slug=e.slugify(k.target.value))},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("brand.slug"),name:"slug",help:e.rules.slug?e.rules.slug.message:null,validateStatus:e.rules.slug?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.slug,"onUpdate:value":l[2]||(l[2]=k=>e.formData.slug=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("brand.slug")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("brand.logo"),name:"logo",help:e.rules.logo?e.rules.logo.message:null,validateStatus:e.rules.logo?"error":null},{default:a(()=>[t(_,{formData:e.formData,folder:"brand",onOnFileUploaded:l[3]||(l[3]=k=>{e.formData.image=k.file,e.formData.image_url=k.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const no=W(Sd,[["render",$d]]),Ad=Z({props:{acceptFormat:{default:"image/*,.pdf",type:String},formData:null,folder:String,uploadField:{default:"file",type:String}},components:{UploadOutlined:Mn,DownloadOutlined:Ct,DeleteOutlined:fe},setup(e,{emit:l}){const c=T([]),n=T(!1),{t:h}=te();return{fileList:c,loading:n,customRequest:u=>{const d=new FormData;d.append("file",u.file),d.append("folder",e.folder),n.value=!0,axiosAdmin.post("upload-file",d,{headers:{"Content-Type":"multipart/form-data"}}).then(m=>{c.value=[],n.value=!1,l("onFileUploaded",{file:m.data.file,file_url:m.data.file_url})}).catch(m=>{n.value=!1;var p=h("messages.uploading_failed");m.status==422&&(m.data&&m.data.error&&m.data.error.details&&m.data.error.details.file[0]||m.data&&m.data.error&&m.data.error.details&&m.data.error.details.image[0])&&(p=m.data.error.details.file[0]),Oe.error(p)})}}}}),Dd={key:0},Td={key:1};function Ed(e,l,c,n,h,y){const u=o("UploadOutlined"),d=o("a-button"),m=o("a-upload"),p=o("DownloadOutlined"),_=o("a-tag"),f=o("a-typography-link"),g=o("DeleteOutlined");return e.formData[e.uploadField]==null?(r(),S("div",Dd,[t(m,{accept:e.acceptFormat,"file-list":e.fileList,"onUpdate:fileList":l[0]||(l[0]=b=>e.fileList=b),name:"file",customRequest:e.customRequest},{default:a(()=>[t(d,{loading:e.loading},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.upload")),1)]),_:1},8,["loading"])]),_:1},8,["accept","file-list","customRequest"])])):(r(),S("div",Td,[t(f,{href:e.formData[`${e.uploadField}_url`],target:"_blank"},{default:a(()=>[t(_,{color:"success"},{icon:a(()=>[t(p)]),default:a(()=>[i(" "+s(e.$t("common.download")),1)]),_:1})]),_:1},8,["href"]),t(f,{onClick:l[1]||(l[1]=()=>{e.formData[e.uploadField]=void 0,e.formData[`${e.uploadField}_url`]=void 0})},{default:a(()=>[t(_,{color:"error"},{icon:a(()=>[t(g)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1})]),_:1})]))}const oo=W(Ad,[["render",Ed]]),Od=Z({props:["pageTitle","sampleFileUrl","importUrl"],emits:["onUploadSuccess"],components:{CloudDownloadOutlined:fa,UploadFile:oo,UploadOutlined:Mn},setup(e,{emit:l}){const{addEditFileRequestAdmin:c,loading:n,rules:h}=ve(),{t:y}=te(),u=T([]),d=T(!1),m=g=>(u.value=[...u.value,g],!1),p=()=>{const g={};u&&u.value&&u.value[0]!=null&&(g.file=u.value[0]),n.value=!0,c({url:e.importUrl,data:g,successMessage:y("messages.imported_successfully"),success:b=>{f(),l("onUploadSuccess")}})},_=()=>{d.value=!0},f=g=>{u.value=[],d.value=!1};return{fileList:u,rules:h,loading:n,visible:d,showModal:_,handleCancel:f,importItems:p,beforeUpload:m}}});function Id(e,l,c,n,h,y){const u=o("CloudDownloadOutlined"),d=o("a-button"),m=o("a-typography-link"),p=o("a-typography-paragraph"),_=o("a-col"),f=o("a-row"),g=o("UploadOutlined"),b=o("a-upload"),v=o("a-form-item"),k=o("a-form"),$=o("a-modal");return r(),S("div",null,[t(d,{type:"primary",onClick:e.showModal},{default:a(()=>[t(u),i(" "+s(e.pageTitle),1)]),_:1},8,["onClick"]),t($,{open:e.visible,"onUpdate:open":l[1]||(l[1]=A=>e.visible=A),title:e.pageTitle},{footer:a(()=>[t(d,{type:"primary",loading:e.loading,onClick:e.importItems},{default:a(()=>[i(s(e.$t("common.import")),1)]),_:1},8,["loading","onClick"]),t(d,{key:"back",onClick:e.handleCancel},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(f,{gutter:16,class:"mb-10"},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(p,null,{default:a(()=>[w("ul",null,[w("li",null,[t(m,{href:e.sampleFileUrl,target:"_blank"},{default:a(()=>[i(s(e.$t("messages.click_here_to_download_sample_file")),1)]),_:1},8,["href"])])])]),_:1})]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{layout:"vertical"},{default:a(()=>[t(v,{label:e.$t("common.file"),name:"file",help:e.rules.file?e.rules.file.message:null,validateStatus:e.rules.file?"error":null},{default:a(()=>[t(b,{accept:".xlsx,.csv","file-list":e.fileList,"onUpdate:fileList":l[0]||(l[0]=A=>e.fileList=A),name:"file","before-upload":e.beforeUpload,maxCount:1},{default:a(()=>[t(d,{loading:e.loading},{icon:a(()=>[t(g)]),default:a(()=>[i(" "+s(e.$t("common.upload")),1)]),_:1},8,["loading"])]),_:1},8,["accept","file-list","before-upload"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title"])])}const Ft=W(Od,[["render",Id]]),Pd={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:no,AdminPageHeader:ge,ImportBrands:Ft},setup(){const{addEditUrl:e,initData:l,columns:c,filterableColumns:n}=ao(),h=Ke(),{permsArray:y}=J(),u=window.config.brand_sample_file;x(()=>{d()});const d=()=>{h.tableUrl.value={url:"brands?fields=id,xid,name,slug,image,image_url"},h.table.filterableColumns=n,h.fetch({page:1}),h.crudUrl.value=e,h.langKey.value="brand",h.initData.value={...l},h.formData.value={...l}};return{columns:c,filterableColumns:n,permsArray:y,...h,sampleFileUrl:u,setUrlData:d}}},Ud={class:"table-responsive"};function Fd(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("ImportBrands"),v=o("a-space"),k=o("DeleteOutlined"),$=o("a-col"),A=o("a-select-option"),O=o("a-select"),F=o("a-input-search"),P=o("a-input-group"),E=o("a-row"),U=o("admin-page-filters"),R=o("AddEdit"),L=o("a-image"),K=o("EditOutlined"),V=o("a-table"),q=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.brands"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.product_manager")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.brands")),1)]),_:1})]),_:1})]),_:1}),t(U,null,{default:a(()=>[t(E,{gutter:[16,16]},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[n.permsArray.includes("brands_create")||n.permsArray.includes("admin")?(r(),C(v,{key:0},{default:a(()=>[t(g,{type:"primary",onClick:e.addItem},{default:a(()=>[t(f),i(" "+s(e.$t("brand.add")),1)]),_:1},8,["onClick"]),t(b,{pageTitle:e.$t("brand.import_brands"),sampleFileUrl:n.sampleFileUrl,importUrl:"brands/import",onOnUploadSuccess:n.setUrlData},null,8,["pageTitle","sampleFileUrl","onOnUploadSuccess"])]),_:1})):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("brands_delete")||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t($,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(E,{gutter:[16,16],justify:"end"},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:12,xl:8},{default:a(()=>[t(P,{compact:""},{default:a(()=>[t(O,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=B=>e.table.searchColumn=B),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,B=>(r(),C(A,{key:B.key},{default:a(()=>[i(s(B.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(F,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=B=>e.table.searchString=B),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(q,null,{default:a(()=>[t(R,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(E,null,{default:a(()=>[t($,{span:24},{default:a(()=>[w("div",Ud,[t(V,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:B=>({disabled:!1,name:B.xid})},columns:n.columns,"row-key":B=>B.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:B,text:Y,record:N})=>[B.dataIndex==="image_url"?(r(),C(L,{key:0,width:32,src:Y},null,8,["src"])):D("",!0),B.dataIndex==="action"?(r(),S(I,{key:1},[n.permsArray.includes("brands_edit")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:le=>e.editItem(N),style:{"margin-left":"4px"}},{icon:a(()=>[t(K)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("brands_delete")||n.permsArray.includes("admin")?(r(),C(g,{key:1,type:"primary",onClick:le=>e.showDeleteConfirm(N.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const qd=W(Pd,[["render",Fd]]),lo=()=>{const e="categories",{t:l}=te(),c=["parent_id"],n={name:"",slug:"",image:void 0,image_url:void 0,parent_id:null},h=[{title:l("category.name"),dataIndex:"name"},{title:l("category.logo"),dataIndex:"image_url"},{title:l("common.action"),dataIndex:"action"}];return{hashableColumns:c,addEditUrl:e,initData:n,columns:h}},Md=Z({props:["formData","data","visible","url","addEditType"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,Upload:ot},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{getRecursiveCategories:y,slugify:u}=J(),{t:d}=te(),m=T([]),p=(b=null)=>{var v="categories?fields=id,xid,name,parent_id,x_parent_id&limit=10000";b!=null&&(v+=`&filters=id ne ${b}&hashable=${b}`),axiosAdmin.get(v).then(k=>{m.value=y(k,b)})},_=pe(()=>e.addEditType=="add"?d("category.add"):d("category.edit")),f=()=>{var b={parent_id:null,...e.formData};const v=e.addEditType=="add"?d("category.created"):d("category.updated");c({url:e.url,data:b,successMessage:v,success:k=>{p(),l("addEditSuccess",k.xid)}})},g=()=>{h.value={},l("closed")};return me(e,(b,v)=>{b.addEditType=="add"?p():p(b.data.xid)}),{loading:n,rules:h,onClose:g,onSubmit:f,pageTitle:_,allCategories:m,slugify:u}}}),Rd={class:"small-text-message"};function Kd(e,l,c,n,h,y){const u=o("a-tree-select"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-input"),f=o("Upload"),g=o("a-form"),b=o("SaveOutlined"),v=o("a-button"),k=o("a-modal");return r(),C(k,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(v,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(v,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(g,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("category.parent_category"),name:"parent_id",help:e.rules.parent_id?e.rules.parent_id.message:null,validateStatus:e.rules.parent_id?"error":null},{default:a(()=>[t(u,{value:e.formData.parent_id,"onUpdate:value":l[0]||(l[0]=$=>e.formData.parent_id=$),"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:e.$t("common.select_default_text",[e.$t("category.category")]),"tree-data":e.allCategories,"allow-clear":"","tree-default-expand-all":""},null,8,["value","placeholder","tree-data"]),w("small",Rd,s(e.$t("messages.leave_blank_to_create_parent_category")),1)]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("category.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(_,{value:e.formData.name,"onUpdate:value":l[1]||(l[1]=$=>e.formData.name=$),placeholder:e.$t("common.placeholder_default_text",[e.$t("category.name")]),onKeyup:l[2]||(l[2]=$=>e.formData.slug=e.slugify($.target.value))},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("category.slug"),name:"slug",help:e.rules.slug?e.rules.slug.message:null,validateStatus:e.rules.slug?"error":null,class:"required"},{default:a(()=>[t(_,{value:e.formData.slug,"onUpdate:value":l[3]||(l[3]=$=>e.formData.slug=$),placeholder:e.$t("common.placeholder_default_text",[e.$t("category.slug")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("category.logo"),name:"image",help:e.rules.image?e.rules.image.message:null,validateStatus:e.rules.image?"error":null},{default:a(()=>[t(f,{formData:e.formData,folder:"category",onOnFileUploaded:l[4]||(l[4]=$=>{e.formData.image=$.file,e.formData.image_url=$.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const so=W(Md,[["render",Kd]]),Vd={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,ExclamationCircleOutlined:Ae,AddEdit:so,AdminPageHeader:ge,ImportCategories:Ft},setup(){const e=ke(),{initData:l,columns:c}=lo(),{permsArray:n}=J(),{t:h}=te(),y=window.config.category_sample_file,u=T(!1),d=T({}),m=T(!1),p=T("add"),_=T("categories"),f=T([]),g=T({}),b=T([]);x(()=>{A()});const v=K=>{b.value=K},k=K=>({disabled:!(!K.children||K.children.length==0),name:K.xid}),$=pe(()=>({selectedRowKeys:ml(b),onChange:v,getCheckboxProps:k})),A=()=>{axiosAdmin.get("categories?fields=id,xid,name,slug,parent_id,x_parent_id,image,image_url&order=parent_id asc&limit=10000").then(K=>{const V=[];var q=K.data;q.forEach(B=>{if(!B.x_parent_id)return V.push(B);const Y=q.findIndex(N=>N.xid===B.x_parent_id);if(!q[Y].children)return q[Y].children=[B];q[Y].children.push(B)}),f.value=V})};return{columns:c,addEditSuccess:K=>{p.value=="add"&&(g.value={name:"",slug:"",image:void 0,image_url:void 0,parent_id:null}),A(),m.value=!1},formData:g,editItem:K=>{g.value={name:K.name,slug:K.slug,image:K.image,image_url:K.image_url,parent_id:K.x_parent_id,_method:"PUT"},d.value=K,_.value=`categories/${K.xid}`,p.value="edit",m.value=!0},addEditVisible:m,addItem:()=>{_.value="categories",p.value="add",m.value=!0},onCloseAddEdit:()=>{g.value={...l},m.value=!1},addEditUrl:_,addEditType:p,showDeleteConfirm:K=>{qe.confirm({title:h("common.delete")+"?",icon:t(Ae),content:h("category.delete_message"),centered:!0,okText:h("common.yes"),okType:"danger",cancelText:h("common.no"),onOk(){axiosAdmin.delete(`categories/${K}`).then(()=>{A(),Ee.success({message:h("common.success"),description:h("category.deleted")})})},onCancel(){}})},detailsVisible:u,viewItem:K=>{d.value=K,u.value=!0},viewData:d,allCategories:f,permsArray:n,sampleFileUrl:y,getCategories:A,selectedRowKeys:b,rowSelection:$,showSelectedDeleteConfirm:()=>{qe.confirm({title:h("common.delete")+"?",icon:t(Ae),content:h("category.delete_message"),centered:!0,okText:h("common.yes"),okType:"danger",cancelText:h("common.no"),onOk(){const K=[];we(b.value,V=>{K.push(axiosAdmin.delete(`categories/${V}`))}),Promise.all(K).then(V=>{e.dispatch("auth/updateVisibleSubscriptionModules"),A(),Ee.success({message:h("common.success"),description:h("category.deleted"),placement:"bottomRight"})})},onCancel(){}})}}}},zd={class:"table-responsive"};function Ld(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("ImportCategories"),v=o("a-space"),k=o("DeleteOutlined"),$=o("a-col"),A=o("a-row"),O=o("admin-page-filters"),F=o("AddEdit"),P=o("a-image"),E=o("EditOutlined"),U=o("a-table"),R=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.categories"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.product_manager")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.categories")),1)]),_:1})]),_:1})]),_:1}),t(O,null,{default:a(()=>[t(A,{gutter:[16,16]},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[n.permsArray.includes("categories_create")||n.permsArray.includes("admin")?(r(),C(v,{key:0},{default:a(()=>[t(g,{type:"primary",onClick:n.addItem},{default:a(()=>[t(f),i(" "+s(e.$t("category.add")),1)]),_:1},8,["onClick"]),t(b,{pageTitle:e.$t("category.import_categories"),sampleFileUrl:n.sampleFileUrl,importUrl:"categories/import",onOnUploadSuccess:n.getCategories},null,8,["pageTitle","sampleFileUrl","onOnUploadSuccess"])]),_:1})):D("",!0),n.selectedRowKeys.length>0&&(n.permsArray.includes("categories_delete")||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:n.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t($,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(A,{gutter:[16,16],justify:"end"})]),_:1})]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(F,{addEditType:n.addEditType,visible:n.addEditVisible,url:n.addEditUrl,onAddEditSuccess:n.addEditSuccess,onClosed:n.onCloseAddEdit,formData:n.formData,data:n.viewData,destroyOnClose:!0},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data"]),t(A,null,{default:a(()=>[t($,{span:24},{default:a(()=>[w("div",zd,[t(U,{"row-selection":n.rowSelection,columns:n.columns,"row-key":L=>L.xid,"data-source":n.allCategories,defaultExpandAllRows:!0,bordered:"",size:"middle"},{bodyCell:a(({column:L,text:K,record:V})=>[L.dataIndex==="image_url"?(r(),C(P,{key:0,width:32,src:K},null,8,["src"])):D("",!0),L.dataIndex==="action"?(r(),S(I,{key:1},[n.permsArray.includes("categories_edit")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:q=>n.editItem(V),style:{"margin-left":"4px"}},{icon:a(()=>[t(E)]),_:2},1032,["onClick"])):D("",!0),(n.permsArray.includes("categories_delete")||n.permsArray.includes("admin"))&&(!V.children||V.children.length==0)?(r(),C(g,{key:1,type:"primary",onClick:q=>n.showDeleteConfirm(V.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source"])])]),_:1})]),_:1})]),_:1})],64)}const Bd=W(Vd,[["render",Ld]]),ro=()=>{const e="products",{t:l}=te(),c=["unit_id","category_id","brand_id","tax_id"],n={stock_quantitiy_alert:"details.stock_quantitiy_alert",mrp:"details.mrp",purchase_price:"details.purchase_price",sales_price:"details.sales_price",tax_id:"details.x_tax_id",purchase_tax_type:"details.purchase_tax_type",sales_tax_type:"details.sales_tax_type",opening_stock:"details.opening_stock",opening_stock_date:"details.opening_stock_date",wholesale_price:"details.wholesale_price",wholesale_quantity:"details.wholesale_quantity"},h={warehouse_id:void 0,name:"",slug:"",image:void 0,image_url:void 0,barcode_symbology:"CODE128",item_code:"",stock_quantitiy_alert:null,category_id:void 0,brand_id:void 0,mrp:0,purchase_price:0,sales_price:0,tax_id:void 0,unit_id:void 0,description:"",purchase_tax_type:"exclusive",sales_tax_type:"exclusive",custom_fields:[],opening_stock:void 0,opening_stock_date:void 0,wholesale_price:void 0,wholesale_quantity:void 0,product_type:"single",variations:[]},y=[{title:"",dataIndex:"status"},{title:l("product.product"),dataIndex:"name"},{title:l("product.item_code"),dataIndex:"item_code"},{title:l("product.category"),dataIndex:"category_id"},{title:l("product.brand"),dataIndex:"brand_id"},{title:l("product.sales_price"),dataIndex:"sales_price"},{title:l("product.purchase_price"),dataIndex:"purchase_price"},{title:l("product.current_stock"),dataIndex:"current_stock"},{title:l("common.action"),dataIndex:"action"}],u=[{title:l("product.product"),dataIndex:"name"},{title:l("product.item_code"),dataIndex:"item_code"},{title:l("product.category"),dataIndex:"category_id"},{title:l("product.brand"),dataIndex:"brand_id"},{title:l("common.action"),dataIndex:"action"}],d=[{title:l("product.product"),dataIndex:"name"},{title:l("product.item_code"),dataIndex:"item_code"},{title:l("product.sales_price"),dataIndex:"sales_price"},{title:l("product.purchase_price"),dataIndex:"purchase_price"},{title:l("product.current_stock"),dataIndex:"current_stock"},{title:l("common.action"),dataIndex:"action"}],m=[{key:"name",value:l("product.name")},{key:"item_code",value:l("product.item_code")}];return{addEditUrl:e,initData:h,columns:y,variableProductcolumns:u,variantColumns:d,filterableColumns:m,hashableColumns:c,multiDimensalObjectColumns:n}};const Wd={props:["product"]},jd={class:"user-info"},Hd={class:"user-name"},Nd={key:0,class:"user-designation"};function Yd(e,l,c,n,h,y){const u=o("a-avatar");return r(),S("div",jd,[w("figure",null,[t(u,{size:40,src:c.product.image_url},null,8,["src"])]),w("figcaption",null,[w("h1",Hd,s(c.product.name),1),c.product.category_id?(r(),S("span",Nd,s(c.product.category.name),1)):D("",!0)])])}const Gd=W(Wd,[["render",Yd]]),Jd={},Qd=w("hr",{style:{"margin-bottom":"20px"}},null,-1);function Xd(e,l,c,n,h,y){const u=o("a-typography-title");return r(),S(I,null,[t(u,{level:5},{default:a(()=>[de(e.$slots,"default")]),_:3}),Qd],64)}const aa=W(Jd,[["render",Xd]]),Zd={props:["label","content"],components:{InfoCircleOutlined:Pt},setup(){return{escapeSctipyTab:l=>l.replace(/<script.*?>.*?<\/script>/gi,"")}}},xd=["innerHTML"];function ei(e,l,c,n,h,y){const u=o("InfoCircleOutlined"),d=o("a-popover");return r(),S("span",null,[i(s(c.label)+" ",1),t(d,{trigger:"hover"},{title:a(()=>[i(s(c.label),1)]),content:a(()=>[w("div",{innerHTML:n.escapeSctipyTab(c.content)},null,8,xd)]),default:a(()=>[t(u)]),_:1})])}const io=W(Zd,[["render",ei]]),uo={name:"BarcodeGenerator",props:{value:[String,Number],format:[String],width:[String,Number],height:[String,Number],displayValue:{type:[String,Boolean],default:!0},text:[String,Number],fontOptions:[String],font:[String],textAlign:[String],textPosition:[String],textMargin:[String,Number],fontSize:[String,Number],background:[String],lineColor:[String],margin:[String,Number],marginTop:[String,Number],marginBottom:[String,Number],marginLeft:[String,Number],marginRight:[String,Number],flat:[Boolean],ean128:[String,Boolean],elementTag:{type:String,default:"svg",validator:function(e){return["canvas","svg","img"].indexOf(e)!==-1}}},render(){return cl(this.elementTag,{})},mounted:function(){ti.call(this)}};function ti(){var e=this,l={format:this.format,width:this.width,height:this.height,displayValue:this.displayValue,text:this.text,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,lineColor:this.lineColor,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,flat:this.flat,ean128:this.ean128,valid:function(c){e.valid=c},elementTag:this.elementTag};ai(l),pl(this.$el,this.value,l)}function ai(e){Object.keys(e).forEach(l=>e[l]===void 0?delete e[l]:{})}const ni=Z({props:["itemCode","barcodeSymbology"],components:{BarcodeOutlined:xt,PrinterOutlined:ha,BarcodeGenerator:uo},setup(){const e=T(!1);return{visible:e,showModal:()=>{e.value=!0},handleOk:h=>{e.value=!1},printDiv:h=>{var y=document.getElementById(h).innerHTML,u=window.open("","","height=500, width=500");u.document.write("<body >"),u.document.write(y),u.document.write("</body></html>"),u.document.close(),u.print()}}}}),oi={id:"printThis",style:{display:"none"}},li={style:{"text-align":"center"}};function si(e,l,c,n,h,y){const u=o("BarcodeOutlined"),d=o("a-button"),m=o("BarcodeGenerator"),p=o("PrinterOutlined"),_=o("a-modal");return r(),S("div",null,[t(d,{type:"text",size:"small",onClick:e.showModal},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("product.view_barcode")),1)]),_:1},8,["onClick"]),w("div",oi,[(r(),S(I,null,Q(24,f=>t(m,{key:f,value:e.itemCode+"",format:e.barcodeSymbology,height:75,elementTag:"svg"},null,8,["value","format"])),64))]),t(_,{open:e.visible,"onUpdate:open":l[1]||(l[1]=f=>e.visible=f),title:e.$t("product.barcode"),footer:!1,onOk:e.handleOk},{default:a(()=>[w("p",li,[t(m,{value:e.itemCode+"",format:e.barcodeSymbology,height:75,elementTag:"svg"},null,8,["value","format"])]),t(d,{type:"primary",onClick:l[0]||(l[0]=f=>e.printDiv("printThis")),block:""},{icon:a(()=>[t(p)]),default:a(()=>[i(" "+s(e.$t("product.print_barcode")),1)]),_:1})]),_:1},8,["open","title","onOk"])])}const mo=W(ni,[["render",si]]),ri=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:no},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=ao(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),di={key:0};function ii(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("brands_create")||e.permsArray.includes("admin")?(r(),S("div",di,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"brands"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("brand.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("brand.add"),successMessage:e.$t("brand.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const ui=W(ri,[["render",ii]]),mi=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:so},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=lo(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),ci={key:0};function pi(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("categories_create")||e.permsArray.includes("admin")?(r(),S("div",ci,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"categories"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("category.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("category.add"),successMessage:e.$t("category.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const _i=W(mi,[["render",pi]]),co=()=>{const e="units?fields=id,xid,name,short_name,operator,operator_value,is_deletable",l="units",{t:c}=te(),n={name:"",short_name:"",parent_id:null,operator:"multiply",operator_value:1},h=[{title:c("unit.name"),dataIndex:"name"},{title:c("unit.short_name"),dataIndex:"short_name"},{title:c("common.action"),dataIndex:"action"}],y=[{key:"name",value:c("unit.name")}];return{url:e,addEditUrl:l,initData:n,columns:h,filterableColumns:y}},fi=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve();return{loading:n,rules:h,onClose:()=>{h.value={},l("closed")},onSubmit:()=>{c({url:e.url,data:e.formData,successMessage:e.successMessage,success:d=>{l("addEditSuccess",d.xid)}})},drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function gi(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-form"),f=o("SaveOutlined"),g=o("a-button"),b=o("a-modal");return r(),C(b,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(g,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(f)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(g,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(_,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("unit.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=v=>e.formData.name=v),placeholder:e.$t("common.placeholder_default_text",[e.$t("unit.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("unit.short_name"),name:"short_name",help:e.rules.short_name?e.rules.short_name.message:null,validateStatus:e.rules.short_name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.short_name,"onUpdate:value":l[1]||(l[1]=v=>e.formData.short_name=v),placeholder:e.$t("common.placeholder_default_text",[e.$t("unit.short_name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const po=W(fi,[["render",gi]]),yi=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:po},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=co(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),hi={key:0};function bi(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("units_create")||e.permsArray.includes("admin")?(r(),S("div",hi,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"categories"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("unit.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("unit.add"),successMessage:e.$t("unit.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const vi=W(yi,[["render",bi]]),_o=()=>{const e="taxes?fields=id,xid,name,rate,tax_type,x_parent_id,parent_id,multipleTax{id,xid,name,rate,tax_type,x_parent_id,parent_id}&filters=parent_id eq null",l="taxes",{t:c}=te(),n=["parent_id"],h={name:"",rate:"",tax_type:"single"},y=[{title:c("tax.name"),dataIndex:"name"},{title:c("tax.tax_type"),dataIndex:"tax_type"},{title:c("tax.rate"),dataIndex:"rate"},{title:c("common.action"),dataIndex:"action"}],u=[{key:"name",value:c("tax.name")}];return{url:e,addEditUrl:l,initData:h,columns:y,filterableColumns:u,hashableColumns:n}},ki=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,MinusSquareOutlined:Rn,FormItemHeading:aa},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),y=T([]),u=T([{tax_name:"",rate:"",id:void 0}]),d=()=>{var g=Xe(u.value,function(v){return v.tax_name!=""&&v.rate&&v.rate>0}),b={...e.formData,multiple_taxes:g,removed_fields:y.value};c({url:e.url,data:b,successMessage:e.successMessage,success:v=>{l("addEditSuccess",v.xid)}})},m=pe(()=>u.value.length==0?!1:wt(u.value,{tax_name:""})||wt(u.value,{tax_name:null})||wt(u.value,{rate:""})||wt(u.value,{rate:null})),p=()=>{u.value.push({tax_name:"",rate:"",id:""})},_=g=>{let b=u.value.indexOf(g);b!==-1&&u.value.splice(b,1),g.id!=""&&y.value.push(g.id)},f=()=>{h.value={},l("closed")};return me(()=>e.visible,(g,b)=>{e.visible&&(u.value=[],e.addEditType=="add"?u.value.push({tax_name:"",rate:"",id:""}):we(e.data.multiple_tax,v=>{u.value.push({tax_name:v.name,rate:v.rate,id:v.xid})}))}),{loading:n,rules:h,onClose:f,onSubmit:d,removeFormField:_,formFields:u,addFormField:p,addFormButtonStatus:m,sumBy:ba,drawerWidth:window.innerWidth<=991?"90%":"45%"}}}),wi={key:2,class:"ant-form-item-explain-error",style:{marginTop:"-15px"}};function Ci(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-select-option"),f=o("a-select"),g=o("a-input-number"),b=o("form-item-heading"),v=o("MinusSquareOutlined"),k=o("PlusOutlined"),$=o("a-button"),A=o("a-form"),O=o("SaveOutlined"),F=o("a-modal");return r(),C(F,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t($,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(O)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t($,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(A,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("tax.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=P=>e.formData.name=P),placeholder:e.$t("common.placeholder_default_text",[e.$t("tax.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("tax.tax_type"),name:"tax_type",help:e.rules.tax_type?e.rules.tax_type.message:null,validateStatus:e.rules.tax_type?"error":null,class:"required"},{default:a(()=>[t(f,{value:e.formData.tax_type,"onUpdate:value":l[1]||(l[1]=P=>e.formData.tax_type=P),placeholder:e.$t("common.select_default_text",[e.$t("tax.tax_type")]),onChange:l[2]||(l[2]=P=>{e.formData.rate=P=="multiple"?e.sumBy(e.formFields,"rate"):void 0})},{default:a(()=>[t(_,{value:"single"},{default:a(()=>[i(s(e.$t("tax.single")),1)]),_:1}),t(_,{value:"multiple"},{default:a(()=>[i(s(e.$t("tax.multiple")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("tax.rate"),name:"rate",help:e.rules.rate?e.rules.rate.message:null,validateStatus:e.rules.rate?"error":null,class:"required"},{default:a(()=>[t(g,{value:e.formData.rate,"onUpdate:value":l[3]||(l[3]=P=>e.formData.rate=P),placeholder:e.$t("common.placeholder_default_text",[e.$t("tax.rate")]),min:"0",style:{width:"100%"},disabled:e.formData.tax_type=="multiple"},{addonAfter:a(()=>[i("%")]),_:1},8,["value","placeholder","disabled"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),e.formData.tax_type=="multiple"?(r(),C(b,{key:0},{default:a(()=>[i(s(e.$t("tax.multiple_tax")),1)]),_:1})):D("",!0),e.formData.tax_type=="multiple"?(r(!0),S(I,{key:1},Q(e.formFields,(P,E)=>(r(),C(p,{gutter:16,key:P.id,style:{display:"flex","align-items":"center"}},{default:a(()=>[t(m,{xs:24,sm:24,md:e.addEditType=="add"?11:12,lg:e.addEditType=="add"?11:12},{default:a(()=>[t(d,{name:"tax_name",help:e.rules.tax_name?e.rules.tax_name.message:null,validateStatus:e.rules.tax_name?"error":null,class:"required"},{default:a(()=>[t(u,{value:P.tax_name,"onUpdate:value":U=>P.tax_name=U,placeholder:e.$t("common.placeholder_default_text",[e.$t("tax.name")]),min:"0",style:{width:"100%"}},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["help","validateStatus"])]),_:2},1032,["md","lg"]),t(m,{xs:24,sm:24,md:e.addEditType=="add"?11:12,lg:e.addEditType=="add"?11:12},{default:a(()=>[t(d,{name:"rate",class:"required"},{default:a(()=>[t(g,{value:P.rate,"onUpdate:value":U=>P.rate=U,placeholder:e.$t("common.placeholder_default_text",[e.$t("tax.rate")]),style:{width:"100%"},onChange:l[4]||(l[4]=()=>{e.formData.rate=e.sumBy(e.formFields,"rate")})},{addonAfter:a(()=>[i("%")]),_:2},1032,["value","onUpdate:value","placeholder"])]),_:2},1024)]),_:2},1032,["md","lg"]),e.addEditType=="add"?(r(),C(m,{key:0,span:2,style:{"margin-bottom":"20px"}},{default:a(()=>[t(v,{onClick:()=>{e.removeFormField(P),e.formData.rate=e.sumBy(e.formFields,"rate")}},null,8,["onClick"])]),_:2},1024)):D("",!0)]),_:2},1024))),128)):D("",!0),e.rules&&e.rules.multiple_taxes?(r(),S("p",wi,s(e.rules.multiple_taxes.message),1)):D("",!0),e.formData.tax_type=="multiple"?(r(),C(p,{key:3,gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:4,lg:4},{default:a(()=>[t(d,null,{default:a(()=>[t($,{type:"primary",onClick:e.addFormField,disabled:e.addFormButtonStatus},{default:a(()=>[t(k),i(" "+s(e.$t("tax.add")),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})):D("",!0)]),_:1})]),_:1},8,["open","title","onOk"])}const fo=W(ki,[["render",Ci]]),Si=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:fo},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=_o(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),$i={key:0};function Ai(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("taxes_create")||e.permsArray.includes("admin")?(r(),S("div",$i,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"categories"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("tax.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("tax.add"),successMessage:e.$t("tax.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const Pa=W(Si,[["render",Ai]]),Ua=()=>{const e="warehouses",l="warehouses?fields=id,xid,company_id,x_company_id,logo,logo_url,dark_logo,dark_logo_url,name,slug,email,phone,address,show_email_on_invoice,show_phone_on_invoice,show_mrp_on_invoice,show_discount_tax_on_invoice,terms_condition,bank_details,signature,signature_url,online_store_enabled,default_pos_order_status,customers_visibility,suppliers_visibility,products_visibility,barcode_type",{t:c}=te(),n={name:"",slug:"",email:"",phone:"",logo:void 0,logo_url:void 0,dark_logo:void 0,dark_logo_url:void 0,show_email_on_invoice:0,show_phone_on_invoice:0,show_mrp_on_invoice:1,show_discount_tax_on_invoice:1,address:"",terms_condition:`1. Goods once sold will not be taken back or exchanged
2. All disputes are subject to [ENTER_YOUR_CITY_NAME] jurisdiction only`,bank_details:"",signature:void 0,signature_url:void 0,default_pos_order_status:"delivered",customers_visibility:"all",suppliers_visibility:"all",products_visibility:"all",barcode_type:"barcode"},h=[{title:c("warehouse.logo"),dataIndex:"logo"},{title:c("warehouse.name"),dataIndex:"name",sorter:!0},{title:c("warehouse.email"),dataIndex:"email",sorter:!0},{title:c("warehouse.phone"),dataIndex:"phone"},{title:c("warehouse.online_store"),dataIndex:"online_store_enabled"},{title:c("common.action"),dataIndex:"action"}],y=[{key:"name",value:c("warehouse.name")},{key:"email",value:c("warehouse.email")},{key:"phone",value:c("warehouse.phone")}];return{url:l,addEditUrl:e,initData:n,columns:h,filterableColumns:y}},Di=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],emits:["addEditSuccess"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,FileTextOutlined:_l,EyeOutlined:Ze,SettingOutlined:_t,Upload:ot},setup(e,{emit:l}){const c=ke(),{addEditRequestAdmin:n,loading:h,rules:y}=ve(),{slugify:u,salesOrderStatus:d,selectedWarehouse:m}=J(),p=T("basic_details"),_=Se({display:"flex",height:"30px",lineHeight:"30px"});return{loading:h,rules:y,onClose:()=>{p.value="basic_details",y.value={},l("closed")},onSubmit:()=>{n({url:e.url,data:e.formData,successMessage:e.successMessage,success:b=>{c.dispatch("auth/updateAllWarehouses"),m.value&&m.value.xid&&m.value.xid==b.xid&&axiosAdmin.post("change-warehouse",{warehouse_id:b.xid}).then(v=>{c.commit("auth/updateWarehouse",v.data.warehouse)}),l("addEditSuccess",b.xid),p.value="basic_details",y.value={}}})},slugify:u,activeKey:p,salesOrderStatus:d,radioStyle:_,drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function Ti(e,l,c,n,h,y){const u=o("FileTextOutlined"),d=o("a-input"),m=o("a-form-item"),p=o("a-col"),_=o("a-row"),f=o("a-switch"),g=o("Upload"),b=o("a-textarea"),v=o("a-typography-paragraph"),k=o("a-tab-pane"),$=o("EyeOutlined"),A=o("a-radio"),O=o("a-radio-group"),F=o("SettingOutlined"),P=o("a-select-option"),E=o("a-select"),U=o("a-radio-button"),R=o("a-tabs"),L=o("a-form"),K=o("SaveOutlined"),V=o("a-button"),q=o("a-drawer");return r(),C(q,{title:e.pageTitle,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},maskClosable:!1,onClose:e.onClose},{footer:a(()=>[t(V,{type:"primary",onClick:e.onSubmit,style:{"margin-right":"8px"},loading:e.loading},{icon:a(()=>[t(K)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["onClick","loading"]),t(V,{onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(L,{layout:"vertical"},{default:a(()=>[t(R,{activeKey:e.activeKey,"onUpdate:activeKey":l[20]||(l[20]=B=>e.activeKey=B)},{default:a(()=>[t(k,{key:"basic_details"},{tab:a(()=>[w("span",null,[t(u),i(" "+s(e.$t("warehouse.basic_details")),1)])]),default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("warehouse.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(d,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=B=>e.formData.name=B),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.name")]),onKeyup:l[1]||(l[1]=B=>e.formData.slug=e.slugify(B.target.value))},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("warehouse.slug"),name:"slug",help:e.rules.slug?e.rules.slug.message:null,validateStatus:e.rules.slug?"error":null,class:"required"},{default:a(()=>[t(d,{value:e.formData.slug,"onUpdate:value":l[2]||(l[2]=B=>e.formData.slug=B),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.slug")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:16,lg:16},{default:a(()=>[t(m,{label:e.$t("warehouse.email"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null,class:"required"},{default:a(()=>[t(d,{value:e.formData.email,"onUpdate:value":l[3]||(l[3]=B=>e.formData.email=B),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.email")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:e.$t("warehouse.show_email_on_invoice"),name:"show_email_on_invoice",help:e.rules.show_email_on_invoice?e.rules.show_email_on_invoice.message:null,validateStatus:e.rules.show_email_on_invoice?"error":null},{default:a(()=>[t(f,{checked:e.formData.show_email_on_invoice,"onUpdate:checked":l[4]||(l[4]=B=>e.formData.show_email_on_invoice=B),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:16,lg:16},{default:a(()=>[t(m,{label:e.$t("warehouse.phone"),name:"phone",help:e.rules.phone?e.rules.phone.message:null,validateStatus:e.rules.phone?"error":null,class:"required"},{default:a(()=>[t(d,{value:e.formData.phone,"onUpdate:value":l[5]||(l[5]=B=>e.formData.phone=B),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:e.$t("warehouse.show_phone_on_invoice"),name:"show_phone_on_invoice",help:e.rules.show_phone_on_invoice?e.rules.show_phone_on_invoice.message:null,validateStatus:e.rules.show_phone_on_invoice?"error":null},{default:a(()=>[t(f,{checked:e.formData.show_phone_on_invoice,"onUpdate:checked":l[6]||(l[6]=B=>e.formData.show_phone_on_invoice=B),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{label:e.$t("warehouse.logo"),name:"logo",help:e.rules.logo?e.rules.logo.message:null,validateStatus:e.rules.logo?"error":null},{default:a(()=>[t(g,{formData:e.formData,folder:"warehouses",imageField:"logo",onOnFileUploaded:l[7]||(l[7]=B=>{e.formData.logo=B.file,e.formData.logo_url=B.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{label:e.$t("warehouse.dark_logo"),name:"dark_logo",help:e.rules.dark_logo?e.rules.dark_logo.message:null,validateStatus:e.rules.dark_logo?"error":null},{default:a(()=>[t(g,{formData:e.formData,folder:"warehouses",imageField:"dark_logo",onOnFileUploaded:l[8]||(l[8]=B=>{e.formData.dark_logo=B.file,e.formData.dark_logo_url=B.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("warehouse.address"),name:"address",help:e.rules.address?e.rules.address.message:null,validateStatus:e.rules.address?"error":null},{default:a(()=>[t(b,{value:e.formData.address,"onUpdate:value":l[9]||(l[9]=B=>e.formData.address=B),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.address")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,null,{default:a(()=>[t(v,{type:"warning",strong:""},{default:a(()=>[w("blockquote",null,s(e.$t("warehouse.details_will_be_shown_on_invoice")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("warehouse.bank_details"),name:"bank_details",help:e.rules.bank_details?e.rules.bank_details.message:null,validateStatus:e.rules.bank_details?"error":null},{default:a(()=>[t(b,{value:e.formData.bank_details,"onUpdate:value":l[10]||(l[10]=B=>e.formData.bank_details=B),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.bank_details")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("warehouse.terms_condition"),name:"terms_condition",help:e.rules.terms_condition?e.rules.terms_condition.message:null,validateStatus:e.rules.terms_condition?"error":null},{default:a(()=>[t(b,{value:e.formData.terms_condition,"onUpdate:value":l[11]||(l[11]=B=>e.formData.terms_condition=B),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.terms_condition")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{label:e.$t("warehouse.signature"),name:"signature",help:e.rules.signature?e.rules.signature.message:null,validateStatus:e.rules.signature?"error":null},{default:a(()=>[t(g,{formData:e.formData,folder:"warehouses",imageField:"signature",onOnFileUploaded:l[12]||(l[12]=B=>{e.formData.signature=B.file,e.formData.signature_url=B.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),t(k,{key:"visibility"},{tab:a(()=>[w("span",null,[t($),i(" "+s(e.$t("warehouse.visibility")),1)])]),default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("warehouse.customers_visibility"),name:"customers_visibility",help:e.rules.customers_visibility?e.rules.customers_visibility.message:null,validateStatus:e.rules.customers_visibility?"error":null},{default:a(()=>[t(O,{value:e.formData.customers_visibility,"onUpdate:value":l[13]||(l[13]=B=>e.formData.customers_visibility=B)},{default:a(()=>[t(A,{style:Be(e.radioStyle),value:"all"},{default:a(()=>[i(s(e.$t("warehouse.view_all_customers")),1)]),_:1},8,["style"]),t(A,{style:Be(e.radioStyle),value:"warehouse"},{default:a(()=>[i(s(e.$t("warehouse.view_warehouse_customers")),1)]),_:1},8,["style"])]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("warehouse.suppliers_visibility"),name:"suppliers_visibility",help:e.rules.suppliers_visibility?e.rules.suppliers_visibility.message:null,validateStatus:e.rules.suppliers_visibility?"error":null},{default:a(()=>[t(O,{value:e.formData.suppliers_visibility,"onUpdate:value":l[14]||(l[14]=B=>e.formData.suppliers_visibility=B)},{default:a(()=>[t(A,{style:Be(e.radioStyle),value:"all"},{default:a(()=>[i(s(e.$t("warehouse.view_all_suppliers")),1)]),_:1},8,["style"]),t(A,{style:Be(e.radioStyle),value:"warehouse"},{default:a(()=>[i(s(e.$t("warehouse.view_warehouse_suppliers")),1)]),_:1},8,["style"])]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("warehouse.products_visibility"),name:"products_visibility",help:e.rules.products_visibility?e.rules.products_visibility.message:null,validateStatus:e.rules.products_visibility?"error":null},{default:a(()=>[t(O,{value:e.formData.products_visibility,"onUpdate:value":l[15]||(l[15]=B=>e.formData.products_visibility=B)},{default:a(()=>[t(A,{style:Be(e.radioStyle),value:"all"},{default:a(()=>[i(s(e.$t("warehouse.view_all_products")),1)]),_:1},8,["style"]),t(A,{style:Be(e.radioStyle),value:"warehouse"},{default:a(()=>[i(s(e.$t("warehouse.view_warehouse_products")),1)]),_:1},8,["style"])]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),t(k,{key:"pos_settings"},{tab:a(()=>[w("span",null,[t(F),i(" "+s(e.$t("menu.pos_settings")),1)])]),default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("warehouse.default_pos_order_status"),name:"default_pos_order_status",help:e.rules.default_pos_order_status?e.rules.default_pos_order_status.message:null,validateStatus:e.rules.default_pos_order_status?"error":null},{default:a(()=>[t(E,{value:e.formData.default_pos_order_status,"onUpdate:value":l[16]||(l[16]=B=>e.formData.default_pos_order_status=B),placeholder:e.$t("warehouse.default_pos_order_status"),style:{width:"100%"}},{default:a(()=>[(r(!0),S(I,null,Q(e.salesOrderStatus,B=>(r(),C(P,{key:B.key,value:B.key},{default:a(()=>[i(s(B.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{label:e.$t("warehouse.show_mrp_on_invoice"),name:"show_mrp_on_invoice",help:e.rules.show_mrp_on_invoice?e.rules.show_mrp_on_invoice.message:null,validateStatus:e.rules.show_mrp_on_invoice?"error":null},{default:a(()=>[t(O,{value:e.formData.show_mrp_on_invoice,"onUpdate:value":l[17]||(l[17]=B=>e.formData.show_mrp_on_invoice=B),size:"small",buttonStyle:"solid"},{default:a(()=>[t(U,{value:1},{default:a(()=>[i(s(e.$t("common.yes")),1)]),_:1}),t(U,{value:0},{default:a(()=>[i(s(e.$t("common.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{label:e.$t("warehouse.show_discount_tax_on_invoice"),name:"show_discount_tax_on_invoice",help:e.rules.show_discount_tax_on_invoice?e.rules.show_discount_tax_on_invoice.message:null,validateStatus:e.rules.show_discount_tax_on_invoice?"error":null},{default:a(()=>[t(O,{value:e.formData.show_discount_tax_on_invoice,"onUpdate:value":l[18]||(l[18]=B=>e.formData.show_discount_tax_on_invoice=B),size:"small",buttonStyle:"solid"},{default:a(()=>[t(U,{value:1},{default:a(()=>[i(s(e.$t("common.yes")),1)]),_:1}),t(U,{value:0},{default:a(()=>[i(s(e.$t("common.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("warehouse.barcode_type"),name:"barcode_type",help:e.rules.barcode_type?e.rules.barcode_type.message:null,validateStatus:e.rules.barcode_type?"error":null,class:"required"},{default:a(()=>[t(E,{value:e.formData.barcode_type,"onUpdate:value":l[19]||(l[19]=B=>e.formData.barcode_type=B),style:{width:"100%"}},{default:a(()=>[t(P,{value:"barcode"},{default:a(()=>[i(s(e.$t("warehouse.barcode")),1)]),_:1}),t(P,{value:"qrcode"},{default:a(()=>[i(s(e.$t("warehouse.qrcode")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1})]),_:1},8,["title","width","open","onClose"])}const Fa=W(Di,[["render",Ti]]),Ei=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:Fa},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=Ua(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),Oi={key:0};function Ii(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("warehouses_create")||e.permsArray.includes("admin")?(r(),S("div",Oi,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"customers"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("warehouse.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("warehouse.add"),successMessage:e.$t("warehouse.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const qt=W(Ei,[["render",Ii]]),Pi=Z({props:["formData","variations","selectedUnit","showTable"],emits:["variant_added"],components:{PlusOutlined:ne,SaveOutlined:he,EditOutlined:$e,BarcodeOutlined:xt,Upload:ot,Barcode:mo,InputLabelPopover:io},setup(e,{emit:l}){const{appSetting:c,formatAmountCurrency:n}=J(),{addEditRequestAdmin:h,loading:y,rules:u}=ve(),d=T([]),m=T([]),p=T([]),_=T([]),{t:f}=te(),g=T("add"),b=T(!1),v=T({}),k=T([]),$=T([{title:f("product.image"),dataIndex:"image"},{title:f("variations.variation"),dataIndex:"variant_id"},{title:f("variations.variant_value"),dataIndex:"variant_value_id"},{title:f("product.item_code"),dataIndex:"item_code"},{title:f("product.purchase_price"),dataIndex:"purchase_price"},{title:f("product.sales_price"),dataIndex:"sales_price"},{title:f("product.mrp"),dataIndex:"mrp"},{title:f("product.opening_stock"),dataIndex:"opening_stock"},{title:f("common.action"),dataIndex:"action"}]),A=T([]);x(()=>{axiosAdmin.get("taxes?limit=10000").then(N=>{A.value=N.data}),E(),O(e.formData.variations)});const O=N=>{var le=[];we(N,H=>{var G=[],z=[];we(H.product_variations,X=>{G.push(X.x_variant_id),z.push(X.x_variant_value_id)}),le.push({unique_id:P(),image:H.image,image_url:H.image_url,variant_id:G,variant_value_id:z,xid:H.xid,item_code:H.item_code,tax_id:H.details.x_tax_id,purchase_price:H.details.purchase_price,purchase_tax_type:H.details.purchase_tax_type,sales_price:H.details.sales_price,sales_tax_type:H.details.sales_tax_type,mrp:H.details.mrp,opening_stock:H.details.opening_stock,opening_stock_date:H.details.opening_stock_date,stock_quantitiy_alert:H.details.stock_quantitiy_alert})}),k.value=le,l("variant_added",k.value)},F=N=>{k.value=N},P=()=>Math.random().toString(36).slice(2),E=()=>{var N=[];we(e.variations,le=>{le.x_parent_id==null&&N.push(le)}),p.value=N},U=(N,le)=>{_.value=[];var H=[],G=[];we(e.variations,z=>{if(et(N,z.xid)&&z.sub_variations.length>0){var X=[];we(z.sub_variations,j=>{X.push({label:j.name,value:j.xid,parentId:z.xid}),et(m.value,j.xid)&&G.push(j.xid)}),H.push({label:z.name,value:z.xid,parentId:void 0,children:X,disabled:!1})}}),m.value=G,_.value=H},R=N=>{const le=Qe(e.variations,["xid",N]);return le?le.name:"-"},L=()=>{v.value={unique_id:P(),image:void 0,image_url:void 0,variant_id:d.value,variant_value_id:m.value,xid:"",item_code:"",purchase_price:"",purchase_tax_type:"exclusive",sales_price:"",sales_tax_type:"exclusive",mrp:"",opening_stock:0,tax_id:void 0,opening_stock_date:void 0,stock_quantitiy_alert:null},b.value=!0},K=N=>{console.log(N),v.value={unique_id:N.unique_id,image:N.image,image_url:N.image_url,variant_id:N.x_variant_id?N.x_variant_id:N.variant_id,variant_value_id:N.x_variant_value_id?N.x_variant_value_id:N.variant_value_id,xid:N.xid,item_code:N.item_code,purchase_price:N.purchase_price,purchase_tax_type:N.purchase_tax_type,sales_price:N.sales_price,sales_tax_type:N.sales_tax_type,mrp:N.mrp,opening_stock:N.opening_stock,tax_id:N.tax_id,opening_stock_date:N.opening_stock_date,stock_quantitiy_alert:N.stock_quantitiy_alert},g.value="edit",b.value=!0},V=()=>{h({url:"/products/check-variants",data:v.value,success:N=>{wt(k.value,["unique_id",v.value.unique_id])?k.value=fl(k.value,le=>le.unique_id==v.value.unique_id?v.value:le):k.value=[{...v.value},...k.value],l("variant_added",k.value),d.value=[],m.value=[],b.value=!1}})},q=()=>{u.value={},b.value=!1};me(()=>e.showTable,(N,le)=>{O(N.formData.variations)});const B=(N,le)=>{var H=Qe(e.variations,["xid",le.parentId]),G=[];we(m.value,z=>{var X=Qe(H.sub_variations,{xid:z});X==null&&G.push(z)}),G.push(N),m.value=G},Y=(N,le)=>{m.value=Xe(m.value,H=>H!=N)};return{appSetting:c,formatAmountCurrency:n,variantId:d,variantValueId:m,varaitionTypes:p,varaitionTypeValues:_,getValueByVariation:U,addNewVariant:L,addEditType:g,addEditForm:v,visible:b,onSubmit:V,onClose:q,variantTableData:k,variantTableColumns:$,generateRandomTableKey:P,getVariantNameById:R,editItem:K,rules:u,loading:y,modalWidth:window.innerWidth<=991?"90%":"35%",variantValueSelected:B,variantValueDeselected:Y,setVariantTableData:O,setDirectVariantTableData:F,taxes:A}}}),Ui={key:1},Fi={key:2};function qi(e,l,c,n,h,y){const u=o("a-select-option"),d=o("a-select"),m=o("a-col"),p=o("PlusOutlined"),_=o("a-button"),f=o("a-row"),g=o("a-avatar"),b=o("a-badge"),v=o("EditOutlined"),k=o("a-table"),$=o("Upload"),A=o("a-form-item"),O=o("BarcodeOutlined"),F=o("Barcode"),P=o("a-input"),E=o("InputLabelPopover"),U=o("a-input-number"),R=o("a-date-picker"),L=o("a-form"),K=o("SaveOutlined"),V=o("a-modal");return r(),S(I,null,[e.formData.product_type=="variable"?(r(),C(f,{key:0,gutter:16,style:{"margin-bottom":"20px"}},{default:a(()=>[t(m,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(d,{value:e.variantId,"onUpdate:value":l[0]||(l[0]=q=>e.variantId=q),placeholder:e.$t("common.select_default_text",[e.$t("variations.variation")]),onChange:e.getValueByVariation,style:{width:"100%"},allowClear:!1,mode:"multiple"},{default:a(()=>[(r(!0),S(I,null,Q(e.varaitionTypes,q=>(r(),C(u,{key:q.xid,value:q.xid},{default:a(()=>[i(s(q.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1}),t(m,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(d,{value:e.variantValueId,placeholder:e.$t("common.select_default_text",[e.$t("variations.variant_value")]),allowClear:!1,style:{width:"100%"},disabled:e.variantId==null,options:e.varaitionTypeValues,mode:"multiple","field-names":{label:"label",value:"value",parentId:"parentId",options:"children"},onSelect:e.variantValueSelected,onDeselect:e.variantValueDeselected},null,8,["value","placeholder","disabled","options","onSelect","onDeselect"])]),_:1}),t(m,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(_,{type:"primary",onClick:e.addNewVariant,disabled:e.variantValueId.length<=0},{icon:a(()=>[t(p)]),default:a(()=>[i(s(e.$t("variations.add"))+" ",1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})):D("",!0),e.formData.product_type=="variable"?(r(),C(k,{key:1,dataSource:e.variantTableData,columns:e.variantTableColumns,"row-key":q=>q.xid&&q.xid!=""?q.xid:e.generateRandomTableKey(),size:"middle",pagination:!1,class:"mb-20"},{bodyCell:a(({column:q,text:B,record:Y})=>[q.dataIndex==="image"?(r(),C(b,{key:0},{default:a(()=>[t(g,{shape:"square",src:Y.image_url},null,8,["src"])]),_:2},1024)):D("",!0),q.dataIndex==="variant_id"?(r(),S("ul",Ui,[(r(!0),S(I,null,Q(Y.variant_id,N=>(r(),S("li",{key:N},s(e.getVariantNameById(N)),1))),128))])):D("",!0),q.dataIndex==="variant_value_id"?(r(),S("ul",Fi,[(r(!0),S(I,null,Q(Y.variant_value_id,N=>(r(),S("li",{key:N},s(e.getVariantNameById(N)),1))),128))])):D("",!0),q.dataIndex==="purchase_price"&&Y&&Y.purchase_price?(r(),S(I,{key:3},[i(s(e.formatAmountCurrency(Y.purchase_price)),1)],64)):D("",!0),q.dataIndex==="sales_price"&&Y&&Y.sales_price?(r(),S(I,{key:4},[i(s(e.formatAmountCurrency(Y.sales_price)),1)],64)):D("",!0),q.dataIndex==="mrp"&&Y&&Y.mrp?(r(),S(I,{key:5},[i(s(e.formatAmountCurrency(Y.mrp)),1)],64)):D("",!0),q.dataIndex==="action"?(r(),C(_,{key:6,type:"primary",onClick:N=>e.editItem(Y)},{icon:a(()=>[t(v)]),_:2},1032,["onClick"])):D("",!0)]),_:1},8,["dataSource","columns","row-key"])):D("",!0),t(V,{open:e.visible,closable:!1,centered:!0,title:e.addEditType=="add"?e.$t("variations.add"):e.$t("variations.edit"),onOk:e.onSubmit,width:e.modalWidth},{footer:a(()=>[t(_,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(K)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(_,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(L,{layout:"vertical"},{default:a(()=>[t(f,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(A,{label:e.$t("product.image"),name:"image"},{default:a(()=>[t($,{formData:e.addEditForm,folder:"product",onOnFileUploaded:l[1]||(l[1]=q=>{e.addEditForm.image=q.file,e.addEditForm.image_url=q.file_url})},null,8,["formData"])]),_:1},8,["label"])]),_:1}),t(m,{xs:24,sm:24,md:16,lg:16},{default:a(()=>[t(f,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(A,{label:e.$t("product.item_code"),name:"item_code",help:e.rules.item_code?e.rules.item_code.message:null,validateStatus:e.rules.item_code?"error":null,class:"required"},{default:a(()=>[t(P,{value:e.addEditForm.item_code,"onUpdate:value":l[3]||(l[3]=q=>e.addEditForm.item_code=q),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.item_code")])},{addonAfter:a(()=>[e.addEditForm.item_code==""?(r(),C(_,{key:0,type:"text",size:"small",onClick:l[2]||(l[2]=()=>{e.addEditForm.item_code=parseInt(Math.random()*1e10)})},{icon:a(()=>[t(O)]),default:a(()=>[i(" "+s(e.$t("product.generate_barcode")),1)]),_:1})):(r(),C(F,{key:1,itemCode:e.addEditForm.item_code,barcodeSymbology:e.formData.barcode_symbology},null,8,["itemCode","barcodeSymbology"]))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(A,{name:"stock_quantitiy_alert"},{label:a(()=>[t(E,{label:e.$t("product.quantitiy_alert"),content:e.$t("popover.quantitiy_alert")},null,8,["label","content"])]),default:a(()=>[t(U,{value:e.addEditForm.stock_quantitiy_alert,"onUpdate:value":l[4]||(l[4]=q=>e.addEditForm.stock_quantitiy_alert=q),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.quantitiy_alert")]),min:"0",style:{width:"100%"}},null,8,["value","placeholder"])]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(A,{label:e.$t("product.mrp"),name:"mrp"},{default:a(()=>[t(U,{value:e.addEditForm.mrp,"onUpdate:value":l[5]||(l[5]=q=>e.addEditForm.mrp=q),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.mrp")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(e.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(A,{label:e.$t("product.tax"),name:"tax_id",help:e.rules.tax_id?e.rules.tax_id.message:null,validateStatus:e.rules.tax_id?"error":null},{default:a(()=>[t(d,{value:e.addEditForm.tax_id,"onUpdate:value":l[6]||(l[6]=q=>e.addEditForm.tax_id=q),placeholder:e.$t("common.select_default_text",[e.$t("product.tax")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(e.taxes,q=>(r(),C(u,{key:q.xid,value:q.xid},{default:a(()=>[i(s(q.name)+" ("+s(q.rate)+"%) ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(A,{label:e.$t("product.purchase_price"),name:"purchase_price",help:e.rules.purchase_price?e.rules.purchase_price.message:null,validateStatus:e.rules.purchase_price?"error":null,class:"required"},{default:a(()=>[t(U,{value:e.addEditForm.purchase_price,"onUpdate:value":l[8]||(l[8]=q=>e.addEditForm.purchase_price=q),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.purchase_price")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(e.appSetting.currency.symbol),1)]),addonAfter:a(()=>[t(d,{value:e.addEditForm.purchase_tax_type,"onUpdate:value":l[7]||(l[7]=q=>e.addEditForm.purchase_tax_type=q),style:{width:"100px"}},{default:a(()=>[t(u,{value:"inclusive"},{default:a(()=>[i(s(e.$t("common.with_tax")),1)]),_:1}),t(u,{value:"exclusive"},{default:a(()=>[i(s(e.$t("common.without_tax")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(A,{label:e.$t("product.sales_price"),name:"sales_price",help:e.rules.sales_price?e.rules.sales_price.message:null,validateStatus:e.rules.sales_price?"error":null,class:"required"},{default:a(()=>[t(U,{value:e.addEditForm.sales_price,"onUpdate:value":l[10]||(l[10]=q=>e.addEditForm.sales_price=q),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.sales_price")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(e.appSetting.currency.symbol),1)]),addonAfter:a(()=>[t(d,{value:e.addEditForm.sales_tax_type,"onUpdate:value":l[9]||(l[9]=q=>e.addEditForm.sales_tax_type=q),style:{width:"100px"}},{default:a(()=>[t(u,{value:"inclusive"},{default:a(()=>[i(s(e.$t("common.with_tax")),1)]),_:1}),t(u,{value:"exclusive"},{default:a(()=>[i(s(e.$t("common.without_tax")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(A,{label:e.$t("product.opening_stock"),name:"opening_stock",class:"required"},{default:a(()=>[t(U,{value:e.addEditForm.opening_stock,"onUpdate:value":l[11]||(l[11]=q=>e.addEditForm.opening_stock=q),placeholder:"0",style:{width:"100%"}},{addonAfter:a(()=>[i(s(e.selectedUnit&&e.selectedUnit.short_name?e.selectedUnit.short_name:""),1)]),_:1},8,["value"])]),_:1},8,["label"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(A,{label:e.$t("product.opening_stock_date"),name:"opening_stock_date"},{default:a(()=>[t(R,{value:e.addEditForm.opening_stock_date,"onUpdate:value":l[12]||(l[12]=q=>e.addEditForm.opening_stock_date=q),format:e.appSetting.date_format,valueFormat:"YYYY-MM-DD",style:{width:"100%"}},null,8,["value","format"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk","width"])],64)}const Mi=W(Pi,[["render",qi]]),Ri=Z({components:{StreamBarcodeReader:gl,CameraOutlined:yl},emits:["closed"],setup(e,{emit:l}){const c=T(!1);return{visible:c,openModal:()=>{c.value=!0},onLoaded:()=>{console.log("load")},onDecode:d=>{c.value=!1,l("closed",d)},closeModal:()=>{c.value=!1},drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function Ki(e,l,c,n,h,y){const u=o("CameraOutlined"),d=o("a-button"),m=o("StreamBarcodeReader"),p=o("a-col"),_=o("a-row"),f=o("a-form"),g=o("a-modal");return r(),S(I,null,[t(d,{type:"text",onClick:e.openModal},{icon:a(()=>[t(u)]),_:1},8,["onClick"]),t(g,{open:e.visible,closable:!1,destroyOnClose:!0,centered:!0,title:"BarCodeScanner"},{footer:a(()=>[t(d,{key:"back",onClick:e.closeModal},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(f,{layout:"vertical"},{default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{onDecode:e.onDecode,onLoaded:e.onLoaded},null,8,["onDecode","onLoaded"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}const Vi=W(Ri,[["render",Ki]]);const zi=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,Upload:ot,UserInfo:He,FormItemHeading:aa,InputLabelPopover:io,BarcodeOutlined:xt,Barcode:mo,BrandAddButton:ui,CategoryAddButton:_i,UnitAddButton:vi,TaxAddButton:Pa,WarehouseAddButton:qt,AddEditVariant:Mi,BarCodeScan:Vi},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{permsArray:y,taxTypes:u,barcodeSymbology:d,appSetting:m,slugify:p,selectedWarehouse:_}=J();te();const f=T([]),g=T([]),b=T([]),v=T([]),k=T([]),$=T([]),A=T({}),O=T({});ke();const F="brands?limit=10000",P="categories?limit=10000",E="units?limit=10000",U="taxes?limit=10000",R="custom-fields?limit=10000",L="warehouses?limit=10000",K=T(void 0),V=T(null),q=T([]),B="variations?fields=id,xid,parent_id,x_parent_id,name,subVariations{id,xid,parent_id,x_parent_id,name}&limit=10000";x(()=>{at.suppressDeprecationWarnings=!0;const re=axiosAdmin.get(F),be=axiosAdmin.get(P),ue=axiosAdmin.get(E),_e=axiosAdmin.get(U),Fe=axiosAdmin.get(R),Je=axiosAdmin.get(L),mt=axiosAdmin.get(B);Promise.all([re,be,ue,_e,Fe,Je,mt]).then(([yt,se,ce,De,Ue,ee,ye])=>{f.value=yt.data,b.value=ce.data,v.value=De.data,k.value=Ue.data,$.value=ee.data,q.value=ye.data,O.value=Qe(b.value,["xid",e.formData.unit_id]),Y(se.data)})});const Y=re=>{const be=[],ue=[];re.map(_e=>{ue.push({xid:_e.xid,x_parent_id:_e.x_parent_id,title:_e.name,value:_e.xid,disabled:!1})}),ue.forEach(_e=>{if(!_e.x_parent_id)return be.push(_e);const Fe=ue.findIndex(Je=>Je.xid===_e.x_parent_id);if(!ue[Fe].children)return ue[Fe].children=[_e];ue[Fe].children.push(_e)}),g.value=be},N=re=>re&&re>at().endOf("day"),le=()=>{e.formData.item_code=parseInt(Math.random()*1e10)},H=re=>{e.formData.item_code=re},G=(re="add-edit")=>{const be={...e.formData,tax_id:e.formData.tax_id==null?"":e.formData.tax_id,custom_fields:A.value,warehouse_id:K.value};c({url:e.url,data:be,successMessage:e.successMessage,success:ue=>{if(re=="add-new")l("addAndNewSuccess",ue.xid),ie();else if(re=="add-continue"){l("addAndContinueSuccess",ue.xid),e.formData.slug=p(e.formData.name),le();var _e=[],Fe=e.formData.variations;we(Fe,Je=>{_e.push({...Je,item_code:parseInt(Math.random()*1e10),unique_id:Math.random().toString(36).slice(2)})}),e.formData.variations=_e,V.value.setDirectVariantTableData(_e)}else l("addEditSuccess",ue.xid)}})},z=()=>{h.value={},l("closed")},X=()=>{axiosAdmin.get(F).then(re=>{f.value=re.data})},j=()=>{axiosAdmin.get(P).then(re=>{Y(re.data)})},oe=()=>{axiosAdmin.get(E).then(re=>{b.value=re.data})},M=()=>{axiosAdmin.get(U).then(re=>{v.value=re.data})},ae=()=>{axiosAdmin.get(L).then(re=>{$.value=re.data})},ie=()=>{var re={};we(k.value,be=>{if(e.addEditType=="add"||e.formData.custom_fields.length==0)re[be.name]="";else{var ue=Qe(e.formData.custom_fields,["field_name",be.name]);re[be.name]=ue===void 0?"":ue.field_value}}),A.value={...re},O.value=Qe(b.value,["xid",e.formData.unit_id]),K.value=e.addEditType=="add"?_.value.xid:e.data.warehouse&&e.data.warehouse.xid?e.data.warehouse.xid:void 0};return me(()=>e.visible,(re,be)=>{re==!0&&ie()}),{loading:n,rules:h,onClose:z,onSubmit:G,disabledDate:N,brands:f,categories:g,taxes:v,units:b,warehouses:$,selectedWarehouse:_,slugify:p,generateBarCode:le,drawerWidth:window.innerWidth<=991?"90%":"70%",appSetting:m,customFields:k,customFieldsData:A,taxTypes:u,barcodeSymbology:d,selectedUnit:O,brandAdded:X,categoryAdded:j,unitAdded:oe,taxAdded:M,warehouseAdded:ae,permsArray:y,waehouseId:K,variations:q,variableTypeTable:V,storeScanCode:H}}}),Li={key:0,style:{display:"flex"}},Bi={key:1},Wi={style:{display:"flex"}},ji={style:{display:"flex"}},Hi={style:{display:"flex"}},Ni={style:{display:"flex"}};function Yi(e,l,c,n,h,y){const u=o("a-select-option"),d=o("a-select"),m=o("a-form-item"),p=o("a-col"),_=o("a-row"),f=o("Upload"),g=o("WarehouseAddButton"),b=o("a-input"),v=o("a-tree-select"),k=o("CategoryAddButton"),$=o("BrandAddButton"),A=o("UnitAddButton"),O=o("InputLabelPopover"),F=o("a-input-number"),P=o("BarcodeOutlined"),E=o("a-button"),U=o("Barcode"),R=o("a-space"),L=o("BarCodeScan"),K=o("form-item-heading"),V=o("TaxAddButton"),q=o("a-date-picker"),B=o("a-alert"),Y=o("AddEditVariant"),N=o("a-textarea"),le=o("a-form"),H=o("SaveOutlined"),G=o("a-drawer");return r(),C(G,{title:e.pageTitle,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},maskClosable:!1,onClose:e.onClose},{footer:a(()=>[t(E,{type:"primary",loading:e.loading,onClick:e.onSubmit,style:{"margin-right":"8px"}},{icon:a(()=>[t(H)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),e.addEditType=="add"?(r(),C(E,{key:0,type:"primary",loading:e.loading,onClick:l[23]||(l[23]=z=>e.onSubmit("add-continue")),style:{"margin-right":"8px"}},{icon:a(()=>[t(H)]),default:a(()=>[i(" "+s(e.$t("common.save_and_continue")),1)]),_:1},8,["loading"])):D("",!0),t(E,{onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(le,{layout:"vertical"},{default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("product.product_type"),name:"product_type",help:e.rules.product_type?e.rules.product_type.message:null,validateStatus:e.rules.product_type?"error":null,class:"required"},{default:a(()=>[t(d,{value:e.formData.product_type,"onUpdate:value":l[0]||(l[0]=z=>e.formData.product_type=z),style:{width:"100%"},disabled:e.addEditType=="edit"},{default:a(()=>[t(u,{value:"single"},{default:a(()=>[i(s(e.$t("variations.single_type_product")),1)]),_:1}),t(u,{value:"variable"},{default:a(()=>[i(s(e.$t("variations.variant_type_product")),1)]),_:1})]),_:1},8,["value","disabled"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{label:e.$t("product.image"),name:"image",help:e.rules.image?e.rules.image.message:null,validateStatus:e.rules.image?"error":null},{default:a(()=>[t(f,{formData:e.formData,folder:"product",onOnFileUploaded:l[1]||(l[1]=z=>{e.formData.image=z.file,e.formData.image_url=z.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),t(p,{xs:24,sm:24,md:16,lg:16},{default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{name:"warehouse_id",help:e.rules.warehouse_id?e.rules.warehouse_id.message:null,validateStatus:e.rules.warehouse_id?"error":null,class:"required"},{label:a(()=>[i(s(e.$t("warehouse.warehouse")),1)]),default:a(()=>[e.permsArray.includes("admin")?(r(),S("span",Li,[t(d,{value:e.waehouseId,"onUpdate:value":l[2]||(l[2]=z=>e.waehouseId=z),placeholder:e.$t("common.select_default_text",[e.$t("warehouse.warehouse")])},{default:a(()=>[(r(!0),S(I,null,Q(e.warehouses,z=>(r(),C(u,{key:z.xid,value:z.xid},{default:a(()=>[i(s(z.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"]),t(g,{onOnAddSuccess:e.warehouseAdded},null,8,["onOnAddSuccess"])])):(r(),S("span",Bi,[t(d,{value:e.selectedWarehouse.xid,placeholder:e.$t("common.select_default_text",[e.$t("warehouse.warehouse")]),disabled:""},{default:a(()=>[t(u,{value:e.selectedWarehouse.xid},{default:a(()=>[i(s(e.selectedWarehouse.name),1)]),_:1},8,["value"])]),_:1},8,["value","placeholder"])]))]),_:1},8,["help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("product.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(b,{value:e.formData.name,"onUpdate:value":l[3]||(l[3]=z=>e.formData.name=z),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.name")]),onKeyup:l[4]||(l[4]=z=>e.formData.slug=e.slugify(z.target.value))},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("product.slug"),name:"slug",help:e.rules.slug?e.rules.slug.message:null,validateStatus:e.rules.slug?"error":null,class:"required"},{default:a(()=>[t(b,{value:e.formData.slug,"onUpdate:value":l[5]||(l[5]=z=>e.formData.slug=z),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.slug")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("product.category"),name:"category_id",help:e.rules.category_id?e.rules.category_id.message:null,validateStatus:e.rules.category_id?"error":null,class:"required"},{default:a(()=>[w("span",Wi,[(r(),C(v,{key:"categories_total"+e.categories.length,value:e.formData.category_id,"onUpdate:value":l[6]||(l[6]=z=>e.formData.category_id=z),"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"250px",overflow:"auto"},placeholder:e.$t("common.select_default_text",[e.$t("product.category")]),treeData:e.categories,"allow-clear":"","tree-default-expand-all":""},null,8,["value","placeholder","treeData"])),t(k,{onOnAddSuccess:e.categoryAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("product.brand"),name:"brand_id",help:e.rules.brand_id?e.rules.brand_id.message:null,validateStatus:e.rules.brand_id?"error":null},{default:a(()=>[w("span",ji,[t(d,{value:e.formData.brand_id,"onUpdate:value":l[7]||(l[7]=z=>e.formData.brand_id=z),placeholder:e.$t("common.select_default_text",[e.$t("product.brand")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(e.brands,z=>(r(),C(u,{key:z.xid,title:z.name,value:z.xid},{default:a(()=>[i(s(z.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"]),t($,{onOnAddSuccess:e.brandAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:e.formData.product_type=="single"?12:24,lg:e.formData.product_type=="single"?12:24},{default:a(()=>[t(m,{label:e.$t("product.unit"),name:"unit_id",help:e.rules.unit_id?e.rules.unit_id.message:null,validateStatus:e.rules.unit_id?"error":null,class:"required"},{default:a(()=>[w("span",Hi,[t(d,{value:e.formData.unit_id,"onUpdate:value":l[8]||(l[8]=z=>e.formData.unit_id=z),placeholder:e.$t("common.select_default_text",[e.$t("product.unit")]),allowClear:!0,onChange:l[9]||(l[9]=(z,X)=>e.selectedUnit=X)},{default:a(()=>[(r(!0),S(I,null,Q(e.units,z=>(r(),C(u,{key:z.xid,value:z.xid,short_name:z.short_name},{default:a(()=>[i(s(z.name)+" ("+s(z.short_name)+") ",1)]),_:2},1032,["value","short_name"]))),128))]),_:1},8,["value","placeholder"]),t(A,{onOnAddSuccess:e.unitAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1},8,["md","lg"]),e.formData.product_type=="single"?(r(),C(p,{key:0,xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{name:"stock_quantitiy_alert",help:e.rules.stock_quantitiy_alert?e.rules.stock_quantitiy_alert.message:null,validateStatus:e.rules.stock_quantitiy_alert?"error":null},{label:a(()=>[t(O,{label:e.$t("product.quantitiy_alert"),content:e.$t("popover.quantitiy_alert")},null,8,["label","content"])]),default:a(()=>[t(F,{value:e.formData.stock_quantitiy_alert,"onUpdate:value":l[10]||(l[10]=z=>e.formData.stock_quantitiy_alert=z),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.quantitiy_alert")]),min:"0",style:{width:"100%"}},null,8,["value","placeholder"])]),_:1},8,["help","validateStatus"])]),_:1})):D("",!0)]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:e.$t("product.barcode_symbology"),name:"barcode_symbology",help:e.rules.barcode_symbology?e.rules.barcode_symbology.message:null,validateStatus:e.rules.barcode_symbology?"error":null,class:"required"},{default:a(()=>[t(d,{value:e.formData.barcode_symbology,"onUpdate:value":l[11]||(l[11]=z=>e.formData.barcode_symbology=z),placeholder:e.$t("common.select_default_text",[e.$t("product.barcode_symbology")])},{default:a(()=>[(r(!0),S(I,null,Q(e.barcodeSymbology,z=>(r(),C(u,{key:z.key,value:z.value},{default:a(()=>[i(s(z.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:16,lg:16},{default:a(()=>[t(m,{label:e.$t("product.item_code"),name:"item_code",help:e.rules.item_code?e.rules.item_code.message:null,validateStatus:e.rules.item_code?"error":null,class:"required"},{default:a(()=>[t(b,{value:e.formData.item_code,"onUpdate:value":l[12]||(l[12]=z=>e.formData.item_code=z),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.item_code")])},{addonAfter:a(()=>[t(R,null,{default:a(()=>[e.formData.item_code==""?(r(),C(E,{key:0,type:"text",size:"small",onClick:e.generateBarCode},{icon:a(()=>[t(P)]),_:1},8,["onClick"])):(r(),C(U,{key:1,itemCode:e.formData.item_code,barcodeSymbology:e.formData.barcode_symbology},null,8,["itemCode","barcodeSymbology"]))]),_:1}),t(L,{onClosed:e.storeScanCode},null,8,["onClosed"])]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1}),t(K,null,{default:a(()=>[i(s(e.formData.product_type=="single"?e.$t("product.price_tax"):e.$t("product.variant_details")),1)]),_:1}),e.formData.product_type=="single"?(r(),C(_,{key:0,gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(m,{label:e.$t("product.tax"),name:"tax_id",help:e.rules.tax_id?e.rules.tax_id.message:null,validateStatus:e.rules.tax_id?"error":null},{default:a(()=>[w("span",Ni,[t(d,{value:e.formData.tax_id,"onUpdate:value":l[13]||(l[13]=z=>e.formData.tax_id=z),placeholder:e.$t("common.select_default_text",[e.$t("product.tax")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(e.taxes,z=>(r(),C(u,{key:z.xid,value:z.xid},{default:a(()=>[i(s(z.name)+" ("+s(z.rate)+"%) ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"]),t(V,{onOnAddSuccess:e.taxAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(m,{label:e.$t("product.opening_stock"),name:"opening_stock",help:e.rules.opening_stock?e.rules.opening_stock.message:null,validateStatus:e.rules.opening_stock?"error":null},{default:a(()=>[t(b,{value:e.formData.opening_stock,"onUpdate:value":l[14]||(l[14]=z=>e.formData.opening_stock=z),placeholder:"0"},{addonAfter:a(()=>[i(s(e.selectedUnit&&e.selectedUnit.short_name?e.selectedUnit.short_name:""),1)]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(m,{label:e.$t("product.opening_stock_date"),name:"opening_stock_date",help:e.rules.opening_stock_date?e.rules.opening_stock_date.message:null,validateStatus:e.rules.opening_stock_date?"error":null},{default:a(()=>[t(q,{value:e.formData.opening_stock_date,"onUpdate:value":l[15]||(l[15]=z=>e.formData.opening_stock_date=z),format:e.appSetting.date_format,valueFormat:"YYYY-MM-DD",style:{width:"100%"}},null,8,["value","format"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),e.formData.product_type=="single"?(r(),C(_,{key:1,gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:e.$t("product.purchase_price"),name:"purchase_price",help:e.rules.purchase_price?e.rules.purchase_price.message:null,validateStatus:e.rules.purchase_price?"error":null,class:"required"},{default:a(()=>[t(F,{value:e.formData.purchase_price,"onUpdate:value":l[17]||(l[17]=z=>e.formData.purchase_price=z),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.purchase_price")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(e.appSetting.currency.symbol),1)]),addonAfter:a(()=>[t(d,{value:e.formData.purchase_tax_type,"onUpdate:value":l[16]||(l[16]=z=>e.formData.purchase_tax_type=z),style:{width:"120px"}},{default:a(()=>[t(u,{value:"inclusive"},{default:a(()=>[i(s(e.$t("common.with_tax")),1)]),_:1}),t(u,{value:"exclusive"},{default:a(()=>[i(s(e.$t("common.without_tax")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:e.$t("product.sales_price"),name:"sales_price",help:e.rules.sales_price?e.rules.sales_price.message:null,validateStatus:e.rules.sales_price?"error":null,class:"required"},{default:a(()=>[t(F,{value:e.formData.sales_price,"onUpdate:value":l[19]||(l[19]=z=>e.formData.sales_price=z),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.sales_price")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(e.appSetting.currency.symbol),1)]),addonAfter:a(()=>[t(d,{value:e.formData.sales_tax_type,"onUpdate:value":l[18]||(l[18]=z=>e.formData.sales_tax_type=z),style:{width:"120px"}},{default:a(()=>[t(u,{value:"inclusive"},{default:a(()=>[i(s(e.$t("common.with_tax")),1)]),_:1}),t(u,{value:"exclusive"},{default:a(()=>[i(s(e.$t("common.without_tax")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:e.$t("product.mrp"),name:"mrp",help:e.rules.mrp?e.rules.mrp.message:null,validateStatus:e.rules.mrp?"error":null},{default:a(()=>[t(F,{value:e.formData.mrp,"onUpdate:value":l[20]||(l[20]=z=>e.formData.mrp=z),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.mrp")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(e.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),e.formData.product_type=="variable"?(r(),S(I,{key:2},[t(B,{message:e.$t("variations.add_variation_message"),type:"info","show-icon":"",class:"mb-20"},null,8,["message"]),t(Y,{ref:"variableTypeTable",showTable:e.formData.product_type!="single",formData:e.formData,variations:e.variations,selectedUnit:e.selectedUnit,onVariant_added:l[21]||(l[21]=z=>e.formData.variations=z)},null,8,["showTable","formData","variations","selectedUnit"])],64)):D("",!0),t(K,null,{default:a(()=>[i(s(e.$t("product.custom_fields")),1)]),_:1}),t(_,{gutter:16},{default:a(()=>[(r(!0),S(I,null,Q(e.customFields,z=>(r(),C(p,{xs:24,sm:24,md:6,lg:6,key:z.xid},{default:a(()=>[t(m,{label:z.name,name:z.name},{default:a(()=>[t(b,{value:e.customFieldsData[z.name],"onUpdate:value":X=>e.customFieldsData[z.name]=X,placeholder:z.name},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["label","name"])]),_:2},1024))),128))]),_:1}),t(_,null,{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("product.description"),name:"description",help:e.rules.description?e.rules.description.message:null,validateStatus:e.rules.description?"error":null},{default:a(()=>[t(N,{value:e.formData.description,"onUpdate:value":l[22]||(l[22]=z=>e.formData.description=z),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.description")]),rows:4},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","width","open","onClose"])}const go=W(zi,[["render",Yi]]),yo=()=>{const{t:e}=te(),l=["product_id"],c=["product_id"],n=[{title:e("stock.order_date"),dataIndex:"order_date"},{title:e("stock.order_type"),dataIndex:"order_type"},{title:e("product.quantity"),dataIndex:"quantity"},{title:e("product.unit_price"),dataIndex:"single_unit_price"},{title:e("product.discount"),dataIndex:"total_discount"},{title:e("product.tax"),dataIndex:"total_tax"},{title:e("product.subtotal"),dataIndex:"subtotal"}],h=[{title:e("common.date"),dataIndex:"created_at"},{title:e("stock.order_type"),dataIndex:"order_type"},{title:e("product.quantity"),dataIndex:"quantity"},{title:e("product.stocks"),dataIndex:"stock_type"},{title:e("stock.remarks"),dataIndex:"action_type"}];return{productOrderColumns:n,stockHistoryColumns:h,stockHistoryHashableColumns:l,orderItemsHashableColumns:c}},Gi=Z({props:["product"],setup(e){const{stockHistoryColumns:l,stockHistoryHashableColumns:c}=yo(),{formatDate:n,formatDateTime:h,formatAmountCurrency:y,getOrderTypeFromstring:u}=J(),d=je();return x(()=>{d.tableUrl.value={url:"stock-history?fields=id,xid,created_at,order_type,quantity,stock_type,action_type",filters:{product_id:e.product.xid}},d.hashable.value=[...c],d.fetch({page:1})}),{stockHistoryColumns:l,...d,formatDate:n,formatDateTime:h,formatAmountCurrency:y,getOrderTypeFromstring:u}}}),Ji={key:0,class:"table-responsive"};function Qi(e,l,c,n,h,y){const u=o("a-table"),d=o("a-col"),m=o("a-row");return r(),C(m,null,{default:a(()=>[t(d,{span:24},{default:a(()=>[e.table.loading?D("",!0):(r(),S("div",Ji,[t(u,{columns:e.stockHistoryColumns,"row-key":p=>p.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange},{bodyCell:a(({column:p,record:_})=>[p.dataIndex==="created_at"?(r(),S(I,{key:0},[i(s(e.formatDateTime(_.created_at)),1)],64)):D("",!0),p.dataIndex==="order_type"?(r(),S(I,{key:1},[i(s(e.getOrderTypeFromstring(_.order_type)),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])]))]),_:1})]),_:1})}const Xi=W(Gi,[["render",Qi]]),Zi=Z({props:["product"],setup(e){const{productOrderColumns:l,orderItemsHashableColumns:c}=yo(),{formatDate:n,formatDateTime:h,formatAmountCurrency:y,getOrderTypeFromstring:u}=J(),d=je();return x(()=>{d.tableUrl.value={url:"order-items?fields=id,xid,quantity,single_unit_price,unit_price,total_discount,discount_rate,total_tax,tax_rate,subtotal,order_id,x_order_id,order{id,xid,order_type,order_date},unit_id,x_unit_id,unit{id,xid,short_name},product_id,x_product_id,product{id,xid,unit_id,x_unit_id},product:unit{id,xid,short_name}",filters:{product_id:e.product.xid}},d.hashable.value=[...c],d.table.sorter={field:"orders.order_date",order:"asc"},d.fetch({page:1})}),{productOrderColumns:l,orderItemsHashableColumns:c,...d,formatDate:n,formatDateTime:h,formatAmountCurrency:y,getOrderTypeFromstring:u}}}),xi={key:0,class:"table-responsive"};function eu(e,l,c,n,h,y){const u=o("a-table"),d=o("a-col"),m=o("a-row");return r(),C(m,null,{default:a(()=>[t(d,{span:24},{default:a(()=>[e.table.loading?D("",!0):(r(),S("div",xi,[t(u,{columns:e.productOrderColumns,"row-key":p=>p.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange},{bodyCell:a(({column:p,record:_})=>[p.dataIndex==="order_type"?(r(),S(I,{key:0},[i(s(e.getOrderTypeFromstring(_.order.order_type)),1)],64)):D("",!0),p.dataIndex==="order_date"?(r(),S(I,{key:1},[i(s(e.formatDateTime(_.order.order_date)),1)],64)):D("",!0),p.dataIndex==="quantity"?(r(),S(I,{key:2},[i(s(_.quantity)+" "+s(_.product&&_.product.unit&&_.product.unit.short_name?_.product.unit.short_name:""),1)],64)):D("",!0),p.dataIndex==="single_unit_price"?(r(),S(I,{key:3},[i(s(e.formatAmountCurrency(_.single_unit_price)),1)],64)):D("",!0),p.dataIndex==="total_discount"?(r(),S(I,{key:4},[i(s(e.formatAmountCurrency(_.total_discount))+" ("+s(_.discount_rate)+"%) ",1)],64)):D("",!0),p.dataIndex==="total_tax"?(r(),S(I,{key:5},[i(s(e.formatAmountCurrency(_.total_tax))+" ("+s(_.tax_rate)+"%) ",1)],64)):D("",!0),p.dataIndex==="subtotal"?(r(),S(I,{key:6},[i(s(e.formatAmountCurrency(_.subtotal)),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])]))]),_:1})]),_:1})}const tu=W(Zi,[["render",eu]]),au=Z({props:["product"],components:{StockHistory:Xi,ProductOrderItems:tu},setup(){return{activeKey:T("product_order_items")}}});function nu(e,l,c,n,h,y){const u=o("ProductOrderItems"),d=o("a-tab-pane"),m=o("StockHistory"),p=o("a-tabs");return r(),C(p,{activeKey:e.activeKey,"onUpdate:activeKey":l[0]||(l[0]=_=>e.activeKey=_)},{default:a(()=>[t(d,{key:"product_order_items",tab:e.$t("product.product_orders")},{default:a(()=>[t(u,{product:e.product},null,8,["product"])]),_:1},8,["tab"]),t(d,{key:"stock_history",tab:e.$t("product.stock_history")},{default:a(()=>[t(m,{product:e.product},null,8,["product"])]),_:1},8,["tab"])]),_:1},8,["activeKey"])}const ou=W(au,[["render",nu]]);const lu=Z({props:["product","visible"],emits:["closed"],components:{ProductDetails:ou},setup(e,{emit:l}){const{formatAmountCurrency:c}=J(),{t:n}=te(),h=T([{title:n("variations.variation"),dataIndex:"variant_id"},{title:n("product.item_code"),dataIndex:"item_code"},{title:n("product.purchase_price"),dataIndex:"purchase_price"},{title:n("product.sales_price"),dataIndex:"sales_price"},{title:n("product.mrp"),dataIndex:"mrp"}]);return{formatAmountCurrency:c,onClose:()=>{l("closed")},variantTableColumns:h,drawerWidth:window.innerWidth<=991?"90%":"60%"}}}),su={class:"product-details"},ru=["innerHTML"];function du(e,l,c,n,h,y){const u=o("a-image"),d=o("a-col"),m=o("a-alert"),p=o("a-row"),_=o("a-descriptions-item"),f=o("a-descriptions"),g=o("a-divider"),b=o("a-table"),v=o("ProductDetails"),k=o("a-drawer");return r(),C(k,{title:e.product.name,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},maskClosable:!1,onClose:e.onClose,destroyOnClose:!0},{default:a(()=>[w("div",su,[t(p,{gutter:[16,16]},{default:a(()=>[e.product.product_type=="single"?(r(),C(d,{key:0,xs:24,sm:24,md:4,lg:4},{default:a(()=>[t(u,{src:e.product.image_url},null,8,["src"])]),_:1})):D("",!0),t(d,{xs:24,sm:24,md:e.product.product_type=="single"?20:24,lg:e.product.product_type=="single"?20:24},{default:a(()=>[e.product.details&&e.product.details.status=="out_of_stock"?(r(),C(p,{key:0,class:"mb-10 mt-10"},{default:a(()=>[t(d,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{type:"error"},{message:a(()=>[w("span",{innerHTML:e.$t("messages.product_out_of_stock",[e.product.details.current_stock,e.product.details.stock_quantitiy_alert])},null,8,ru)]),_:1})]),_:1})]),_:1})):D("",!0),t(p,{class:"mb-10 mt-10"},{default:a(()=>[t(d,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(f,{title:e.$t("product.details"),layout:"vertical",contentStyle:{fontWeight:500,marginBottom:"20px"}},{default:a(()=>[t(_,{label:e.$t("product.name")},{default:a(()=>[i(s(e.product.name),1)]),_:1},8,["label"]),e.product.product_type=="single"?(r(),C(_,{key:0,label:e.$t("product.item_code")},{default:a(()=>[i(s(e.product.item_code),1)]),_:1},8,["label"])):D("",!0),t(_,{label:e.$t("product.category")},{default:a(()=>[i(s(e.product.category&&e.product.category.xid?e.product.category.name:"-"),1)]),_:1},8,["label"]),t(_,{label:e.$t("product.brand")},{default:a(()=>[i(s(e.product.brand&&e.product.brand.xid?e.product.brand.name:"-"),1)]),_:1},8,["label"]),e.product.product_type=="single"?(r(),S(I,{key:1},[t(_,{label:e.$t("product.current_stock")},{default:a(()=>[i(s(e.product.details&&e.product.details.current_stock?`${e.product.details.current_stock} ${e.product.unit.short_name}`:"-"),1)]),_:1},8,["label"]),t(_,{label:e.$t("product.quantitiy_alert")},{default:a(()=>[i(s(e.product.details&&e.product.details.stock_quantitiy_alert?`${e.product.details.stock_quantitiy_alert} ${e.product.unit.short_name}`:"-"),1)]),_:1},8,["label"]),t(_,{label:e.$t("product.sales_price")},{default:a(()=>[i(s(e.product.details&&e.product.details.sales_price?e.formatAmountCurrency(e.product.details.sales_price):"-")+" "+s(e.product.details&&e.product.details.sales_tax_type=="inclusive"?` (${e.$t("common.with_tax")})`:` (${e.$t("common.without_tax")})`),1)]),_:1},8,["label"]),t(_,{label:e.$t("product.purchase_price")},{default:a(()=>[i(s(e.product.details&&e.product.details.purchase_price?e.formatAmountCurrency(e.product.details.purchase_price):"-")+" "+s(e.product.details&&e.product.details.purchase_tax_type=="inclusive"?` (${e.$t("common.with_tax")})`:` (${e.$t("common.without_tax")})`),1)]),_:1},8,["label"]),t(_,{label:e.$t("product.mrp")},{default:a(()=>[i(s(e.product.details&&e.product.details.mrp?e.formatAmountCurrency(e.product.details.mrp):"-"),1)]),_:1},8,["label"]),t(_,{label:e.$t("tax.rate")},{default:a(()=>[i(s(e.product.details&&e.product.details.tax&&e.product.details.tax.rate?`${e.product.details.tax.rate}%`:"-"),1)]),_:1},8,["label"]),t(_,{label:e.$t("product.opening_stock")},{default:a(()=>[i(s(e.product.details&&e.product.details.opening_stock?`${e.product.details.opening_stock} ${e.product.unit.short_name}`:"-"),1)]),_:1},8,["label"])],64)):D("",!0)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1},8,["md","lg"])]),_:1})]),e.product.product_type=="variable"?(r(),S(I,{key:0},[t(g,{orientation:"left"},{default:a(()=>[i(s(e.$t("menu.variations")),1)]),_:1}),t(b,{dataSource:e.product.variations,columns:e.variantTableColumns,"row-key":$=>$.xid,pagination:!1,size:"middle",class:"mb-20"},{bodyCell:a(({column:$,text:A,record:O})=>[$.dataIndex==="variant_id"?(r(),S(I,{key:0},[i(s(O.name),1)],64)):D("",!0),$.dataIndex==="purchase_price"?(r(),S(I,{key:1},[i(s(e.formatAmountCurrency(O.details.purchase_price)),1)],64)):D("",!0),$.dataIndex==="sales_price"?(r(),S(I,{key:2},[i(s(e.formatAmountCurrency(O.details.sales_price)),1)],64)):D("",!0),$.dataIndex==="mrp"?(r(),S(I,{key:3},[i(s(e.formatAmountCurrency(O.details.mrp)),1)],64)):D("",!0)]),_:1},8,["dataSource","columns","row-key"])],64)):(r(),C(v,{key:1,product:e.product},null,8,["product"]))]),_:1},8,["title","width","open","onClose"])}const iu=W(lu,[["render",du]]),uu=Z({props:["moduleName"],setup(e){const{visibleSubscriptionModules:l}=J();return{visibleSubscriptionModules:l}}});function mu(e,l,c,n,h,y){return e.visibleSubscriptionModules&&e.visibleSubscriptionModules.includes(e.moduleName)?de(e.$slots,"default",{key:0}):D("",!0)}const ho=W(uu,[["render",mu]]),cu=Z({props:["moduleName"],components:{FormOutlined:Kn},setup(e){const{visibleSubscriptionModules:l,appSetting:c,user:n}=J();return{visibleSubscriptionModules:l,appSetting:c,user:n}}});function pu(e,l,c,n,h,y){const u=o("FormOutlined"),d=o("a-button"),m=o("a-alert"),p=o("a-col"),_=o("a-row");return e.visibleSubscriptionModules&&!e.visibleSubscriptionModules.includes(e.moduleName)&&e.appSetting.x_admin_id==e.user.xid?(r(),C(_,{key:0,gutter:[15,15],class:"mb-20"},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{message:e.$t("subscription_plans.limit_exceed"),description:e.$t("subscription_plans.upgrade_your_plan"),type:"error","show-icon":"",onClose:l[0]||(l[0]=()=>e.$router.push({name:"admin.subscription.change_plan"}))},{closeText:a(()=>[t(d,{type:"primary"},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("subscription_plans.upgrade_plan")),1)]),_:1})]),_:1},8,["message","description"])]),_:1})]),_:1})):D("",!0)}const _u=W(cu,[["render",pu]]);const fu={components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,ClusterOutlined:hl,AppstoreAddOutlined:Vn,AddEdit:go,ProductView:iu,ProductInfo:Gd,AdminPageHeader:ge,ImportProducts:Ft,SubscriptionModuleVisibility:ho,SubscriptionModuleVisibilityMessage:_u},setup(){const{addEditUrl:e,initData:l,columns:c,variantColumns:n,filterableColumns:h,hashableColumns:y,multiDimensalObjectColumns:u}=ro(),d=Ke(),{appSetting:m,permsArray:p,formatAmountCurrency:_,getRecursiveCategories:f,filterTreeNode:g,selectedWarehouse:b}=J(),v=T({category_id:void 0,brand_id:void 0}),k=window.config.product_sample_file,$=T([]),A=T([]),O=T("single");x(()=>{P(),F(),d.crudUrl.value=e,d.langKey.value="product",d.initData.value={...l},d.formData.value={...l},d.hashableColumns.value=[...y],d.multiDimensalObjectColumns.value={...u}});const F=()=>{var L="products?fields=id,xid,name,slug,product_type,barcode_symbology,item_code,image,image_url,category_id,x_category_id,category{id,xid,name},brand_id,x_brand_id,brand{id,xid,name},unit_id,x_unit_id,unit{id,xid,name,short_name},description,details{stock_quantitiy_alert,opening_stock,opening_stock_date,wholesale_price,wholesale_quantity,mrp,purchase_price,sales_price,tax_id,x_tax_id,purchase_tax_type,sales_tax_type,current_stock,warehouse_id,x_warehouse_id,status},details:tax{id,xid,name,rate},details:warehouse{id,xid,name},customFields{id,xid,field_name,field_value},warehouse_id,x_warehouse_id,warehouse{id,xid}";O.value=="variable"&&(L="products?fields=id,xid,name,product_type,slug,barcode_symbology,item_code,image,image_url,category_id,x_category_id,category{id,xid,name},brand_id,x_brand_id,brand{id,xid,name},unit_id,x_unit_id,unit{id,xid,name,short_name},description,details{stock_quantitiy_alert,opening_stock,opening_stock_date,wholesale_price,wholesale_quantity,mrp,purchase_price,sales_price,tax_id,x_tax_id,purchase_tax_type,sales_tax_type,current_stock,warehouse_id,x_warehouse_id,status},details:tax{id,xid,name,rate},details:warehouse{id,xid,name},customFields{id,xid,field_name,field_value},warehouse_id,x_warehouse_id,warehouse{id,xid},parent_id,x_parent_id,variations.limit(10000).offset(0){id,xid,name,slug,item_code,product_type,barcode_symbology,item_code,image,image_url,category_id,x_category_id,unit_id,x_unit_id,brand_id,x_brand_id},variations:productVariations{id,xid,product_id,x_product_id,variant_id,x_variant_id,variant_value_id,x_variant_value_id},variations:category{id,xid,name},variations:brand{id,xid,name},variations:unit{id,xid,name,short_name},variations:productVariations:variation{id,xid,name},variations:productVariations:variationType{id,xid,name},variations:details{stock_quantitiy_alert,opening_stock,opening_stock_date,wholesale_price,wholesale_quantity,mrp,purchase_price,sales_price,tax_id,x_tax_id,purchase_tax_type,sales_tax_type,current_stock,warehouse_id,x_warehouse_id,status},variations:details:tax{id,xid,name,rate},variations:details:warehouse{id,xid,name}"),d.tableUrl.value={url:L,filters:v,extraFilters:{product_type:O.value}},d.table.filterableColumns=h,d.fetch({page:1})},P=()=>{const L=axiosAdmin.get("categories?limit=10000"),K=axiosAdmin.get("brands?limit=10000");Promise.all([L,K]).then(([V,q])=>{$.value=f(V),A.value=q.data})},E=L=>{var K="";const V=Ha(L.variations,B=>B.details.sales_price),q=Na(L.variations,B=>B.details.sales_price);return V&&V.details.sales_price&&(K+=_(V.details.sales_price)),q&&q.details.sales_price&&(K+=" - "+_(q.details.sales_price)),K},U=L=>{var K="";const V=Ha(L.variations,B=>B.details.purchase_price),q=Na(L.variations,B=>B.details.purchase_price);return V&&V.details.sales_price&&(K+=_(V.details.purchase_price)),q&&q.details.sales_price&&(K+=" - "+_(q.details.purchase_price)),K},R=L=>ba(L.variations,K=>K.details.current_stock);return me(b,(L,K)=>{F()}),{columns:c,variantColumns:n,appSetting:m,...d,permsArray:p,formatAmountCurrency:_,categories:$,brands:A,filters:v,filterTreeNode:g,setUrlData:F,sampleFileUrl:k,productType:O,getVariableProductSalePrice:E,getVariableProductPurchasePrice:U,getVariableProductStockSum:R}}},gu={class:"table-responsive"},yu={key:0},hu={key:1},bu={key:0},vu={key:1},ku={key:0},wu={key:1};function Cu(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("SubscriptionModuleVisibility"),v=o("ImportProducts"),k=o("DeleteOutlined"),$=o("a-space"),A=o("a-col"),O=o("a-input-search"),F=o("a-select-option"),P=o("a-select"),E=o("a-tree-select"),U=o("a-row"),R=o("admin-page-filters"),L=o("AddEdit"),K=o("ProductView"),V=o("SubscriptionModuleVisibilityMessage"),q=o("AppstoreAddOutlined"),B=o("a-tab-pane"),Y=o("ClusterOutlined"),N=o("a-tabs"),le=o("a-badge"),H=o("a-popover"),G=o("a-avatar"),z=o("EyeOutlined"),X=o("EditOutlined"),j=o("a-table"),oe=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.products"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.product_manager")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.products")),1)]),_:1})]),_:1})]),_:1}),t(R,null,{default:a(()=>[t(U,{gutter:[16,16]},{default:a(()=>[t(A,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t($,null,{default:a(()=>[n.permsArray.includes("products_create")||n.permsArray.includes("admin")?(r(),S(I,{key:0},[t(b,{moduleName:"product"},{default:a(()=>[t(g,{type:"primary",onClick:l[0]||(l[0]=()=>{e.formData={...e.formData,product_type:n.productType},e.addItem()})},{default:a(()=>[t(f),i(" "+s(e.$t("product.add")),1)]),_:1})]),_:1}),t(v,{pageTitle:e.$t("product.import_products"),sampleFileUrl:n.sampleFileUrl,importUrl:"products/import",onOnUploadSuccess:n.setUrlData},null,8,["pageTitle","sampleFileUrl","onOnUploadSuccess"])],64)):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("products_delete")||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(A,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(U,{gutter:[16,16],justify:"end"},{default:a(()=>[t(A,{xs:24,sm:24,md:8,lg:8,xl:6},{default:a(()=>[t(O,{value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=M=>e.table.searchString=M),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,style:{width:"100%"},loading:e.table.filterLoading,placeholder:e.$t("product.search_scan_product")},null,8,["value","onChange","onSearch","loading","placeholder"])]),_:1}),t(A,{xs:24,sm:24,md:8,lg:8,xl:6},{default:a(()=>[t(P,{value:n.filters.brand_id,"onUpdate:value":l[2]||(l[2]=M=>n.filters.brand_id=M),placeholder:e.$t("common.select_default_text",[e.$t("product.brand")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":"",onChange:n.setUrlData},{default:a(()=>[(r(!0),S(I,null,Q(n.brands,M=>(r(),C(F,{key:M.xid,title:M.name,value:M.xid},{default:a(()=>[i(s(M.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1}),t(A,{xs:24,sm:24,md:8,lg:8,xl:6},{default:a(()=>[t(E,{value:n.filters.category_id,"onUpdate:value":l[3]||(l[3]=M=>n.filters.category_id=M),"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"250px",overflow:"auto"},placeholder:e.$t("common.select_default_text",[e.$t("category.category")]),"tree-data":n.categories,"allow-clear":"","tree-default-expand-all":"",filterTreeNode:n.filterTreeNode,onChange:n.setUrlData},null,8,["value","placeholder","tree-data","filterTreeNode","onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(oe,null,{default:a(()=>[t(L,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onAddAndNewSuccess:e.addAndNewSuccess,onAddAndContinueSuccess:e.addAndContinueSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onAddAndNewSuccess","onAddAndContinueSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(K,{product:e.viewData,visible:e.detailsVisible,onClosed:e.onCloseDetails},null,8,["product","visible","onClosed"]),t(V,{moduleName:"product"}),t(U,{gutter:16},{default:a(()=>[t(A,{span:24},{default:a(()=>[t(N,{activeKey:n.productType,"onUpdate:activeKey":l[4]||(l[4]=M=>n.productType=M),onChange:n.setUrlData},{default:a(()=>[t(B,{key:"single"},{tab:a(()=>[w("span",null,[t(q),i(" "+s(e.$t("variations.single_type_product")),1)])]),_:1}),t(B,{key:"variable"},{tab:a(()=>[w("span",null,[t(Y),i(" "+s(e.$t("variations.variant_type_product")),1)])]),_:1})]),_:1},8,["activeKey","onChange"])]),_:1})]),_:1}),t(U,null,{default:a(()=>[t(A,{span:24},{default:a(()=>[w("div",gu,[t(j,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:M=>({disabled:!1,name:M.xid})},columns:n.columns,"row-key":M=>M.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},We({bodyCell:a(({column:M,text:ae,record:ie})=>[M.dataIndex==="status"&&ie&&ie.details?(r(),S(I,{key:0},[ie.details.status=="out_of_stock"?(r(),C(H,{key:0,placement:"top"},{content:a(()=>[i(s(e.$t("common.out_of_stock")),1)]),default:a(()=>[t(le,{status:"error"})]),_:1})):(r(),C(le,{key:1,status:"success"}))],64)):D("",!0),M.dataIndex==="name"?(r(),C(le,{key:1},{default:a(()=>[t(G,{shape:"square",src:ie.image_url},null,8,["src"]),i(" "+s(ie.name),1)]),_:2},1024)):D("",!0),M.dataIndex==="item_code"?(r(),S(I,{key:2},[i(s(ie.item_code),1)],64)):D("",!0),M.dataIndex==="warehouse_id"?(r(),S(I,{key:3},[i(s(ie.details&&ie.details.warehouse&&ie.details.warehouse.name?ie.details.warehouse.name:"-"),1)],64)):D("",!0),M.dataIndex==="category_id"?(r(),S(I,{key:4},[i(s(ie.category?ie.category.name:"-"),1)],64)):D("",!0),M.dataIndex==="brand_id"?(r(),S(I,{key:5},[i(s(ie.brand?ie.brand.name:"-"),1)],64)):D("",!0),M.dataIndex==="sales_price"?(r(),S(I,{key:6},[n.productType=="single"&&ie&&ie.details?(r(),S("span",yu,s(n.formatAmountCurrency(ie.details.sales_price)),1)):n.productType=="variable"?(r(),S("span",hu,s(n.getVariableProductSalePrice(ie)),1)):D("",!0)],64)):D("",!0),M.dataIndex==="purchase_price"?(r(),S(I,{key:7},[n.productType=="single"&&ie&&ie.details?(r(),S("span",bu,s(n.formatAmountCurrency(ie.details.purchase_price)),1)):n.productType=="variable"?(r(),S("span",vu,s(n.getVariableProductPurchasePrice(ie)),1)):D("",!0)],64)):D("",!0),M.dataIndex==="current_stock"?(r(),S(I,{key:8},[n.productType=="single"&&ie&&ie.details?(r(),S("span",ku,s(`${ie.details.current_stock} ${ie.unit.short_name}`),1)):n.productType=="variable"?(r(),S("span",wu,s(n.getVariableProductStockSum(ie)),1)):D("",!0)],64)):D("",!0),M.dataIndex==="action"?(r(),C($,{key:9},{default:a(()=>[t(g,{onClick:re=>e.viewItem(ie),type:"primary"},{icon:a(()=>[t(z)]),_:2},1032,["onClick"]),n.permsArray.includes("products_edit")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:re=>e.editItem(ie)},{icon:a(()=>[t(X)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("products_delete")||n.permsArray.includes("admin")?(r(),C(g,{key:1,type:"primary",onClick:re=>e.showDeleteConfirm(ie.xid)},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)]),_:2},1024)):D("",!0)]),_:2},[n.productType=="variable"?{name:"expandedRowRender",fn:a(M=>[M&&M.record&&M.record.variations?(r(),C(j,{key:0,columns:n.variantColumns,"row-key":ae=>ae.xid,"data-source":M.record.variations,pagination:!1,size:"middle"},{bodyCell:a(({column:ae,text:ie,record:re})=>[ae.dataIndex==="name"?(r(),S(I,{key:0},[i(s(re.name),1)],64)):D("",!0),ae.dataIndex==="item_code"?(r(),S(I,{key:1},[i(s(re.item_code),1)],64)):D("",!0),ae.dataIndex==="sales_price"&&re&&re.details?(r(),S(I,{key:2},[i(s(n.formatAmountCurrency(re.details.sales_price)),1)],64)):D("",!0),ae.dataIndex==="purchase_price"&&re&&re.details?(r(),S(I,{key:3},[i(s(n.formatAmountCurrency(re.details.purchase_price)),1)],64)):D("",!0),ae.dataIndex==="current_stock"&&re&&re.details?(r(),S(I,{key:4},[i(s(`${re.details.current_stock} ${M.record.unit.short_name}`),1)],64)):D("",!0),ae.dataIndex==="action"?(r(),C(g,{key:5,onClick:be=>e.viewItem(re),type:"links"},{icon:a(()=>[t(z)]),_:2},1032,["onClick"])):D("",!0)]),_:2},1032,["columns","row-key","data-source"])):D("",!0)]),key:"0"}:void 0]),1032,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const Su=W(fu,[["render",Cu]]),$u=()=>{const e="variations?fields=id,xid,name,parent_id,x_parent_id,subVariation{id,xid,parent_id,x_parent_id,name}",l="variations",{t:c}=te(),n=["parent_id"],h={name:"",parent_id:void 0},y=[{title:c("variation.name"),dataIndex:"name"},{title:c("variation.value"),dataIndex:"value"},{title:c("common.action"),dataIndex:"action"}],u=[{key:"name",value:c("variation.name")}];return{url:e,addEditUrl:l,initData:h,columns:y,filterableColumns:u,hashableColumns:n}},Au=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,Upload:ot,MinusSquareOutlined:Rn,FormItemHeading:aa},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{slugify:y}=J(),u=T([{name:"",id:""}]),d=T([]),m=()=>{var v={...e.formData,value:_(),removed_variations:d.value};c({url:e.url,data:v,successMessage:e.successMessage,success:k=>{l("addEditSuccess",k.xid)}})},p=()=>{u.value.push({name:"",id:""})},_=()=>{var v=[];return we(u.value,k=>{k.name!=""&&v.push(k)}),v},f=pe(()=>u.value.length==0?!1:wt(u.value,{name:""})||wt(u.value,{name:null})),g=v=>{let k=u.value.indexOf(v);k!==-1&&u.value.splice(k,1),v.id!=""&&d.value.push(v.id)},b=()=>{h.value={},l("closed")};return me(()=>e.visible,(v,k)=>{e.visible&&(u.value=[],e.addEditType=="edit"&&we(e.data.sub_variations,$=>{u.value.push({name:$.name,id:$.xid})}))}),{loading:n,rules:h,onClose:b,onSubmit:m,slugify:y,formFields:u,removeFormField:g,addFormField:p,addFormButtonStatus:f,drawerWidth:window.innerWidth<=991?"90%":"45%"}}}),Du={key:0,style:{color:"red"}};function Tu(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("form-item-heading"),f=o("MinusSquareOutlined"),g=o("PlusOutlined"),b=o("a-button"),v=o("a-form"),k=o("SaveOutlined"),$=o("a-modal");return r(),C($,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(b,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(b,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(v,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("variation.variation_name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=A=>e.formData.name=A),placeholder:e.$t("common.placeholder_default_text",[e.$t("variation.variation_name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,null,{default:a(()=>[i(s(e.$t("variation.variation_values")),1)]),_:1}),(r(!0),S(I,null,Q(e.formFields,(A,O)=>(r(),C(p,{gutter:16,key:A.id,style:{display:"flex","align-items":"center"}},{default:a(()=>[t(m,{xs:24,sm:24,md:23,lg:23},{default:a(()=>[t(d,{label:e.$t("variation.value"),name:"name"},{default:a(()=>[t(u,{value:A.name,"onUpdate:value":F=>A.name=F,placeholder:e.$t("common.placeholder_default_text",[e.$t("variation.value")])},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["label"])]),_:2},1024),e.addEditType=="add"?(r(),C(m,{key:0,span:1,style:{"margin-top":"6px"}},{default:a(()=>[t(f,{onClick:F=>e.removeFormField(A)},null,8,["onClick"])]),_:2},1024)):D("",!0)]),_:2},1024))),128)),e.rules.value?(r(),S("p",Du,s(e.rules.value.message),1)):D("",!0),t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,null,{default:a(()=>[t(b,{type:"dashed",block:"",onClick:e.addFormField,disabled:e.addFormButtonStatus},{default:a(()=>[t(g),i(" "+s(e.$t("variation.add_new_value")),1)]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const Eu=W(Au,[["render",Tu]]),Ou={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:Eu,AdminPageHeader:ge},setup(){const{addEditUrl:e,url:l,initData:c,columns:n,filterableColumns:h,hashableColumns:y}=$u(),u=Ke(),{permsArray:d}=J();return x(()=>{const m=encodeURIComponent("parent_id eq null");u.tableUrl.value={url:`variations?fields=id,xid,name,parent_id,x_parent_id,subVariations{id,xid,parent_id,x_parent_id,name}&filters=${m}`},u.table.filterableColumns=h,u.fetch({page:1}),u.crudUrl.value=e,u.langKey.value="variation",u.initData.value={...c},u.formData.value={...c},u.hashableColumns.value=[...y]}),{columns:n,...u,filterableColumns:h,permsArray:d}}},Iu={class:"table-responsive"},Pu={key:0},Uu={key:0};function Fu(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("DeleteOutlined"),v=o("a-space"),k=o("a-col"),$=o("a-select-option"),A=o("a-select"),O=o("a-input-search"),F=o("a-input-group"),P=o("a-row"),E=o("admin-page-filters"),U=o("AddEdit"),R=o("EditOutlined"),L=o("a-table"),K=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.variations"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.product_manager")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.variations")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(P,{gutter:[16,16]},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[n.permsArray.includes("variations_create")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(f),i(" "+s(e.$t("variation.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("variations_delete")||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(P,{gutter:[16,16],justify:"end"},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:8,xl:8},{default:a(()=>[t(F,{compact:""},{default:a(()=>[t(A,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=V=>e.table.searchColumn=V),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,V=>(r(),C($,{key:V.key},{default:a(()=>[i(s(V.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(O,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=V=>e.table.searchString=V),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(K,null,{default:a(()=>[t(U,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(P,null,{default:a(()=>[t(k,{span:24},{default:a(()=>[w("div",Iu,[t(L,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:V=>({disabled:!1,name:V.xid})},columns:n.columns,"row-key":V=>V.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:V,record:q})=>[V.dataIndex==="name"?(r(),S(I,{key:0},[q.x_parent_id==""?(r(),S("span",Pu,[t(P,{gutter:[16,16],style:{"margin-top":"10px"}},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[i(s(q.x_parent_id==""?q.name:""),1)]),_:2},1024)]),_:2},1024)])):D("",!0)],64)):D("",!0),V.dataIndex==="value"?(r(),S(I,{key:1},[q.sub_variations.length>0?(r(),S("ul",Uu,[(r(!0),S(I,null,Q(q.sub_variations,B=>(r(),S("li",{key:B.name},s(B.name),1))),128))])):D("",!0)],64)):D("",!0),V.dataIndex==="action"?(r(),S(I,{key:2},[n.permsArray.includes("variations_edit")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:B=>e.editItem(q),style:{"margin-left":"4px"}},{icon:a(()=>[t(R)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("variations_delete")||n.permsArray.includes("admin")?(r(),C(g,{key:1,type:"primary",onClick:B=>e.showDeleteConfirm(q.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const qu=W(Ou,[["render",Fu]]),Mu=[{path:"/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"/admin/brands",component:qd,name:"admin.brands.index",meta:{requireAuth:!0,menuParent:"product_manager",menuKey:e=>"brands",permission:"brands_view"}},{path:"/admin/categories",component:Bd,name:"admin.categories.index",meta:{requireAuth:!0,menuParent:"product_manager",menuKey:e=>"categories",permission:"categories_view"}},{path:"/admin/products",component:Su,name:"admin.products.index",meta:{requireAuth:!0,menuParent:"product_manager",menuKey:e=>"products",permission:"products_view"}},{path:"/admin/variations",component:qu,name:"admin.variations.index",meta:{requireAuth:!0,menuParent:"product_manager",menuKey:e=>"variations",permission:"products_view"}}]}],bo=()=>{const{formatAmount:e,orderType:l,orderPageObject:c,selectedWarehouse:n,dayjs:h,appSetting:y}=J(),{t:u}=te(),d=Ge(),m=T([]),p=T([]),_=T([]),f=Se({orderSearchTerm:void 0,productFetching:!1,products:[]}),g=T({order_type:d.params.type,invoice_number:"",order_date:h().utc().format("YYYY-MM-DDTHH:mm:ssZ"),warehouse_id:l.value=="stock-transfers"?void 0:n.value.xid,user_id:void 0,terms_condition:n.value.terms_condition,notes:"",order_status:void 0,tax_id:void 0,tax_rate:0,tax_amount:0,discount:0,shipping:0,subtotal:0}),b=T([]),v=T({subtotal:0,tax:0}),k=T(!1),$=T(!1),A=T({}),O=T([]),F=T(""),P=ht(G=>{E(G)},300),E=G=>{if(f.products=[],G!=""){f.productFetching=!0;let z="search-product";axiosAdmin.post(z,{order_type:c.value.type,search_term:G,warehouse_id:g.value.warehouse_id}).then(X=>{X.data.length==1?R("",{product:X.data[0]}):f.products=X.data,f.productFetching=!1})}},U=G=>{va(()=>{G.keyCode==13&&E(G.target.value)})},R=(G,z)=>{const X=z.product;if(et(p.value,X.xid)){const M=Qe(m.value,["xid",X.xid]);if(M&&M.quantity<M.stock_quantity){const ae=[];var oe={};m.value.map(re=>{var be=re.quantity;re.xid==X.xid&&(be+=1,re.quantity=be,oe=re),ae.push(re)}),m.value=ae;var j=new Audio(y.value.beep_audio_url);j.play(),f.orderSearchTerm=void 0,f.products=[],K(oe)}else f.orderSearchTerm=void 0,f.products=[],Oe.error(u("common.out_of_stock"))}else{p.value.push(X.xid),m.value.push({...X,sn:m.value.length+1,unit_price:e(X.unit_price),tax_amount:e(X.tax_amount),subtotal:e(X.subtotal)}),f.orderSearchTerm=void 0,f.products=[],V();var j=new Audio(y.value.beep_audio_url);j.play()}},L=G=>{var z=parseFloat(G.quantity),X=parseFloat(G.stock_quantity);G.item_id;const j=parseFloat(G.unit_price);z=z>X&&(c.value.type=="sales"||c.value.type=="purchase-returns")?X:z;const oe=G.discount_rate,M=oe>0?oe/100*j:0,ae=j-M;var ie=0,re=ae,be=j;return G.tax_rate>0&&(G.tax_type=="inclusive"?(be=ae*100/(100+G.tax_rate),ie=be*(G.tax_rate/100)):(ie=ae*(G.tax_rate/100),re=ae+ie,be=ae)),{...G,total_discount:M*z,subtotal:re*z,quantity:z,total_tax:ie*z,max_quantity:X,single_unit_price:be}},K=G=>{const z=[];m.value.map(X=>{if(X.xid==G.xid){const j=L(G);z.push(j)}else z.push(X)}),m.value=z,V()},V=()=>{let G=0,z=0;m.value.map(M=>{G+=M.subtotal});const X=g.value.discount!=""?parseFloat(g.value.discount):0,j=g.value.tax_rate!=""?parseFloat(g.value.tax_rate):0;m.value.map(M=>{z+=M.total_tax}),v.value.subtotal=G,v.value.tax=z,G=G-X;const oe=G*(j/100);G=G+parseFloat(g.value.shipping),g.value.subtotal=e(G+oe),g.value.tax_amount=e(oe),g.value.discount=X},q=()=>{let G=0,z=0;m.value.map(X=>{G+=X.subtotal}),m.value.map(X=>{z+=X.total_tax}),v.value.subtotal=G,v.value.tax=z},B=G=>{const z=[];let X=1;m.value.map(oe=>{G.item_id&&G.item_id!=""&&G.item_id!=null&&G.item_id==oe.item_id&&oe.item_id!=null&&(_.value=[..._.value,oe.item_id]),oe.xid!=G.xid&&(z.push({...oe,sn:X,single_unit_price:e(oe.single_unit_price),tax_amount:e(oe.tax_amount),subtotal:e(oe.subtotal)}),X++)}),m.value=z;const j=p.value.filter(oe=>oe!=G.xid);p.value=j,V()},Y=(G,z)=>{g.value.tax_rate=G==null?0:z.tax.rate,V()},N=G=>{A.value={id:G.xid,discount_rate:G.discount_rate,unit_price:G.unit_price,tax_id:G.x_tax_id,tax_type:G.tax_type==null?void 0:G.tax_type},k.value=!0,F.value=G.name},le=()=>{const G=m.value.filter(oe=>oe.xid==A.value.id),z=b.value.filter(oe=>oe.xid==A.value.tax_id),X=A.value.tax_type!=null?A.value.tax_type:"exclusive",j={...G[0],discount_rate:parseFloat(A.value.discount_rate),unit_price:parseFloat(A.value.unit_price),tax_id:A.value.tax_id,tax_rate:z[0]?z[0].rate:0,tax_type:X};K(j),H()},H=()=>{A.value={},k.value=!1};return{state:f,route:d,orderType:l,orderPageObject:c,selectedProducts:m,selectedProductIds:p,formData:g,productsAmount:v,taxes:b,fetchProducts:P,searchValueSelected:R,recalculateValues:L,quantityChanged:K,recalculateFinalTotal:V,showDeleteConfirm:B,taxChanged:Y,editItem:N,addEditVisible:k,addEditFormData:A,addEditFormSubmitting:$,addEditRules:O,addEditPageTitle:F,onAddEditSubmit:le,onAddEditClose:H,removedOrderItemsIds:_,calculateProductAmount:q,inputValueChanged:U}},Ru=Z({props:{size:{default:"middle"},btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:go,SubscriptionModuleVisibility:ho},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=ro(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),Ku={key:0};function Vu(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit"),f=o("SubscriptionModuleVisibility");return r(),C(f,{moduleName:"product"},{default:a(()=>[e.permsArray.includes("products_create")||e.permsArray.includes("admin")?(r(),S("div",Ku,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"products"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("product.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{size:e.size,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["size","onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,size:e.size,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["size","onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("product.add"),successMessage:e.$t("product.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)]),_:3})}const qa=W(Ru,[["render",Vu]]),zu=Z({props:{dateTime:{default:void 0},disabled:{default:!1}},emits:["dateTimeChanged"],setup(e,{emit:l}){const c=T(void 0),{disabledDate:n,formatDateTime:h,dayjs:y}=J();x(()=>{u(e.dateTime)});const u=p=>{e.dateTime?c.value=y(p):c.value=void 0},d=p=>p?h(p.format()):void 0,m=p=>{const _=p?p.utc().format("YYYY-MM-DDTHH:mm:ssZ"):void 0;l("dateTimeChanged",_)};return me(()=>e.dateTime,(p,_)=>{u(p)}),{dateTimeValue:c,disabledDate:n,formatOrderDate:d,dateTimeChanged:m}}});function Lu(e,l,c,n,h,y){const u=o("a-date-picker");return r(),C(u,{value:e.dateTimeValue,"onUpdate:value":l[0]||(l[0]=d=>e.dateTimeValue=d),format:e.formatOrderDate,"disabled-date":e.disabledDate,"show-time":"",placeholder:e.$t("common.date_time"),style:{width:"100%"},onChange:e.dateTimeChanged,disabled:e.disabled},null,8,["value","format","disabled-date","placeholder","onChange","disabled"])}const na=W(zu,[["render",Lu]]),vo=()=>{const e="roles?fields=id,xid,name,display_name,description,perms.limit(10000)",l="roles",{t:c}=te(),n=Se({permissions:[]}),h={name:"",display_name:"",description:"",permissions:[]},y=[{title:c("role.role_name"),dataIndex:"display_name",sorter:!0},{title:c("role.description"),dataIndex:"description"},{title:c("common.action"),dataIndex:"action"}],u=[{key:"name",value:c("role.role_name")}];return{url:e,addEditUrl:l,initData:h,columns:y,filterableColumns:u,preFetchData:n,getPreFetchData:()=>{axiosAdmin.get("permissions?fields=id,xid,name,display_name&limit=10000").then(m=>{n.permissions=m.data})}}};const Bu=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),y=T([]);te();const u=T([]),d=T([]),{slugify:m,appModules:p}=J();x(()=>{axiosAdmin.get("permissions?fields=id,xid,name,display_name&limit=10000").then(g=>{const b=[];g.data.map(v=>{b[v.name]=v.xid}),u.value=b})});const _=()=>{const g={...e.formData,permissions:d.value};c({url:e.url,data:g,successMessage:e.successMessage,success:b=>{l("addEditSuccess",b.xid)}})},f=()=>{h.value={},l("closed")};return me(()=>e.visible,(g,b)=>{g&&e.addEditType=="edit"?e.data.perms.forEach(v=>{d.value.push(v.xid)}):d.value=[]}),{loading:n,rules:h,onClose:f,onSubmit:_,roles:y,permissions:u,drawerWidth:window.innerWidth<=991?"90%":"45%",checkedPermissions:d,slugify:m,appModules:p}}}),Wu={class:"d-flex flex-column scroll-y"},ju={class:"tbl-responsive"},Hu={class:"table align-middle table-row-dashed row-gap"},Nu={class:"text-gray-600 fw-bold"},Yu={class:"text-gray-800"},Gu={class:"d-flex"},Ju={class:"form-check form-check-custom me-5 me-lg-20"},Qu={class:"form-check form-check-custom me-5 me-lg-20"},Xu={class:"form-check form-check-custom me-5 me-lg-20"},Zu={class:"form-check form-check-custom"},xu={class:"text-gray-800"},em={class:"d-flex"},tm={class:"form-check form-check-custom me-5 me-lg-20"},am={class:"form-check form-check-custom me-5 me-lg-20"},nm={class:"form-check form-check-custom me-5 me-lg-20"},om={class:"form-check form-check-custom"},lm={class:"text-gray-800"},sm={class:"d-flex"},rm={class:"form-check form-check-custom me-5 me-lg-20"},dm={class:"form-check form-check-custom me-5 me-lg-20"},im={class:"form-check form-check-custom me-5 me-lg-20"},um={class:"form-check form-check-custom"},mm={class:"text-gray-800"},cm={class:"d-flex"},pm={class:"form-check form-check-custom me-5 me-lg-20"},_m={class:"form-check form-check-custom me-5 me-lg-20"},fm={class:"form-check form-check-custom me-5 me-lg-20"},gm={class:"form-check form-check-custom"},ym={class:"text-gray-800"},hm={class:"d-flex"},bm={class:"form-check form-check-custom me-5 me-lg-20"},vm={class:"form-check form-check-custom me-5 me-lg-20"},km={class:"form-check form-check-custom me-5 me-lg-20"},wm={class:"form-check form-check-custom"},Cm={class:"text-gray-800"},Sm={class:"d-flex"},$m={class:"form-check form-check-custom me-5 me-lg-20"},Am={class:"form-check form-check-custom me-5 me-lg-20"},Dm={class:"form-check form-check-custom me-5 me-lg-20"},Tm={class:"form-check form-check-custom"},Em={class:"text-gray-800"},Om={class:"d-flex"},Im={class:"form-check form-check-custom me-5 me-lg-20"},Pm={class:"form-check form-check-custom me-5 me-lg-20"},Um={class:"form-check form-check-custom me-5 me-lg-20"},Fm={class:"form-check form-check-custom"},qm={class:"text-gray-800"},Mm={class:"d-flex"},Rm={class:"form-check form-check-custom me-5 me-lg-20"},Km={class:"form-check form-check-custom me-5 me-lg-20"},Vm={class:"form-check form-check-custom me-5 me-lg-20"},zm={class:"form-check form-check-custom"},Lm={class:"text-gray-800"},Bm={class:"d-flex"},Wm={class:"form-check form-check-custom me-5 me-lg-20"},jm={class:"form-check form-check-custom me-5 me-lg-20"},Hm={class:"form-check form-check-custom me-5 me-lg-20"},Nm={class:"form-check form-check-custom"},Ym={class:"text-gray-800"},Gm={class:"d-flex"},Jm={class:"form-check form-check-custom me-5 me-lg-20"},Qm={class:"form-check form-check-custom me-5 me-lg-20"},Xm={class:"form-check form-check-custom me-5 me-lg-20"},Zm={class:"form-check form-check-custom"},xm={class:"text-gray-800"},ec={class:"d-flex"},tc={class:"form-check form-check-custom me-5 me-lg-20"},ac={class:"form-check form-check-custom me-5 me-lg-20"},nc={class:"text-gray-800"},oc={class:"d-flex"},lc={class:"form-check form-check-custom me-5 me-lg-20"},sc={class:"form-check form-check-custom me-5 me-lg-20"},rc={class:"form-check form-check-custom me-5 me-lg-20"},dc={class:"form-check form-check-custom"},ic={class:"text-gray-800"},uc={class:"d-flex"},mc={class:"form-check form-check-custom me-5 me-lg-20"},cc={class:"form-check form-check-custom me-5 me-lg-20"},pc={class:"form-check form-check-custom me-5 me-lg-20"},_c={class:"form-check form-check-custom"},fc={class:"text-gray-800"},gc={class:"d-flex"},yc={class:"form-check form-check-custom me-5 me-lg-20"},hc={class:"form-check form-check-custom me-5 me-lg-20"},bc={class:"form-check form-check-custom me-5 me-lg-20"},vc={class:"form-check form-check-custom"},kc={class:"text-gray-800"},wc={class:"d-flex"},Cc={class:"form-check form-check-custom me-5 me-lg-20"},Sc={class:"form-check form-check-custom me-5 me-lg-20"},$c={class:"form-check form-check-custom me-5 me-lg-20"},Ac={class:"form-check form-check-custom"},Dc={class:"text-gray-800"},Tc={class:"d-flex"},Ec={class:"form-check form-check-custom me-5 me-lg-20"},Oc={class:"form-check form-check-custom me-5 me-lg-20"},Ic={class:"form-check form-check-custom me-5 me-lg-20"},Pc={class:"form-check form-check-custom"},Uc={class:"text-gray-800"},Fc={class:"d-flex"},qc={class:"form-check form-check-custom me-5 me-lg-20"},Mc={class:"text-gray-800"},Rc={class:"d-flex"},Kc={class:"form-check form-check-custom me-5 me-lg-20"},Vc={class:"text-gray-800"},zc={class:"d-flex"},Lc={class:"form-check form-check-custom me-5 me-lg-20"},Bc={class:"text-gray-800"},Wc={class:"d-flex"},jc={class:"form-check form-check-custom me-5 me-lg-20"},Hc={class:"text-gray-800"},Nc={class:"d-flex"},Yc={class:"form-check form-check-custom me-5 me-lg-20"},Gc={class:"text-gray-800"},Jc={class:"d-flex"},Qc={class:"form-check form-check-custom me-5 me-lg-20"},Xc={class:"text-gray-800"},Zc={class:"d-flex"},xc={class:"form-check form-check-custom me-5 me-lg-20"},ep={class:"form-check form-check-custom me-5 me-lg-20"},tp={class:"form-check form-check-custom me-5 me-lg-20"},ap={class:"form-check form-check-custom"},np={class:"text-gray-800"},op={class:"d-flex"},lp={class:"form-check form-check-custom me-5 me-lg-20"},sp={class:"form-check form-check-custom me-5 me-lg-20"},rp={class:"form-check form-check-custom me-5 me-lg-20"},dp={class:"form-check form-check-custom"},ip={class:"text-gray-800"},up={class:"d-flex"},mp={class:"form-check form-check-custom me-5 me-lg-20"},cp={class:"form-check form-check-custom me-5 me-lg-20"},pp={class:"form-check form-check-custom me-5 me-lg-20"},_p={class:"form-check form-check-custom"},fp={class:"text-gray-800"},gp={class:"d-flex"},yp={class:"form-check form-check-custom me-5 me-lg-20"},hp={class:"form-check form-check-custom me-5 me-lg-20"},bp={class:"form-check form-check-custom me-5 me-lg-20"},vp={class:"form-check form-check-custom"},kp={class:"text-gray-800"},wp={class:"d-flex"},Cp={class:"form-check form-check-custom me-5 me-lg-20"},Sp={class:"form-check form-check-custom me-5 me-lg-20"},$p={class:"form-check form-check-custom me-5 me-lg-20"},Ap={class:"form-check form-check-custom"},Dp={class:"text-gray-800"},Tp={class:"d-flex"},Ep={class:"form-check form-check-custom me-5 me-lg-20"},Op={class:"form-check form-check-custom me-5 me-lg-20"},Ip={class:"form-check form-check-custom me-5 me-lg-20"},Pp={class:"form-check form-check-custom"},Up={class:"text-gray-800"},Fp={class:"d-flex"},qp={class:"form-check form-check-custom me-5 me-lg-20"},Mp={class:"form-check form-check-custom me-5 me-lg-20"},Rp={class:"form-check form-check-custom me-5 me-lg-20"},Kp={class:"form-check form-check-custom"},Vp={class:"text-gray-800"},zp={class:"d-flex"},Lp={class:"form-check form-check-custom me-5 me-lg-20"},Bp={class:"form-check form-check-custom me-5 me-lg-20"},Wp={class:"form-check form-check-custom me-5 me-lg-20"},jp={class:"form-check form-check-custom"},Hp={class:"text-gray-800"},Np={class:"d-flex"},Yp={class:"form-check form-check-custom me-5 me-lg-20"},Gp={class:"form-check form-check-custom me-5 me-lg-20"},Jp={class:"form-check form-check-custom me-5 me-lg-20"},Qp={class:"form-check form-check-custom me-5 me-lg-20"},Xp={class:"text-gray-800"},Zp={class:"d-flex"},xp={class:"form-check form-check-custom me-5 me-lg-20"},e_={class:"form-check form-check-custom me-5 me-lg-20"},t_={class:"form-check form-check-custom me-5 me-lg-20"},a_={class:"form-check form-check-custom me-5 me-lg-20"},n_={class:"text-gray-800"},o_={class:"d-flex"},l_={class:"form-check form-check-custom me-5 me-lg-20"},s_={class:"form-check form-check-custom me-5 me-lg-20"},r_={class:"form-check form-check-custom me-5 me-lg-20"},d_={class:"form-check form-check-custom me-5 me-lg-20"};function i_(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-textarea"),f=o("a-checkbox"),g=o("a-checkbox-group"),b=o("a-form"),v=o("SaveOutlined"),k=o("a-button"),$=o("a-drawer");return r(),C($,{title:e.pageTitle,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},maskClosable:!1,onClose:e.onClose},{footer:a(()=>[t(k,{type:"primary",onClick:e.onSubmit,style:{"margin-right":"8px"},loading:e.loading},{icon:a(()=>[t(v)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["onClick","loading"]),t(k,{onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(b,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("role.display_name"),name:"display_name",help:e.rules.display_name?e.rules.display_name.message:null,validateStatus:e.rules.display_name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.display_name,"onUpdate:value":l[0]||(l[0]=A=>e.formData.display_name=A),placeholder:e.$t("common.placeholder_default_text",[e.$t("role.display_name")]),onKeyup:l[1]||(l[1]=A=>e.formData.name=e.slugify(A.target.value))},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("role.role_name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[2]||(l[2]=A=>e.formData.name=A),placeholder:e.$t("common.placeholder_default_text",[e.$t("role.role_name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("role.description"),name:"description",help:e.rules.description?e.rules.description.message:null,validateStatus:e.rules.description?"error":null},{default:a(()=>[t(_,{value:e.formData.description,"onUpdate:value":l[3]||(l[3]=A=>e.formData.description=A),placeholder:e.$t("common.placeholder_default_text",[e.$t("role.description")]),rows:4},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("role.permissions"),name:"permissions",help:e.rules.permissions?e.rules.permissions.message:null,validateStatus:e.rules.permissions?"error":null},{default:a(()=>[w("div",Wu,[w("div",ju,[t(g,{value:e.checkedPermissions,"onUpdate:value":l[4]||(l[4]=A=>e.checkedPermissions=A)},{default:a(()=>[w("table",Hu,[w("tbody",Nu,[w("tr",null,[w("td",Yu,s(e.$t("menu.brands")),1),w("td",null,[w("div",Gu,[w("label",Ju,[t(f,{value:e.permissions.brands_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Qu,[t(f,{value:e.permissions.brands_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Xu,[t(f,{value:e.permissions.brands_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Zu,[t(f,{value:e.permissions.brands_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",xu,s(e.$t("menu.categories")),1),w("td",null,[w("div",em,[w("label",tm,[t(f,{value:e.permissions.categories_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",am,[t(f,{value:e.permissions.categories_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",nm,[t(f,{value:e.permissions.categories_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",om,[t(f,{value:e.permissions.categories_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",lm,s(e.$t("menu.variations")),1),w("td",null,[w("div",sm,[w("label",rm,[t(f,{value:e.permissions.variations_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",dm,[t(f,{value:e.permissions.variations_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",im,[t(f,{value:e.permissions.variations_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",um,[t(f,{value:e.permissions.variations_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",mm,s(e.$t("menu.products")),1),w("td",null,[w("div",cm,[w("label",pm,[t(f,{value:e.permissions.products_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",_m,[t(f,{value:e.permissions.products_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",fm,[t(f,{value:e.permissions.products_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",gm,[t(f,{value:e.permissions.products_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",ym,s(e.$t("menu.expense_categories")),1),w("td",null,[w("div",hm,[w("label",bm,[t(f,{value:e.permissions.expense_categories_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",vm,[t(f,{value:e.permissions.expense_categories_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",km,[t(f,{value:e.permissions.expense_categories_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",wm,[t(f,{value:e.permissions.expense_categories_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Cm,s(e.$t("menu.expenses")),1),w("td",null,[w("div",Sm,[w("label",$m,[t(f,{value:e.permissions.expenses_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Am,[t(f,{value:e.permissions.expenses_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Dm,[t(f,{value:e.permissions.expenses_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Tm,[t(f,{value:e.permissions.expenses_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Em,s(e.$t("menu.purchases")),1),w("td",null,[w("div",Om,[w("label",Im,[t(f,{value:e.permissions.purchases_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Pm,[t(f,{value:e.permissions.purchases_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Um,[t(f,{value:e.permissions.purchases_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Fm,[t(f,{value:e.permissions.purchases_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",qm,s(e.$t("menu.purchase_returns")),1),w("td",null,[w("div",Mm,[w("label",Rm,[t(f,{value:e.permissions.purchase_returns_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Km,[t(f,{value:e.permissions.purchase_returns_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Vm,[t(f,{value:e.permissions.purchase_returns_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",zm,[t(f,{value:e.permissions.purchase_returns_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Lm,s(e.$t("menu.sales")),1),w("td",null,[w("div",Bm,[w("label",Wm,[t(f,{value:e.permissions.sales_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",jm,[t(f,{value:e.permissions.sales_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Hm,[t(f,{value:e.permissions.sales_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Nm,[t(f,{value:e.permissions.sales_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Ym,s(e.$t("menu.sales_returns")),1),w("td",null,[w("div",Gm,[w("label",Jm,[t(f,{value:e.permissions.sales_returns_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Qm,[t(f,{value:e.permissions.sales_returns_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Xm,[t(f,{value:e.permissions.sales_returns_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Zm,[t(f,{value:e.permissions.sales_returns_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",xm,s(e.$t("menu.order_payments")),1),w("td",null,[w("div",ec,[w("label",tc,[t(f,{value:e.permissions.order_payments_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",ac,[t(f,{value:e.permissions.order_payments_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",nc,s(e.$t("menu.payment_in")),1),w("td",null,[w("div",oc,[w("label",lc,[t(f,{value:e.permissions.payment_in_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",sc,[t(f,{value:e.permissions.payment_in_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",rc,[t(f,{value:e.permissions.payment_in_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",dc,[t(f,{value:e.permissions.payment_in_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",ic,s(e.$t("menu.payment_out")),1),w("td",null,[w("div",uc,[w("label",mc,[t(f,{value:e.permissions.payment_out_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",cc,[t(f,{value:e.permissions.payment_out_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",pc,[t(f,{value:e.permissions.payment_out_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",_c,[t(f,{value:e.permissions.payment_out_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",fc,s(e.$t("menu.quotation")),1),w("td",null,[w("div",gc,[w("label",yc,[t(f,{value:e.permissions.quotations_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",hc,[t(f,{value:e.permissions.quotations_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",bc,[t(f,{value:e.permissions.quotations_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",vc,[t(f,{value:e.permissions.quotations_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",kc,s(e.$t("menu.stock_adjustment")),1),w("td",null,[w("div",wc,[w("label",Cc,[t(f,{value:e.permissions.stock_adjustments_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Sc,[t(f,{value:e.permissions.stock_adjustments_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",$c,[t(f,{value:e.permissions.stock_adjustments_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Ac,[t(f,{value:e.permissions.stock_adjustments_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Dc,s(e.$t("menu.stock_transfer")),1),w("td",null,[w("div",Tc,[w("label",Ec,[t(f,{value:e.permissions.stock_transfers_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Oc,[t(f,{value:e.permissions.stock_transfers_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Ic,[t(f,{value:e.permissions.stock_transfers_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Pc,[t(f,{value:e.permissions.stock_transfers_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Uc,s(e.$t("menu.pos")),1),w("td",null,[w("div",Fc,[w("label",qc,[t(f,{value:e.permissions.pos_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Mc,s(e.$t("menu.company")),1),w("td",null,[w("div",Rc,[w("label",Kc,[t(f,{value:e.permissions.companies_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Vc,s(e.$t("menu.storage_settings")),1),w("td",null,[w("div",zc,[w("label",Lc,[t(f,{value:e.permissions.storage_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Bc,s(e.$t("menu.email_settings")),1),w("td",null,[w("div",Wc,[w("label",jc,[t(f,{value:e.permissions.email_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Hc,s(e.$t("menu.update_app")),1),w("td",null,[w("div",Nc,[w("label",Yc,[t(f,{value:e.permissions.update_app},{default:a(()=>[i(s(e.$t("common.update_app")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Gc,s(e.$t("menu.cash_bank")),1),w("td",null,[w("div",Jc,[w("label",Qc,[t(f,{value:e.permissions.cash_bank_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Xc,s(e.$t("menu.warehouses")),1),w("td",null,[w("div",Zc,[w("label",xc,[t(f,{value:e.permissions.warehouses_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",ep,[t(f,{value:e.permissions.warehouses_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",tp,[t(f,{value:e.permissions.warehouses_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",ap,[t(f,{value:e.permissions.warehouses_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",np,s(e.$t("menu.translations")),1),w("td",null,[w("div",op,[w("label",lp,[t(f,{value:e.permissions.translations_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",sp,[t(f,{value:e.permissions.translations_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",rp,[t(f,{value:e.permissions.translations_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",dp,[t(f,{value:e.permissions.translations_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",ip,s(e.$t("menu.roles")),1),w("td",null,[w("div",up,[w("label",mp,[t(f,{value:e.permissions.roles_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",cp,[t(f,{value:e.permissions.roles_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",pp,[t(f,{value:e.permissions.roles_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",_p,[t(f,{value:e.permissions.roles_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",fp,s(e.$t("menu.taxes")),1),w("td",null,[w("div",gp,[w("label",yp,[t(f,{value:e.permissions.taxes_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",hp,[t(f,{value:e.permissions.taxes_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",bp,[t(f,{value:e.permissions.taxes_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",vp,[t(f,{value:e.permissions.taxes_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",kp,s(e.$t("menu.currencies")),1),w("td",null,[w("div",wp,[w("label",Cp,[t(f,{value:e.permissions.currencies_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Sp,[t(f,{value:e.permissions.currencies_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",$p,[t(f,{value:e.permissions.currencies_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Ap,[t(f,{value:e.permissions.currencies_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Dp,s(e.$t("menu.payment_modes")),1),w("td",null,[w("div",Tp,[w("label",Ep,[t(f,{value:e.permissions.payment_modes_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Op,[t(f,{value:e.permissions.payment_modes_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Ip,[t(f,{value:e.permissions.payment_modes_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Pp,[t(f,{value:e.permissions.payment_modes_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Up,s(e.$t("menu.units")),1),w("td",null,[w("div",Fp,[w("label",qp,[t(f,{value:e.permissions.units_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Mp,[t(f,{value:e.permissions.units_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Rp,[t(f,{value:e.permissions.units_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Kp,[t(f,{value:e.permissions.units_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Vp,s(e.$t("menu.custom_fields")),1),w("td",null,[w("div",zp,[w("label",Lp,[t(f,{value:e.permissions.custom_fields_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Bp,[t(f,{value:e.permissions.custom_fields_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Wp,[t(f,{value:e.permissions.custom_fields_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",jp,[t(f,{value:e.permissions.custom_fields_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Hp,s(e.$t("menu.staff_members")),1),w("td",null,[w("div",Np,[w("label",Yp,[t(f,{value:e.permissions.users_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",Gp,[t(f,{value:e.permissions.users_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",Jp,[t(f,{value:e.permissions.users_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",Qp,[t(f,{value:e.permissions.users_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",Xp,s(e.$t("menu.customers")),1),w("td",null,[w("div",Zp,[w("label",xp,[t(f,{value:e.permissions.customers_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",e_,[t(f,{value:e.permissions.customers_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",t_,[t(f,{value:e.permissions.customers_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",a_,[t(f,{value:e.permissions.customers_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),w("tr",null,[w("td",n_,s(e.$t("menu.suppliers")),1),w("td",null,[w("div",o_,[w("label",l_,[t(f,{value:e.permissions.suppliers_view},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1},8,["value"])]),w("label",s_,[t(f,{value:e.permissions.suppliers_create},{default:a(()=>[i(s(e.$t("common.add")),1)]),_:1},8,["value"])]),w("label",r_,[t(f,{value:e.permissions.suppliers_edit},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1},8,["value"])]),w("label",d_,[t(f,{value:e.permissions.suppliers_delete},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:1},8,["value"])])])])]),(r(!0),S(I,null,Q(e.appModules,(A,O)=>(r(),C(zn(A+"Permission"),{key:O,permissions:e.permissions},null,8,["permissions"]))),128))])])]),_:1},8,["value"])])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","width","open","onClose"])}const ko=W(Bu,[["render",i_]]),u_=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:ko},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=vo(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),m_={key:0};function c_(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("roles_create")||e.permsArray.includes("admin")?(r(),S("div",m_,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"categories"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("role.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("role.add"),successMessage:e.$t("role.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const p_=W(u_,[["render",c_]]),__={components:{InfoCircleOutlined:Pt}};function f_(e,l,c,n,h,y){const u=o("InfoCircleOutlined"),d=o("a-tooltip");return r(),C(d,null,{title:a(()=>[i(s(e.$t("user.warehouse_not_changable")),1)]),default:a(()=>[t(u)]),_:1})}const g_=W(__,[["render",f_]]),y_=Z({props:["addEditData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,Upload:ot,RoleAddButton:p_,WarehouseAddButton:qt,TooltipWarehouse:g_},setup(e,{emit:l}){const{permsArray:c,user:n,appSetting:h,selectedWarehouse:y}=J(),{addEditRequestAdmin:u,loading:d,rules:m}=ve(),p=T([]),_=T([]),f=T({}),g="roles?limit=10000",b="warehouses?limit=10000",v=ke(),k=T(!0);x(()=>{const U=axiosAdmin.get(g),R=axiosAdmin.get(b);Promise.all([U,R]).then(([L,K])=>{p.value=L.data,_.value=K.data}),f.value={...e.addEditData}});const $=()=>{u({url:e.url,data:f.value,successMessage:e.successMessage,success:U=>{l("addEditSuccess",U.xid),n.value.xid==U.xid&&v.dispatch("auth/updateUser")}})},A=()=>{m.value={},l("closed")},O=()=>{axiosAdmin.get(g).then(U=>{p.value=U.data})},F=()=>{axiosAdmin.get(b).then(U=>{_.value=U.data})},P=(U,R)=>{f.value={...f.value,warehouse_id:U.length>0?U[0]:void 0}},E=(U,R)=>{R&&R.title&&R.title=="admin"?k.value=!1:k.value=!0};return me(()=>e.visible,(U,R)=>{if(U)if(k.value=!0,e.addEditType=="edit"&&(k.value=!0,e.data.user_type=="staff_members"&&e.data.role&&e.data.role.name=="admin"&&(k.value=!1),e.data.user_type=="customers"&&e.data.is_walkin_customer&&(k.value=!1)),e.addEditType=="add")e.addEditData.user_type=="staff_members"?f.value={...e.addEditData,warehouse_id:y.value.xid,warehouses:[y.value.xid]}:f.value={...e.addEditData,warehouse_id:y.value.xid,warehouses:[]};else{var L=e.data.warehouse&&e.data.warehouse.xid?e.data.warehouse.xid:void 0,K=[];if(e.addEditData.user_type=="staff_members"){var V=e.data.user_warehouses;we(V,q=>{K.push(q.x_warehouse_id)})}f.value={...e.addEditData,role_id:e.data.role&&e.data.role.xid?e.data.role.xid:void 0,warehouse_id:L,warehouses:K,opening_balance:e.data.details&&e.data.details.opening_balance?e.data.details.opening_balance:void 0,opening_balance_type:e.data.details&&e.data.details.opening_balance_type?e.data.details.opening_balance_type:void 0,credit_period:e.data.details&&e.data.details.credit_period?e.data.details.credit_period:void 0,credit_limit:e.data.details&&e.data.details.credit_limit?e.data.details.credit_limit:void 0,_method:"PUT"}}}),{loading:d,rules:m,onClose:A,onSubmit:$,roles:p,warehouses:_,formData:f,roleAdded:O,warehouseAdded:F,permsArray:c,appSetting:h,selectedWarehouse:y,warehousesChanged:P,drawerWidth:window.innerWidth<=991?"90%":"45%",warehouseVisible:k,roleChanged:E}}}),h_={key:0,style:{display:"flex"}},b_={key:1},v_={style:{display:"flex"}},k_={key:0,class:"small-text-message"};function w_(e,l,c,n,h,y){const u=o("Upload"),d=o("a-form-item"),m=o("a-col"),p=o("a-select-option"),_=o("a-select"),f=o("WarehouseAddButton"),g=o("a-row"),b=o("RoleAddButton"),v=o("a-input"),k=o("a-input-password"),$=o("a-input-number"),A=o("a-textarea"),O=o("a-form"),F=o("SaveOutlined"),P=o("a-button"),E=o("a-drawer");return r(),C(E,{title:e.pageTitle,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},maskClosable:!1,onClose:e.onClose},{footer:a(()=>[t(P,{type:"primary",onClick:e.onSubmit,style:{"margin-right":"8px"},loading:e.loading},{icon:a(()=>[t(F)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["onClick","loading"]),t(P,{onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(O,{layout:"vertical"},{default:a(()=>[t(g,null,{default:a(()=>[t(m,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(d,{label:e.$t("user.profile_image"),name:"profile_image",help:e.rules.profile_image?e.rules.profile_image.message:null,validateStatus:e.rules.profile_image?"error":null},{default:a(()=>[t(u,{formData:e.formData,folder:"user",imageField:"profile_image",onOnFileUploaded:l[0]||(l[0]=U=>{e.formData.profile_image=U.file,e.formData.profile_image_url=U.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(m,{xs:24,sm:24,md:18,lg:18},{default:a(()=>[e.warehouseVisible?(r(),C(g,{key:0,gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{name:"warehouse_id",help:e.rules.warehouse_id?e.rules.warehouse_id.message:null,validateStatus:e.rules.warehouse_id?"error":null,class:"required"},{label:a(()=>[i(s(e.$t("warehouse.warehouse")),1)]),default:a(()=>[e.permsArray.includes("admin")?(r(),S("span",h_,[e.formData.user_type=="staff_members"?(r(),C(_,{key:0,value:e.formData.warehouses,"onUpdate:value":l[1]||(l[1]=U=>e.formData.warehouses=U),placeholder:e.$t("common.select_default_text",[e.$t("warehouse.warehouse")]),mode:"multiple",onChange:e.warehousesChanged},{default:a(()=>[(r(!0),S(I,null,Q(e.warehouses,U=>(r(),C(p,{key:U.xid,value:U.xid},{default:a(()=>[i(s(U.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder","onChange"])):(r(),C(_,{key:1,value:e.formData.warehouse_id,"onUpdate:value":l[2]||(l[2]=U=>e.formData.warehouse_id=U),placeholder:e.$t("common.select_default_text",[e.$t("warehouse.warehouse")])},{default:a(()=>[(r(!0),S(I,null,Q(e.warehouses,U=>(r(),C(p,{key:U.xid,value:U.xid},{default:a(()=>[i(s(U.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])),t(f,{onOnAddSuccess:e.warehouseAdded},null,8,["onOnAddSuccess"])])):(r(),S("span",b_,[t(_,{value:e.selectedWarehouse.xid,placeholder:e.$t("common.select_default_text",[e.$t("warehouse.warehouse")]),disabled:""},{default:a(()=>[t(p,{value:e.selectedWarehouse.xid},{default:a(()=>[i(s(e.selectedWarehouse.name),1)]),_:1},8,["value"])]),_:1},8,["value","placeholder"])]))]),_:1},8,["help","validateStatus"])]),_:1})]),_:1})):D("",!0),e.formData.user_type=="staff_members"&&e.permsArray.includes("admin")?(r(),C(g,{key:1,gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("user.role"),name:"role_id",help:e.rules.role_id?e.rules.role_id.message:null,validateStatus:e.rules.role_id?"error":null,class:"required"},{default:a(()=>[w("span",v_,[t(_,{value:e.formData.role_id,"onUpdate:value":l[3]||(l[3]=U=>e.formData.role_id=U),placeholder:e.$t("common.select_default_text",[e.$t("user.role")]),allowClear:!0,onChange:e.roleChanged},{default:a(()=>[(r(!0),S(I,null,Q(e.roles,U=>(r(),C(p,{key:U.xid,value:U.xid,title:U.name},{default:a(()=>[i(s(U.display_name),1)]),_:2},1032,["value","title"]))),128))]),_:1},8,["value","placeholder","onChange"]),t(b,{onOnAddSuccess:e.roleAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),t(g,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(v,{value:e.formData.name,"onUpdate:value":l[4]||(l[4]=U=>e.formData.name=U),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.phone"),name:"phone",help:e.rules.phone?e.rules.phone.message:null,validateStatus:e.rules.phone?"error":null,class:"required"},{default:a(()=>[t(v,{value:e.formData.phone,"onUpdate:value":l[5]||(l[5]=U=>e.formData.phone=U),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.email"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null,class:ca({required:e.formData.user_type=="staff_members"})},{default:a(()=>[t(v,{value:e.formData.email,"onUpdate:value":l[6]||(l[6]=U=>e.formData.email=U),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.email")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus","class"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.status"),name:"status",help:e.rules.status?e.rules.status.message:null,validateStatus:e.rules.status?"error":null,class:"required"},{default:a(()=>[t(_,{value:e.formData.status,"onUpdate:value":l[7]||(l[7]=U=>e.formData.status=U),placeholder:e.$t("common.select_default_text",[e.$t("user.status")])},{default:a(()=>[t(p,{value:"enabled"},{default:a(()=>[i(s(e.$t("common.enabled")),1)]),_:1}),t(p,{value:"disabled"},{default:a(()=>[i(s(e.$t("common.disabled")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),e.formData.user_type=="staff_members"||e.formData.user_type=="customers"?(r(),C(g,{key:2},{default:a(()=>[t(m,{span:24},{default:a(()=>[t(d,{label:e.$t("user.password"),name:"password",help:e.rules.password?e.rules.password.message:null,validateStatus:e.rules.password?"error":null,class:ca(e.formData.user_type=="staff_members"?"required":"")},{default:a(()=>[t(k,{value:e.formData.password,"onUpdate:value":l[8]||(l[8]=U=>e.formData.password=U),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.password")])},null,8,["value","placeholder"]),e.addEditType=="edit"?(r(),S("small",k_,s(e.$t("user.password_blank")),1)):D("",!0)]),_:1},8,["label","help","validateStatus","class"])]),_:1})]),_:1})):D("",!0),e.formData.user_type!="staff_members"?(r(),C(g,{key:3,gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("user.tax_number"),name:"tax_number",help:e.rules.tax_number?e.rules.tax_number.message:null,validateStatus:e.rules.tax_number?"error":null},{default:a(()=>[t(v,{value:e.formData.tax_number,"onUpdate:value":l[9]||(l[9]=U=>e.formData.tax_number=U),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.tax_number")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),e.formData.user_type!="staff_members"?(r(),C(g,{key:4,gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("user.opening_balance"),name:"opening_balance",help:e.rules.opening_balance?e.rules.opening_balance.message:null,validateStatus:e.rules.opening_balance?"error":null},{default:a(()=>[t(v,{value:e.formData.opening_balance,"onUpdate:value":l[11]||(l[11]=U=>e.formData.opening_balance=U),placeholder:"0"},{prefix:a(()=>[i(s(e.appSetting.currency.symbol),1)]),addonAfter:a(()=>[t(_,{value:e.formData.opening_balance_type,"onUpdate:value":l[10]||(l[10]=U=>e.formData.opening_balance_type=U),style:{width:"100px"}},{default:a(()=>[t(p,{value:"receive"},{default:a(()=>[i(s(e.$t("user.receive")),1)]),_:1}),t(p,{value:"pay"},{default:a(()=>[i(s(e.$t("user.pay")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0)]),_:1})]),_:1}),e.formData.user_type!="staff_members"?(r(),C(g,{key:0,gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.credit_period"),name:"credit_period",help:e.rules.credit_period?e.rules.credit_period.message:null,validateStatus:e.rules.credit_period?"error":null},{default:a(()=>[t($,{value:e.formData.credit_period,"onUpdate:value":l[12]||(l[12]=U=>e.formData.credit_period=U),placeholder:"0","addon-after":e.$t("user.days"),type:"number",precision:0,style:{width:"100%"}},null,8,["value","addon-after"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.credit_limit"),name:"credit_limit",help:e.rules.credit_limit?e.rules.credit_limit.message:null,validateStatus:e.rules.credit_limit?"error":null},{default:a(()=>[t(v,{value:e.formData.credit_limit,"onUpdate:value":l[13]||(l[13]=U=>e.formData.credit_limit=U),placeholder:"0","addon-before":e.appSetting.currency.symbol},null,8,["value","addon-before"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),t(g,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.formData.user_type=="staff_members"?e.$t("user.address"):e.$t("user.billing_address"),name:"address",help:e.rules.address?e.rules.address.message:null,validateStatus:e.rules.address?"error":null},{default:a(()=>[t(A,{value:e.formData.address,"onUpdate:value":l[14]||(l[14]=U=>e.formData.address=U),placeholder:e.$t("common.placeholder_default_text",[e.formData.user_type=="staff_members"?e.$t("user.address"):e.$t("user.billing_address")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),e.formData.user_type!="staff_members"?(r(),C(g,{key:1,gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("user.shipping_address"),name:"shipping_address",help:e.rules.shipping_address?e.rules.shipping_address.message:null,validateStatus:e.rules.shipping_address?"error":null},{default:a(()=>[t(A,{value:e.formData.shipping_address,"onUpdate:value":l[15]||(l[15]=U=>e.formData.shipping_address=U),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.shipping_address")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0)]),_:1})]),_:1},8,["title","width","open","onClose"])}const oa=W(y_,[["render",w_]]),la=()=>{const{t:e}=te(),l="users",c="customers",n="suppliers",h={warehouse_id:void 0,warehouses:[],name:"",email:"",profile_image:void 0,profile_image_url:void 0,phone:"",address:"",status:"enabled"},y={shipping_address:"",opening_balance:"",opening_balance_type:"receive",credit_period:"30",credit_limit:"",tax_number:void 0},u={user_type:"customers",...h,...y},d={...u,user_type:"staff_members",role_id:void 0,password:""},m={user_type:"suppliers",...u,...y},p=[{title:e("user.name"),dataIndex:"name",key:"name"},{title:e("user.email"),dataIndex:"email"},{title:e("user.created_at"),dataIndex:"created_at"},{title:e("user.status"),dataIndex:"status",key:"status"},{title:e("common.action"),dataIndex:"action"}],_=[{title:e("user.name"),dataIndex:"name",key:"name"},{title:e("user.email"),dataIndex:"email"},{title:e("user.created_at"),dataIndex:"created_at"},{title:e("common.balance"),dataIndex:"balance"},{title:e("user.status"),dataIndex:"status",key:"status"},{title:e("common.action"),dataIndex:"action"}],f=[{key:"users.name",value:e("user.name")},{key:"email",value:e("user.email")},{key:"phone",value:e("user.phone")}];return{customerInitData:u,staffMemberInitData:d,supplierInitData:m,columns:p,supplierCustomerColumns:_,filterableColumns:f,staffMemberAddEditUrl:l,customerAddEditUrl:c,supplierAddEditUrl:n}},C_=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:oa},setup(e,{emit:l}){const{permsArray:c}=J(),{supplierInitData:n,supplierAddEditUrl:h}=la(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,supplierAddEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),S_={key:0};function $_(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("suppliers_create")||e.permsArray.includes("admin")?(r(),S("div",S_,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"suppliers"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("supplier.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.supplierAddEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,addEditData:e.formData,data:e.formData,pageTitle:e.$t("supplier.add"),successMessage:e.$t("supplier.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","addEditData","data","pageTitle","successMessage"])])):D("",!0)}const A_=W(C_,[["render",$_]]),D_=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:oa},setup(e,{emit:l}){const{permsArray:c}=J(),{customerInitData:n,customerAddEditUrl:h}=la(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,customerAddEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),T_={key:0};function E_(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("customers_create")||e.permsArray.includes("admin")?(r(),S("div",T_,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"customers"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("customer.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.customerAddEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,addEditData:e.formData,data:e.formData,pageTitle:e.$t("customer.add"),successMessage:e.$t("customer.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","addEditData","data","pageTitle","successMessage"])])):D("",!0)}const wo=W(D_,[["render",E_]]),O_=Z({props:["orderPageObject","rules","usersList","editOrderDisable"],emits:["onSuccess"],components:{SearchOutlined:nt,SupplierAddButton:A_,CustomerAddButton:wo},setup(e,{emit:l}){const c=Se({orderSearchTerm:[],productFetching:!1,products:[]}),n=ht(y=>{if(c.products=[],y!=""){const u=y.trim();c.productFetching=!0;const d=`name lk "${u}%" or (phone lk "${u}%")`;let m=`${e.orderPageObject.userType}?fields=id,xid,name,phone&filters=${encodeURIComponent(d)}`;axiosAdmin.get(m).then(p=>{c.products=p.data,c.productFetching=!1})}},300),h=(y,u)=>{l("onSuccess",y)};return me(()=>e.usersList,(y,u)=>{c.products=[y],c.orderSearchTerm=y.xid}),{...dt(c),fetchProducts:n,searchValueSelected:h}}}),I_={style:{display:"flex"}},P_={key:0},U_=w("br",null,null,-1);function F_(e,l,c,n,h,y){const u=o("SearchOutlined"),d=o("a-spin"),m=o("a-select-option"),p=o("a-select"),_=o("SupplierAddButton"),f=o("CustomerAddButton"),g=o("a-form-item");return r(),C(g,{label:e.$t(`${e.orderPageObject.langKey}.user`),name:"user_id",help:e.rules.user_id?e.rules.user_id.message:null,validateStatus:e.rules.user_id?"error":null,class:"required"},{default:a(()=>[w("span",I_,[t(p,{value:e.orderSearchTerm,"onUpdate:value":l[0]||(l[0]=b=>e.orderSearchTerm=b),"show-search":"","filter-option":!1,placeholder:e.$t("common.select_default_text",[e.$t(`${e.orderPageObject.langKey}.user`)]),style:{width:"100%"},"not-found-content":e.productFetching?void 0:null,onSearch:e.fetchProducts,"option-label-prop":"label",onSelect:e.searchValueSelected,disabled:e.editOrderDisable},We({suffixIcon:a(()=>[t(u)]),default:a(()=>[(r(!0),S(I,null,Q(e.products,b=>(r(),C(m,{key:b.xid,value:b.xid,label:b.name,product:b},{default:a(()=>[i(s(b.name)+" ",1),b.phone&&b.phone!=""?(r(),S("span",P_,[U_,i(" "+s(b.phone),1)])):D("",!0)]),_:2},1032,["value","label","product"]))),128))]),_:2},[e.productFetching?{name:"notFoundContent",fn:a(()=>[t(d,{size:"small"})]),key:"0"}:void 0]),1032,["value","placeholder","not-found-content","onSearch","onSelect","disabled"]),e.orderPageObject.userType=="suppliers"?(r(),C(_,{key:0})):(r(),C(f,{key:1}))])]),_:1},8,["label","help","validateStatus"])}const Co=W(O_,[["render",F_]]),q_={components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,ExclamationCircleOutlined:Ae,SearchOutlined:nt,SaveOutlined:he,LoadingOutlined:Ie,TaxAddButton:Pa,WarehouseAddButton:qt,ProductAddButton:qa,DateTimePicker:na,AdminPageHeader:ge,UserSearch:Co},setup(){const{addEditRequestAdmin:e,loading:l,rules:c}=ve(),{appSetting:n,formatAmount:h,formatAmountCurrency:y,taxTypes:u,orderStatus:d,purchaseOrderStatus:m,salesOrderStatus:p,salesReturnStatus:_,purchaseReturnStatus:f,permsArray:g,selectedWarehouse:b}=J(),{orderItemColumns:v}=ea(),{state:k,orderType:$,orderPageObject:A,selectedProducts:O,formData:F,productsAmount:P,taxes:E,recalculateValues:U,fetchProducts:R,searchValueSelected:L,quantityChanged:K,recalculateFinalTotal:V,showDeleteConfirm:q,taxChanged:B,editItem:Y,addEditVisible:N,addEditFormData:le,addEditFormSubmitting:H,addEditRules:G,addEditPageTitle:z,onAddEditSubmit:X,onAddEditClose:j,inputValueChanged:oe}=bo(),{t:M}=te(),ae=T([]),ie=T([]),re=Re(),be=T([]),ue="taxes?limit=10000",_e="units?limit=10000",Fe=`warehouses?filters=id ne "${b.value.xid}"&hashable=${b.value.xid}&limit=10000`;x(()=>{const ce=axiosAdmin.get(ue),De=axiosAdmin.get(_e),Ue=axiosAdmin.get(Fe);Promise.all([ce,De,Ue]).then(([ee,ye,Te])=>{E.value=ee.data,ie.value=ye.data,ae.value=Te.data}),$.value=="purchases"?be.value=m:$.value=="sales"?be.value=p:$.value=="sales-returns"?be.value=_:$.value=="purchase-returns"?be.value=f:$.value=="quotations"?be.value=[]:$.value=="stock-transfers"&&(be.value=p)});const Je=()=>{const ce={...F.value,order_type:A.value.type,total:F.value.subtotal,total_items:O.value.length,product_items:O.value};e({url:$.value,data:ce,successMessage:M(`${A.value.langKey}.created`),success:De=>{re.push({name:`admin.stock.${$.value}.index`})}})},mt=()=>{axiosAdmin.get(_e).then(ce=>{ie.value=ce.data})},yt=()=>{axiosAdmin.get(ue).then(ce=>{E.value=ce.data})},se=()=>{axiosAdmin.get(Fe).then(ce=>{ae.value=ce.data})};return{...dt(k),formData:F,productsAmount:P,rules:c,loading:l,warehouses:ae,taxes:E,onSubmit:Je,fetchProducts:R,searchValueSelected:L,selectedProducts:O,showDeleteConfirm:q,quantityChanged:K,formatAmountCurrency:y,taxChanged:B,recalculateFinalTotal:V,appSetting:n,editItem:Y,orderPageObject:A,orderItemColumns:v,addEditVisible:N,addEditFormData:le,addEditFormSubmitting:H,addEditRules:G,addEditPageTitle:z,onAddEditSubmit:X,onAddEditClose:j,allOrderStatus:be,taxTypes:u,permsArray:g,unitAdded:mt,taxAdded:yt,warehouseAdded:se,inputValueChanged:oe}}},M_={class:"small-text-message"},R_={style:{display:"flex"}},K_={style:{display:"flex"}},V_=w("br",null,null,-1),z_={style:{display:"flex"}},L_={style:{display:"flex"}};function B_(e,l,c,n,h,y){const u=o("SaveOutlined"),d=o("a-button"),m=o("a-page-header"),p=o("router-link"),_=o("a-breadcrumb-item"),f=o("a-breadcrumb"),g=o("AdminPageHeader"),b=o("a-input"),v=o("a-form-item"),k=o("a-col"),$=o("a-select-option"),A=o("a-select"),O=o("WarehouseAddButton"),F=o("UserSearch"),P=o("DateTimePicker"),E=o("a-row"),U=o("SearchOutlined"),R=o("a-spin"),L=o("ProductAddButton"),K=o("a-typography-text"),V=o("a-input-number"),q=o("EditOutlined"),B=o("DeleteOutlined"),Y=o("a-table-summary-cell"),N=o("a-table-summary-row"),le=o("a-table"),H=o("a-textarea"),G=o("TaxAddButton"),z=o("a-form"),X=o("a-card"),j=o("admin-page-table-content"),oe=o("a-modal");return r(),S(I,null,[t(g,null,{header:a(()=>[t(m,{title:e.$t(`menu.${n.orderPageObject.menuKey}`),onBack:l[0]||(l[0]=()=>e.$router.go(-1)),class:"p-0"},{extra:a(()=>[t(d,{type:"primary",loading:n.loading,onClick:n.onSubmit,block:""},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.save")),1)]),_:1},8,["loading","onClick"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(f,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(_,null,{default:a(()=>[t(p,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(_,null,{default:a(()=>[i(s(n.orderPageObject.type=="sales"||n.orderPageObject.type=="sales-returns"||n.orderPageObject.type=="quotations"?e.$t("menu.sales"):e.$t("menu.purchases")),1)]),_:1}),t(_,null,{default:a(()=>[t(p,{to:{name:`admin.stock.${n.orderPageObject.type}.index`}},{default:a(()=>[i(s(e.$t(`menu.${n.orderPageObject.menuKey}`)),1)]),_:1},8,["to"])]),_:1}),t(_,null,{default:a(()=>[i(s(e.$t("common.create")),1)]),_:1})]),_:1})]),_:1}),t(j,null,{default:a(()=>[t(X,{class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(z,{layout:"vertical"},{default:a(()=>[t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(v,{label:e.$t("stock.invoice_number"),name:"invoice_number",help:n.rules.invoice_number?n.rules.invoice_number.message:null,validateStatus:n.rules.invoice_number?"error":null},{default:a(()=>[t(b,{value:n.formData.invoice_number,"onUpdate:value":l[1]||(l[1]=M=>n.formData.invoice_number=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.invoice_number")])},null,8,["value","placeholder"]),w("small",M_,s(e.$t("stock.invoie_number_blank")),1)]),_:1},8,["label","help","validateStatus"])]),_:1}),n.orderPageObject.type=="stock-transfers"?(r(),C(k,{key:0,xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(v,{label:e.$t(`${n.orderPageObject.langKey}.warehouse`),name:"warehouse_id",help:n.rules.warehouse_id?n.rules.warehouse_id.message:null,validateStatus:n.rules.warehouse_id?"error":null,class:"required"},{default:a(()=>[w("span",R_,[t(A,{value:n.formData.warehouse_id,"onUpdate:value":l[2]||(l[2]=M=>n.formData.warehouse_id=M),placeholder:e.$t("common.select_default_text",[e.$t(`${n.orderPageObject.langKey}.warehouse`)]),allowClear:!0,optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.warehouses,M=>(r(),C($,{key:M.xid,value:M.xid,title:M.name},{default:a(()=>[i(s(M.name),1)]),_:2},1032,["value","title"]))),128))]),_:1},8,["value","placeholder"]),t(O,{onOnAddSuccess:n.warehouseAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})):(r(),C(k,{key:1,xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(F,{orderPageObject:n.orderPageObject,rules:n.rules,usersList:[],editOrderDisable:!1,onOnSuccess:l[3]||(l[3]=M=>n.formData.user_id=M)},null,8,["orderPageObject","rules"])]),_:1})),t(k,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(v,{label:e.$t(`${n.orderPageObject.langKey}.${n.orderPageObject.langKey}_date`),name:"order_date",help:n.rules.order_date?n.rules.order_date.message:null,validateStatus:n.rules.order_date?"error":null,class:"required"},{default:a(()=>[t(P,{dateTime:n.formData.order_date,onDateTimeChanged:l[4]||(l[4]=M=>n.formData.order_date=M)},null,8,["dateTime"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("product.product"),name:"orderSearchTerm",help:n.rules.product_items?n.rules.product_items.message:null,validateStatus:n.rules.product_items?"error":null},{default:a(()=>[w("span",K_,[t(A,{value:null,searchValue:e.orderSearchTerm,"show-search":"","filter-option":!1,placeholder:e.$t("product.search_scan_product"),style:{width:"100%"},"not-found-content":e.productFetching?void 0:null,onSearch:l[5]||(l[5]=M=>{e.orderSearchTerm=M,n.fetchProducts(M)}),size:"large","option-label-prop":"label",onFocus:l[6]||(l[6]=M=>e.products=[]),onSelect:n.searchValueSelected,onInputKeyDown:n.inputValueChanged},We({suffixIcon:a(()=>[t(U)]),default:a(()=>[(r(!0),S(I,null,Q(e.products,M=>(r(),C($,{key:M.xid,value:M.xid,label:M.name,product:M},{default:a(()=>[i(" => "+s(M.name),1)]),_:2},1032,["value","label","product"]))),128))]),_:2},[e.productFetching?{name:"notFoundContent",fn:a(()=>[t(R,{size:"small"})]),key:"0"}:void 0]),1032,["searchValue","placeholder","not-found-content","onSelect","onInputKeyDown"]),t(L,{size:"large"})])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(le,{"row-key":M=>M.xid,dataSource:n.selectedProducts,columns:n.orderItemColumns,pagination:!1},{bodyCell:a(({column:M,record:ae})=>[M.dataIndex==="name"?(r(),S(I,{key:0},[i(s(ae.name)+" ",1),V_,w("small",null,[t(K,{code:""},{default:a(()=>[i(s(e.$t("product.avl_qty"))+" "+s(`${ae.stock_quantity}${ae.unit_short_name}`),1)]),_:2},1024)])],64)):D("",!0),M.dataIndex==="unit_quantity"?(r(),C(V,{key:1,id:"inputNumber",value:ae.quantity,"onUpdate:value":ie=>ae.quantity=ie,onChange:ie=>n.quantityChanged(ae),min:0},null,8,["value","onUpdate:value","onChange"])):D("",!0),M.dataIndex==="single_unit_price"?(r(),S(I,{key:2},[i(s(n.formatAmountCurrency(ae.single_unit_price)),1)],64)):D("",!0),M.dataIndex==="total_discount"?(r(),S(I,{key:3},[i(s(n.formatAmountCurrency(ae.total_discount)),1)],64)):D("",!0),M.dataIndex==="total_tax"?(r(),S(I,{key:4},[i(s(n.formatAmountCurrency(ae.total_tax)),1)],64)):D("",!0),M.dataIndex==="subtotal"?(r(),S(I,{key:5},[i(s(n.formatAmountCurrency(ae.subtotal)),1)],64)):D("",!0),M.dataIndex==="action"?(r(),S(I,{key:6},[t(d,{type:"primary",onClick:ie=>n.editItem(ae),style:{"margin-left":"4px"}},{icon:a(()=>[t(q)]),_:2},1032,["onClick"]),t(d,{type:"primary",onClick:ie=>n.showDeleteConfirm(ae),style:{"margin-left":"4px"}},{icon:a(()=>[t(B)]),_:2},1032,["onClick"])],64)):D("",!0)]),summary:a(()=>[t(N,null,{default:a(()=>[t(Y,{"col-span":4}),t(Y,null,{default:a(()=>[i(s(e.$t("product.subtotal")),1)]),_:1}),t(Y,null,{default:a(()=>[i(s(n.formatAmountCurrency(n.productsAmount.tax)),1)]),_:1}),t(Y,{"col-span":2},{default:a(()=>[i(s(n.formatAmountCurrency(n.productsAmount.subtotal)),1)]),_:1})]),_:1})]),_:1},8,["row-key","dataSource","columns"])]),_:1})]),_:1}),t(E,{gutter:16,class:"mt-30"},{default:a(()=>[t(k,{xs:24,sm:24,md:16,lg:16},{default:a(()=>[t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("warehouse.terms_condition"),name:"terms_condition",help:n.rules.terms_condition?n.rules.terms_condition.message:null,validateStatus:n.rules.terms_condition?"error":null},{default:a(()=>[t(H,{value:n.formData.terms_condition,"onUpdate:value":l[7]||(l[7]=M=>n.formData.terms_condition=M),placeholder:e.$t("warehouse.terms_condition"),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("stock.notes"),name:"notes",help:n.rules.notes?n.rules.notes.message:null,validateStatus:n.rules.notes?"error":null},{default:a(()=>[t(H,{value:n.formData.notes,"onUpdate:value":l[8]||(l[8]=M=>n.formData.notes=M),placeholder:e.$t("stock.notes"),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[n.orderPageObject.type!="quotations"?(r(),C(E,{key:0,gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("stock.status"),name:"order_status",help:n.rules.order_status?n.rules.order_status.message:null,validateStatus:n.rules.order_status?"error":null,class:"required"},{default:a(()=>[t(A,{value:n.formData.order_status,"onUpdate:value":l[9]||(l[9]=M=>n.formData.order_status=M),placeholder:e.$t("common.select_default_text",[e.$t("stock.status")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(n.allOrderStatus,M=>(r(),C($,{key:M.key,value:M.key},{default:a(()=>[i(s(M.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("stock.order_tax"),name:"tax_id",help:n.rules.tax_id?n.rules.tax_id.message:null,validateStatus:n.rules.tax_id?"error":null},{default:a(()=>[w("span",z_,[t(A,{value:n.formData.tax_id,"onUpdate:value":l[10]||(l[10]=M=>n.formData.tax_id=M),placeholder:e.$t("common.select_default_text",[e.$t("stock.order_tax")]),allowClear:!0,onChange:n.taxChanged,optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.taxes,M=>(r(),C($,{key:M.xid,value:M.xid,title:M.name,tax:M},{default:a(()=>[i(s(M.name)+" ("+s(M.rate)+"%) ",1)]),_:2},1032,["value","title","tax"]))),128))]),_:1},8,["value","placeholder","onChange"]),t(G,{onOnAddSuccess:n.taxAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("stock.discount"),name:"discount",help:n.rules.discount?n.rules.discount.message:null,validateStatus:n.rules.discount?"error":null},{default:a(()=>[t(V,{value:n.formData.discount,"onUpdate:value":l[11]||(l[11]=M=>n.formData.discount=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.discount")]),onChange:n.recalculateFinalTotal,min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder","onChange"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("stock.shipping"),name:"shipping",help:n.rules.shipping?n.rules.shipping.message:null,validateStatus:n.rules.shipping?"error":null},{default:a(()=>[t(V,{value:n.formData.shipping,"onUpdate:value":l[12]||(l[12]=M=>n.formData.shipping=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.shipping")]),onChange:n.recalculateFinalTotal,min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder","onChange"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(E,{gutter:16,class:"mt-10"},{default:a(()=>[t(k,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(e.$t("stock.order_tax")),1)]),_:1}),t(k,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(n.formatAmountCurrency(n.formData.tax_amount)),1)]),_:1})]),_:1}),t(E,{gutter:16,class:"mt-10"},{default:a(()=>[t(k,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(e.$t("stock.discount")),1)]),_:1}),t(k,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(n.formatAmountCurrency(n.formData.discount)),1)]),_:1})]),_:1}),t(E,{gutter:16,class:"mt-10"},{default:a(()=>[t(k,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(e.$t("stock.shipping")),1)]),_:1}),t(k,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(n.formatAmountCurrency(n.formData.shipping)),1)]),_:1})]),_:1}),t(E,{gutter:16,class:"mt-10"},{default:a(()=>[t(k,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(e.$t("stock.grand_total")),1)]),_:1}),t(k,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(n.formatAmountCurrency(n.formData.subtotal)),1)]),_:1})]),_:1}),t(E,{gutter:16,class:"mt-20 mb-20"},{default:a(()=>[t(d,{type:"primary",loading:n.loading,onClick:n.onSubmit,block:""},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(oe,{open:n.addEditVisible,closable:!1,centered:!0,title:n.addEditPageTitle,onOk:n.onAddEditSubmit},{footer:a(()=>[t(d,{key:"submit",type:"primary",loading:n.addEditFormSubmitting,onClick:n.onAddEditSubmit},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(d,{key:"back",onClick:n.onAddEditClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(z,{layout:"vertical"},{default:a(()=>[t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("product.unit_price"),name:"unit_price",help:n.addEditRules.unit_price?n.addEditRules.unit_price.message:null,validateStatus:n.addEditRules.unit_price?"error":null},{default:a(()=>[t(V,{value:n.addEditFormData.unit_price,"onUpdate:value":l[13]||(l[13]=M=>n.addEditFormData.unit_price=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.unit_price")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("product.discount"),name:"discount_rate",help:n.addEditRules.discount_rate?n.addEditRules.discount_rate.message:null,validateStatus:n.addEditRules.discount_rate?"error":null},{default:a(()=>[t(V,{value:n.addEditFormData.discount_rate,"onUpdate:value":l[14]||(l[14]=M=>n.addEditFormData.discount_rate=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.discount")]),min:"0",style:{width:"100%"}},{addonAfter:a(()=>[i("%")]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("product.tax"),name:"tax_id",help:n.addEditRules.tax_id?n.addEditRules.tax_id.message:null,validateStatus:n.addEditRules.tax_id?"error":null},{default:a(()=>[w("span",L_,[t(A,{value:n.addEditFormData.tax_id,"onUpdate:value":l[15]||(l[15]=M=>n.addEditFormData.tax_id=M),placeholder:e.$t("common.select_default_text",[e.$t("product.tax")]),allowClear:!0,optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.taxes,M=>(r(),C($,{key:M.xid,value:M.xid,title:M.name},{default:a(()=>[i(s(M.name)+" ("+s(M.rate)+"%) ",1)]),_:2},1032,["value","title"]))),128))]),_:1},8,["value","placeholder"]),t(G,{onOnAddSuccess:n.taxAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(E,{gutter:16},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("product.tax_type"),name:"tax_type",help:n.addEditRules.tax_type?n.addEditRules.tax_type.message:null,validateStatus:n.addEditRules.tax_type?"error":null},{default:a(()=>[t(A,{value:n.addEditFormData.tax_type,"onUpdate:value":l[16]||(l[16]=M=>n.addEditFormData.tax_type=M),placeholder:e.$t("common.select_default_text",[e.$t("product.tax_type")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(n.taxTypes,M=>(r(),C($,{key:M.key,value:M.key},{default:a(()=>[i(s(M.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])],64)}const At=W(q_,[["render",B_]]),W_={components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,ExclamationCircleOutlined:Ae,SearchOutlined:nt,SaveOutlined:he,BarcodeOutlined:xt,TaxAddButton:Pa,WarehouseAddButton:qt,ProductAddButton:qa,DateTimePicker:na,AdminPageHeader:ge,UserSearch:Co},setup(){const{addEditRequestAdmin:e,loading:l,rules:c}=ve(),{appSetting:n,formatAmount:h,formatAmountCurrency:y,taxTypes:u,orderStatus:d,purchaseOrderStatus:m,salesOrderStatus:p,salesReturnStatus:_,purchaseReturnStatus:f,permsArray:g,selectedWarehouse:b}=J(),{orderItemColumns:v}=ea(),{state:k,orderType:$,orderPageObject:A,route:O,selectedProducts:F,selectedProductIds:P,formData:E,productsAmount:U,taxes:R,setTaxes:L,recalculateValues:K,fetchProducts:V,searchValueSelected:q,quantityChanged:B,recalculateFinalTotal:Y,showDeleteConfirm:N,taxChanged:le,editItem:H,addEditVisible:G,addEditFormData:z,addEditFormSubmitting:X,addEditRules:j,addEditPageTitle:oe,onAddEditSubmit:M,onAddEditClose:ae,removedOrderItemsIds:ie,calculateProductAmount:re,inputValueChanged:be}=bo(),{t:ue}=te(),_e=T([]),Fe=T([]),Je=T([]),mt=O.params.id,yt=Re(),se=T([]),ce="taxes?limit=10000",De="units?limit=10000",Ue=`warehouses?filters=id ne "${b.value.xid}"&hashable=${b.value.xid}&limit=10000`,ee=T(!1);x(()=>{const ze=axiosAdmin.get(`${$.value}/${mt}`),Kt=axiosAdmin.get(ce),Jo=axiosAdmin.get(De),Qo=axiosAdmin.get(Ue);Promise.all([ze,Kt,Jo,Qo]).then(([Xo,Zo,xo,el])=>{const Ve=Xo.data;E.value={invoice_number:Ve.order.invoice_number,order_date:Ve.order.order_date,user_id:Ve.order.x_user_id,warehouse_id:Ve.order.x_warehouse_id,notes:Ve.order.notes,terms_condition:Ve.order.terms_condition,order_status:Ve.order.order_status,tax_id:Ve.order.x_tax_id,tax_rate:Ve.order.tax_rate,tax_amount:Ve.order.tax_amount,discount:Ve.order.discount?Ve.order.discount:0,shipping:Ve.order.shipping?Ve.order.shipping:0,subtotal:Ve.order.total},P.value=Ve.ids,F.value=Ve.items,re(),Je.value=Ve.user,R.value=Zo.data,Fe.value=xo.data,_e.value=el.data,Ve.order.payment_status!="unpaid"&&(ee.value=!0)}),$.value=="purchases"?se.value=m:$.value=="sales"?se.value=p:$.value=="sales-returns"?se.value=_:$.value=="purchase-returns"?se.value=f:$.value=="quotations"?se.value=[]:$.value=="stock-transfers"&&(se.value=p)});const ye=()=>{const ze={...E.value,total:E.value.subtotal,total_items:F.value.length,product_items:F.value,removed_items:ie.value,_method:"PUT"};e({url:`${$.value}/${mt}`,data:ze,successMessage:ue(`${A.value.langKey}.updated`),success:Kt=>{yt.push({name:`admin.stock.${$.value}.index`})}})},Te=()=>{axiosAdmin.get(De).then(ze=>{Fe.value=ze.data})},Me=()=>{axiosAdmin.get(ce).then(ze=>{R.value=ze.data})},Ye=()=>{axiosAdmin.get(Ue).then(ze=>{_e.value=ze.data})};return{...dt(k),formData:E,productsAmount:U,loading:l,rules:c,users:Je,warehouses:_e,taxes:R,onSubmit:ye,fetchProducts:V,searchValueSelected:q,selectedProducts:F,showDeleteConfirm:N,quantityChanged:B,formatAmountCurrency:y,taxChanged:le,recalculateFinalTotal:Y,appSetting:n,editItem:H,orderPageObject:A,orderItemColumns:v,addEditVisible:G,addEditFormData:z,addEditFormSubmitting:X,addEditRules:j,addEditPageTitle:oe,onAddEditSubmit:M,onAddEditClose:ae,allOrderStatus:se,taxTypes:u,permsArray:g,unitAdded:Te,taxAdded:Me,warehouseAdded:Ye,editOrderDisable:ee,inputValueChanged:be}}},j_={style:{display:"flex"}},H_={style:{display:"flex"}},N_=w("br",null,null,-1),Y_={key:0},G_={key:1},J_={style:{display:"flex"}},Q_={style:{display:"flex"}};function X_(e,l,c,n,h,y){const u=o("SaveOutlined"),d=o("a-button"),m=o("a-page-header"),p=o("router-link"),_=o("a-breadcrumb-item"),f=o("a-breadcrumb"),g=o("AdminPageHeader"),b=o("a-alert"),v=o("a-input"),k=o("a-form-item"),$=o("a-col"),A=o("a-select-option"),O=o("a-select"),F=o("WarehouseAddButton"),P=o("UserSearch"),E=o("DateTimePicker"),U=o("a-row"),R=o("SearchOutlined"),L=o("a-spin"),K=o("ProductAddButton"),V=o("a-typography-text"),q=o("a-input-number"),B=o("EditOutlined"),Y=o("DeleteOutlined"),N=o("a-table-summary-cell"),le=o("a-table-summary-row"),H=o("a-table"),G=o("a-textarea"),z=o("TaxAddButton"),X=o("a-form"),j=o("a-card"),oe=o("a-modal");return r(),S(I,null,[t(g,null,{header:a(()=>[t(m,{title:e.$t(`menu.${n.orderPageObject.menuKey}`),onBack:l[0]||(l[0]=()=>e.$router.go(-1)),class:"p-0"},{extra:a(()=>[t(d,{type:"primary",loading:n.loading,onClick:n.onSubmit,block:""},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.save")),1)]),_:1},8,["loading","onClick"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(f,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(_,null,{default:a(()=>[t(p,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(_,null,{default:a(()=>[i(s(n.orderPageObject.type=="sales"||n.orderPageObject.type=="sales-returns"||n.orderPageObject.type=="quotations"?e.$t("menu.sales"):e.$t("menu.purchases")),1)]),_:1}),t(_,null,{default:a(()=>[t(p,{to:{name:`admin.stock.${n.orderPageObject.type}.index`}},{default:a(()=>[i(s(e.$t(`menu.${n.orderPageObject.menuKey}`)),1)]),_:1},8,["to"])]),_:1}),t(_,null,{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:1})]),_:1})]),_:1}),t(j,{class:"page-content-container"},{default:a(()=>[n.editOrderDisable?(r(),C(b,{key:0,description:e.$t("messages.not_able_to_edit_order"),type:"warning",class:"mb-30",showIcon:""},null,8,["description"])):D("",!0),t(X,{layout:"vertical"},{default:a(()=>[t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(k,{label:e.$t("stock.invoice_number"),name:"invoice_number",help:n.rules.invoice_number?n.rules.invoice_number.message:null,validateStatus:n.rules.invoice_number?"error":null},{default:a(()=>[t(v,{value:n.formData.invoice_number,"onUpdate:value":l[1]||(l[1]=M=>n.formData.invoice_number=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.invoice_number")]),disabled:n.editOrderDisable},null,8,["value","placeholder","disabled"])]),_:1},8,["label","help","validateStatus"])]),_:1}),n.orderPageObject.type=="stock-transfers"?(r(),C($,{key:0,xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(k,{label:e.$t(`${n.orderPageObject.langKey}.warehouse`),name:"warehouse_id",help:n.rules.warehouse_id?n.rules.warehouse_id.message:null,validateStatus:n.rules.warehouse_id?"error":null,class:"required"},{default:a(()=>[w("span",j_,[t(O,{value:n.formData.warehouse_id,"onUpdate:value":l[2]||(l[2]=M=>n.formData.warehouse_id=M),placeholder:e.$t("common.select_default_text",[e.$t(`${n.orderPageObject.langKey}.warehouse`)]),allowClear:!0,optionFilterProp:"title","show-search":"",disabled:n.editOrderDisable},{default:a(()=>[(r(!0),S(I,null,Q(n.warehouses,M=>(r(),C(A,{key:M.xid,value:M.xid,title:M.name},{default:a(()=>[i(s(M.name),1)]),_:2},1032,["value","title"]))),128))]),_:1},8,["value","placeholder","disabled"]),t(F,{onOnAddSuccess:n.warehouseAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})):(r(),C($,{key:1,xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(P,{orderPageObject:n.orderPageObject,rules:n.rules,usersList:n.users,editOrderDisable:n.editOrderDisable,onOnSuccess:l[3]||(l[3]=M=>n.formData.user_id=M)},null,8,["orderPageObject","rules","usersList","editOrderDisable"])]),_:1})),t($,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(k,{label:e.$t(`${n.orderPageObject.langKey}.${n.orderPageObject.langKey}_date`),name:"order_date",help:n.rules.order_date?n.rules.order_date.message:null,validateStatus:n.rules.order_date?"error":null},{default:a(()=>[n.formData.order_date?(r(),C(E,{key:0,dateTime:n.formData.order_date,onDateTimeChanged:l[4]||(l[4]=M=>n.formData.order_date=M),disabled:n.editOrderDisable},null,8,["dateTime","disabled"])):D("",!0)]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("product.product"),name:"orderSearchTerm",help:n.rules.product_items?n.rules.product_items.message:null,validateStatus:n.rules.product_items?"error":null},{default:a(()=>[w("span",H_,[t(O,{value:null,searchValue:e.orderSearchTerm,"show-search":"","filter-option":!1,placeholder:e.$t("product.search_scan_product"),style:{width:"100%"},"not-found-content":e.productFetching?void 0:null,onSearch:l[5]||(l[5]=M=>{e.orderSearchTerm=M,n.fetchProducts(M)}),size:"large","option-label-prop":"label",onFocus:l[6]||(l[6]=M=>e.products=[]),onSelect:n.searchValueSelected,disabled:n.editOrderDisable,onInputKeyDown:n.inputValueChanged},We({suffixIcon:a(()=>[t(R)]),default:a(()=>[(r(!0),S(I,null,Q(e.products,M=>(r(),C(A,{key:M.xid,value:M.xid,label:M.name,product:M},{default:a(()=>[i(" => "+s(M.name),1)]),_:2},1032,["value","label","product"]))),128))]),_:2},[e.productFetching?{name:"notFoundContent",fn:a(()=>[t(L,{size:"small"})]),key:"0"}:void 0]),1032,["searchValue","placeholder","not-found-content","onSelect","disabled","onInputKeyDown"]),t(K,{size:"large"})])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(H,{"row-key":M=>M.xid,dataSource:n.selectedProducts,columns:n.orderItemColumns,pagination:!1},{bodyCell:a(({column:M,record:ae})=>[M.dataIndex==="name"?(r(),S(I,{key:0},[i(s(ae.name)+" ",1),N_,w("small",null,[t(V,{code:""},{default:a(()=>[i(s(e.$t("product.avl_qty"))+" "+s(`${ae.stock_quantity}${ae.unit_short_name}`),1)]),_:2},1024)])],64)):D("",!0),M.dataIndex==="unit_quantity"?(r(),C(q,{key:1,id:"inputNumber",value:ae.quantity,"onUpdate:value":ie=>ae.quantity=ie,onChange:ie=>n.quantityChanged(ae),min:0,disabled:n.editOrderDisable},null,8,["value","onUpdate:value","onChange","disabled"])):D("",!0),M.dataIndex==="single_unit_price"?(r(),S(I,{key:2},[i(s(n.formatAmountCurrency(ae.single_unit_price)),1)],64)):D("",!0),M.dataIndex==="discount_amount"?(r(),S(I,{key:3},[i(s(n.formatAmountCurrency(ae.discount_amount)),1)],64)):D("",!0),M.dataIndex==="total_tax"?(r(),S(I,{key:4},[i(s(n.formatAmountCurrency(ae.total_tax)),1)],64)):D("",!0),M.dataIndex==="subtotal"?(r(),S(I,{key:5},[i(s(n.formatAmountCurrency(ae.subtotal)),1)],64)):D("",!0),M.dataIndex==="action"?(r(),S(I,{key:6},[n.editOrderDisable?(r(),S("div",Y_,"-")):(r(),S("div",G_,[t(d,{type:"primary",onClick:ie=>n.editItem(ae),style:{"margin-left":"4px"}},{icon:a(()=>[t(B)]),_:2},1032,["onClick"]),t(d,{type:"primary",onClick:ie=>n.showDeleteConfirm(ae),style:{"margin-left":"4px"}},{icon:a(()=>[t(Y)]),_:2},1032,["onClick"])]))],64)):D("",!0)]),summary:a(()=>[t(le,null,{default:a(()=>[t(N,{"col-span":4}),t(N,null,{default:a(()=>[i(s(e.$t("product.subtotal")),1)]),_:1}),t(N,null,{default:a(()=>[i(s(n.formatAmountCurrency(n.productsAmount.tax)),1)]),_:1}),t(N,{"col-span":2},{default:a(()=>[i(s(n.formatAmountCurrency(n.productsAmount.subtotal)),1)]),_:1})]),_:1})]),_:1},8,["row-key","dataSource","columns"])]),_:1})]),_:1}),t(U,{gutter:16,class:"mt-30"},{default:a(()=>[t($,{xs:24,sm:24,md:16,lg:16},{default:a(()=>[t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("warehouse.terms_condition"),name:"terms_condition",help:n.rules.terms_condition?n.rules.terms_condition.message:null,validateStatus:n.rules.terms_condition?"error":null},{default:a(()=>[t(G,{value:n.formData.terms_condition,"onUpdate:value":l[7]||(l[7]=M=>n.formData.terms_condition=M),placeholder:e.$t("warehouse.terms_condition"),"auto-size":{minRows:2,maxRows:3},disabled:n.editOrderDisable},null,8,["value","placeholder","disabled"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("stock.notes"),name:"notes",help:n.rules.notes?n.rules.notes.message:null,validateStatus:n.rules.notes?"error":null},{default:a(()=>[t(G,{value:n.formData.notes,"onUpdate:value":l[8]||(l[8]=M=>n.formData.notes=M),placeholder:e.$t("common.select_default_text",[e.$t("stock.notes")]),rows:5,disabled:n.editOrderDisable},null,8,["value","placeholder","disabled"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),t($,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[n.orderPageObject.type!="quotations"?(r(),C(U,{key:0,gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("stock.status"),name:"order_status",help:n.rules.order_status?n.rules.order_status.message:null,validateStatus:n.rules.order_status?"error":null},{default:a(()=>[t(O,{value:n.formData.order_status,"onUpdate:value":l[9]||(l[9]=M=>n.formData.order_status=M),placeholder:e.$t("common.select_default_text",[e.$t("stock.status")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(n.allOrderStatus,M=>(r(),C(A,{key:M.key,value:M.key},{default:a(()=>[i(s(M.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("stock.order_tax"),name:"tax_id",help:n.rules.tax_id?n.rules.tax_id.message:null,validateStatus:n.rules.tax_id?"error":null},{default:a(()=>[w("span",J_,[t(O,{value:n.formData.tax_id,"onUpdate:value":l[10]||(l[10]=M=>n.formData.tax_id=M),placeholder:e.$t("common.select_default_text",[e.$t("stock.order_tax")]),allowClear:!0,onChange:n.taxChanged,optionFilterProp:"title","show-search":"",disabled:n.editOrderDisable},{default:a(()=>[(r(!0),S(I,null,Q(n.taxes,M=>(r(),C(A,{key:M.xid,value:M.xid,title:M.name,tax:M},{default:a(()=>[i(s(M.name)+" ("+s(M.rate)+"%) ",1)]),_:2},1032,["value","title","tax"]))),128))]),_:1},8,["value","placeholder","onChange","disabled"]),t(z,{onOnAddSuccess:n.taxAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("stock.discount"),name:"discount",help:n.rules.discount?n.rules.discount.message:null,validateStatus:n.rules.discount?"error":null},{default:a(()=>[t(q,{value:n.formData.discount,"onUpdate:value":l[11]||(l[11]=M=>n.formData.discount=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.discount")]),onChange:n.recalculateFinalTotal,min:"0",style:{width:"100%"},disabled:n.editOrderDisable},{addonBefore:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder","onChange","disabled"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("stock.shipping"),name:"shipping",help:n.rules.shipping?n.rules.shipping.message:null,validateStatus:n.rules.shipping?"error":null},{default:a(()=>[t(q,{value:n.formData.shipping,"onUpdate:value":l[12]||(l[12]=M=>n.formData.shipping=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.shipping")]),onChange:n.recalculateFinalTotal,min:"0",style:{width:"100%"},disabled:n.editOrderDisable},{addonBefore:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder","onChange","disabled"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(U,{gutter:16,class:"mt-10"},{default:a(()=>[t($,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(e.$t("stock.order_tax")),1)]),_:1}),t($,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(n.formatAmountCurrency(n.formData.tax_amount)),1)]),_:1})]),_:1}),t(U,{gutter:16,class:"mt-10"},{default:a(()=>[t($,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(e.$t("stock.discount")),1)]),_:1}),t($,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(n.formatAmountCurrency(n.formData.discount)),1)]),_:1})]),_:1}),t(U,{gutter:16,class:"mt-10"},{default:a(()=>[t($,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(e.$t("stock.shipping")),1)]),_:1}),t($,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(n.formatAmountCurrency(n.formData.shipping)),1)]),_:1})]),_:1}),t(U,{gutter:16,class:"mt-10"},{default:a(()=>[t($,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(e.$t("stock.grand_total")),1)]),_:1}),t($,{xs:12,sm:12,md:12,lg:12},{default:a(()=>[i(s(n.formatAmountCurrency(n.formData.subtotal)),1)]),_:1})]),_:1}),t(U,{gutter:16,class:"mt-20 mb-20"},{default:a(()=>[t(d,{type:"primary",loading:n.loading,onClick:n.onSubmit,block:""},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.save")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(oe,{open:n.addEditVisible,closable:!1,centered:!0,title:n.addEditPageTitle,onOk:n.onAddEditSubmit},{footer:a(()=>[t(d,{key:"submit",type:"primary",loading:n.addEditFormSubmitting,onClick:n.onAddEditSubmit},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(d,{key:"back",onClick:n.onAddEditClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(X,{layout:"vertical"},{default:a(()=>[t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("product.unit_price"),name:"unit_price",help:n.addEditRules.unit_price?n.addEditRules.unit_price.message:null,validateStatus:n.addEditRules.unit_price?"error":null},{default:a(()=>[t(q,{value:n.addEditFormData.unit_price,"onUpdate:value":l[13]||(l[13]=M=>n.addEditFormData.unit_price=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.unit_price")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("product.discount"),name:"discount_rate",help:n.addEditRules.discount_rate?n.addEditRules.discount_rate.message:null,validateStatus:n.addEditRules.discount_rate?"error":null},{default:a(()=>[t(q,{value:n.addEditFormData.discount_rate,"onUpdate:value":l[14]||(l[14]=M=>n.addEditFormData.discount_rate=M),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.discount")]),min:"0",style:{width:"100%"}},{addonAfter:a(()=>[i("%")]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("product.tax"),name:"tax_id",help:n.addEditRules.tax_id?n.addEditRules.tax_id.message:null,validateStatus:n.addEditRules.tax_id?"error":null},{default:a(()=>[w("span",Q_,[t(O,{value:n.addEditFormData.tax_id,"onUpdate:value":l[15]||(l[15]=M=>n.addEditFormData.tax_id=M),placeholder:e.$t("common.select_default_text",[e.$t("product.tax")]),allowClear:!0,optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.taxes,M=>(r(),C(A,{key:M.xid,value:M.xid,title:M.name},{default:a(()=>[i(s(M.name)+" ("+s(M.rate)+"%) ",1)]),_:2},1032,["value","title"]))),128))]),_:1},8,["value","placeholder"]),t(z,{onOnAddSuccess:n.taxAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(U,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(k,{label:e.$t("product.tax_type"),name:"tax_type",help:n.addEditRules.tax_type?n.addEditRules.tax_type.message:null,validateStatus:n.addEditRules.tax_type?"error":null},{default:a(()=>[t(O,{value:n.addEditFormData.tax_type,"onUpdate:value":l[16]||(l[16]=M=>n.addEditFormData.tax_type=M),placeholder:e.$t("common.select_default_text",[e.$t("product.tax_type")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(n.taxTypes,M=>(r(),C(A,{key:M.key,value:M.key},{default:a(()=>[i(s(M.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])],64)}const Dt=W(W_,[["render",X_]]),Z_={components:{PlusOutlined:ne,DeleteOutlined:fe,OrderTable:Yt,DateRangePicker:tt,AdminPageHeader:ge},setup(){const{formatAmountCurrency:e,orderType:l,orderPageObject:c,orderStatus:n,permsArray:h}=J(),y=Ge(),u=T([]),d=T(null),m=T([]),p=T(null),_=T({payment_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",searchString:""});x(()=>{f()});const f=()=>{const g=axiosAdmin.get(`${c.value.userType}?limit=10000`);Promise.all([g]).then(([b])=>{u.value=b.data})};return me(()=>y.meta.orderType,(g,b)=>{(g=="purchases"||g=="purchase-returns"||g=="sales"||g=="sales-returns"||g=="quotations")&&(l.value=y.meta.orderType,_.value={payment_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",searchString:""},f(),d.value.resetPicker())}),{orderPageObject:c,permsArray:h,orderStatus:n,formatAmountCurrency:e,users:u,filters:_,orderType:l,serachDateRangePicker:d,selectedRowIds:m,orderTableRef:p}}};function x_(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("DeleteOutlined"),v=o("a-space"),k=o("a-col"),$=o("a-input-search"),A=o("a-select-option"),O=o("a-select"),F=o("DateRangePicker"),P=o("a-row"),E=o("admin-page-filters"),U=o("a-tab-pane"),R=o("a-tabs"),L=o("OrderTable"),K=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t(`menu.${n.orderPageObject.menuKey}`),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(n.orderPageObject.type=="sales"||n.orderPageObject.type=="sales-returns"||n.orderPageObject.type=="quotations"?e.$t("menu.sales"):e.$t("menu.purchases")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t(`menu.${n.orderPageObject.menuKey}`)),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(P,{gutter:[16,16]},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[n.permsArray.includes(`${n.orderPageObject.permission}_create`)||n.permsArray.includes("admin")?(r(),C(d,{key:0,to:{name:`admin.stock.${n.orderPageObject.type}.create`}},{default:a(()=>[t(g,{type:"primary"},{default:a(()=>[t(f),i(" "+s(e.$t(`${n.orderPageObject.langKey}.add`)),1)]),_:1})]),_:1},8,["to"])):D("",!0),n.selectedRowIds.length>0&&(n.permsArray.includes(`${n.orderPageObject.permission}_view`)||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:n.orderTableRef.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(P,{gutter:[16,16],justify:"end"},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:8,xl:6},{default:a(()=>[t($,{style:{width:"100%"},value:n.filters.searchString,"onUpdate:value":l[0]||(l[0]=V=>n.filters.searchString=V),"show-search":"",placeholder:e.$t("common.placeholder_search_text",[e.$t("stock.invoice_number")])},null,8,["value","placeholder"])]),_:1}),t(k,{xs:24,sm:24,md:8,lg:8,xl:6},{default:a(()=>[t(O,{value:n.filters.user_id,"onUpdate:value":l[1]||(l[1]=V=>n.filters.user_id=V),placeholder:e.$t("common.select_default_text",[e.$t(`${n.orderPageObject.langKey}.user`)]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.users,V=>(r(),C(A,{key:V.xid,title:V.name,value:V.xid},{default:a(()=>[i(s(V.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1}),t(k,{xs:24,sm:24,md:8,lg:8,xl:6},{default:a(()=>[t(F,{ref:"serachDateRangePicker",onDateTimeChanged:l[2]||(l[2]=V=>n.filters.dates=V)},null,512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(K,null,{default:a(()=>[t(P,null,{default:a(()=>[t(k,{span:24},{default:a(()=>[t(R,{activeKey:n.filters.payment_status,"onUpdate:activeKey":l[3]||(l[3]=V=>n.filters.payment_status=V)},{default:a(()=>[t(U,{key:"all",tab:`${e.$t("common.all")} ${e.$t("menu."+n.orderPageObject.menuKey)}`},null,8,["tab"]),(r(!0),S(I,null,Q(n.orderStatus,V=>(r(),C(U,{key:V.key,tab:`${V.value}`},null,8,["tab"]))),128))]),_:1},8,["activeKey"])]),_:1})]),_:1}),t(L,{ref:"orderTableRef",orderType:n.orderType,filters:n.filters,tableSize:"middle",bordered:!0,selectable:!0,onOnRowSelection:l[4]||(l[4]=V=>n.selectedRowIds=V)},null,8,["orderType","filters"])]),_:1})],64)}const zt=W(Z_,[["render",x_]]);Ln.div`
    border-radius: 10px;
    background-color: #fff;
    position: relative;
	width: 100%;

    @media only screen and (max-width: 767px){
        max-width: 350px;
        margin: 0 auto;
    }
    &.list-view{
        max-width: 100%;
        .product-single-price__offer{
            @media only screen and (max-width: 991px) and (min-width: 768px){
                display: block;
            }
        }
    }
    .product-list{
        background-color: #fff;
        padding: 20px;
        border-radius: 10px;
        figure{
            @media only screen and (max-width: 1199px){
            }
            @media only screen and (max-width: 991px){
                margin: 0 0 20px;
            }
            img{
                border-radius: 10px;
            }
        }
        .product-single-description{
            p{
                font-size: 15px;
            }
        }
        .product-single-title{
            font-size: 18px;
            margin: 25px 0 16px;
            @media only screen and (max-width: 1199px){
                margin: 0 0 16px;
            }
        }
        .product-single-info{
            margin-top: 25px;
            @media only screen and (max-width: 1199px){
                margin-top: 0;
            }
        }
        .product-single-price__new{
            font-size: 16px;
        }
        .product-single-action{
            flex-flow: column;
            align-items: flex-start;
            margin: 28px 0 0 0;
            button{
                min-width: 132px;
                margin: 0;
                padding: 0px 14px;
                height: 38px;
            }
            .btn-cart{
                margin: 0 0 10px;
            }
            .ant-btn-sm{
                height: 38px;
            }
        }
        .btn-heart{
            @media only screen and (max-width: 1599px){
                top: 0;
            }
            @media only screen and (max-width: 1199px){
                top: -4px;
            }
            @media only screen and (max-width: 991){
                top: 0;
            }
        }
    }
    figure{
        margin-bottom: 0;
        img{
            width: 100px;
        }
    }
    figcaption{
        padding: 20px 20px 26px;
    }
    .quantity-box{
        position: absolute;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        height: 15px;
        top: 1px;
        background-color: #fff;
		padding: 0 6px;
		left: 1px;
    }
    .product-single-title{
        margin-bottom: 10px;
        font-size: 15px;
        font-weight: 500;

    }
    .product-single-price{
        margin-bottom: 5px;
        del{
            margin: 0 5px;
        }
    }
    .product-single-price__new{
        font-weight: 600;
    }
    .product-single-price__offer{
        font-weight: 500;
        font-size: 12px;
    }
    .product-single-rating{
        font-size: 12px;
        font-weight: 500;
        display: flex;
        flex-wrap: wrap;
        align-items: center;

        .ant-rate-star{
            div{
                transform: none !important;
            }
        }
        .total-reviews{
            font-weight: 400;
          
        }
        svg{
            width: 13px;
        }
    }
    .product-single-action{
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        margin: 20px -5px -5px -5px;
        button{
            font-size: 12px;
            margin: 5px;
        }


        .ant-btn-sm{
            font-size: 12px;
            padding: 0px 18.065px;
            height: 36px;
        }
    }
`;const ef=Ln.div`
    max-width: 650px;
    margin: 0 auto;
    .ant-card{
        margin-bottom: 0 !important;
    }

    .ant-form-item{
        margin-bottom: 0;
    }

    .summary-table-title{
        font-size: 18px;
        font-weight: 500;
        margin-bottom: 25px;
      
    }
    .order-summary-inner{
        padding-bottom: 5px;
        @media only screen and (max-width: 1599px){
            max-width: 600px;
            margin: 0 auto;
        }
        .ant-form-item-control{
            line-height: 2.2;
        }
        .ant-form-item-control-wrapper{
            width: 100%;
        }
        .ant-select{
            .ant-select-selection-item{
                font-weight: 500;
            }
        }
        .ant-select-single:not(.ant-select-customize-input) .ant-select-selector{
            height: 30px !important;
        }
    }
    .invoice-summary-inner{
        .summary-list{
            margin: 22px 0;
            li{
                &:not(:last-child){
                    margin-bottom: 12px;
                }
            }
        }
      
    }

    .summary-list{
		padding: 0;
        li{
            display: flex;
            justify-content: space-between;
            &:not(:last-child){
                margin-bottom: 18px;
            }
            span{
                font-weight: 500;
            }
          
        }
    }
    .ant-select-focused.ant-select-single{
        .ant-select-selector{
            box-shadow: 0 0 !important;
        }
    }
    .ant-select-single{
        margin-top: 18px;
        .ant-select-selection-search-input{
            height: fit-content;
        }
        .ant-select-selector{
            padding: 0 !important;
            border: 0 none !important;
            
        }
       
    }
    .promo-apply-form{
        display: flex;
        align-items: flex-end;
        margin: 5px 0 18px;
        @media only screen and (max-width: 479px){
            flex-flow: column;
            align-items: flex-start;
        }
        .ant-form-item{
            margin-bottom: 0;
        }
        .ant-row{
            flex: auto;
            flex-flow: column;
        }
        .ant-form-item-label{
            text-align: 'right';
            line-height: 30px;
            label{
                font-weight: 400;
                margin-bottom: 4px;
                height: fit-content;
                
            }
        }
        .ant-form-item-control-wrapper{
            display: flex;
            width: 100%;
            @media only screen and (max-width: 479px){
                flex-flow: column;
            }
            .ant-form-item-control{
                width: 100%;
            }
            .ant-form-item-children{
                display: block;
                margin: '0 6px 0 0';
                height: auto;
                @media only screen and (max-width: 479px){
                    margin: '0 6px 10px 0';
                }
            }
            input{
                height: 40px;
                @media only screen and (max-width: 479px){
                    width: 100% !important;
                }
            }
            button{
                height: 40px;
            }
        }
    }
    .summary-total{
        display: inline-flex;
        justify-content: space-between;
        width: 100%;
        .summary-total-label{
            font-size: 16px;
            font-weight: 500;
          
        }
        .summary-total-amount{
            font-size: 18px;
            font-weight: 600;
          
        }
    }
    .btn-proceed{
        font-size: 15px;
        font-weight: 500;
        width: 100%;
        height: 50px;
        border-radius: 8px;
        margin-top: 22px;
        @media only screen and (max-width: 575px){
            font-size: 13px;
        }
        a{
            display: flex;
            align-items: center;
        }
        i,
        svg{
            'margin-left' : 6px;
            color: #fff;
        }
    }
`,tf=()=>{const{t:e}=te();ke();const l=T([]);T([]);const c=T([]),n=T([]),h=T([]),y=T([]),u=T({}),d=T({user_id:void 0,tax_id:void 0,category_id:void 0,brand_id:void 0,tax_id:void 0,tax_rate:0,tax_amount:0,discount_type:"percentage",discount_value:0,discount:0,shipping:0,subtotal:0}),m=[{title:"#",dataIndex:"sn"},{title:e("product.name"),dataIndex:"name"},{title:e("product.quantity"),dataIndex:"unit_quantity"},{title:e("product.subtotal"),dataIndex:"subtotal"},{title:e("common.action"),dataIndex:"action"}],p="customers?limit=10000";return{taxes:l,customers:c,brands:n,categories:h,productLists:y,formData:d,customerUrl:p,orderItemColumns:m,getPreFetchData:()=>{const f=axiosAdmin.get("taxes?limit=10000"),g=axiosAdmin.get(p),b=axiosAdmin.get("categories?limit=10000"),v=axiosAdmin.get("brands?limit=10000"),k=axiosAdmin.post("pos/products",{brand_id:d.value.brand_id,category_id:d.value.category_id}),$=axiosAdmin.get("default-walkin-customer");Promise.all([f,g,k,b,v,$]).then(([A,O,F,P,E,U])=>{l.value=A.data,c.value=O.data,h.value=P.data,n.value=E.data,y.value=F.data.products;var R=Qe(c.value,["xid",U.data.customer.xid]);R&&(u.value=R,d.value={...d.value,user_id:R.xid})})},posDefaultCustomer:u}};const af={props:["product"],setup(e){const{formatAmountCurrency:l}=J();return{formatAmountCurrency:l}}},nf={key:0,class:"product-pos"},of={class:"product-pos-top"},lf={href:"javascript:void(0)"},sf={class:"quantity-box",to:"#"},rf=["src"],df={class:"product-pos-bottom"},uf={class:"product-title"},mf={class:"product-details"},cf={class:"product-price"};function pf(e,l,c,n,h,y){return c.product&&c.product.xid?(r(),S("div",nf,[w("div",of,[w("a",lf,[w("span",sf,s(c.product.stock_quantity)+" "+s(c.product.unit.short_name),1),w("img",{src:c.product.image_url,class:"img-fit"},null,8,rf)])]),w("div",df,[w("div",null,[w("h5",uf,s(c.product.name),1)]),w("div",mf,[w("div",cf,[w("span",null,s(n.formatAmountCurrency(c.product.subtotal)),1)])])])])):D("",!0)}const _f=W(af,[["render",pf]]),ff={props:["visible","data","selectedProducts"],emits:["closed","success"],components:{CheckOutlined:bt,PlusOutlined:ne,LeftOutlined:In,RightOutlined:Ht,DeleteOutlined:fe},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{appSetting:y,formatAmountCurrency:u}=J(),d=T([]),m=T({payment_mode_id:void 0,amount:0,notes:""}),{t:p}=te(),_=T([]),f=T([{title:p("payments.payment_mode"),dataIndex:"payment_mode"},{title:p("payments.amount"),dataIndex:"amount"},{title:p("common.action"),dataIndex:"action"}]),g=T(!1);x(()=>{axiosAdmin.get("payment-modes").then(P=>{d.value=P.data})});const b=()=>{m.value={payment_mode_id:void 0,amount:0,notes:""},_.value=[],l("closed")},v=()=>{c({url:"pos/payment",data:m.value,success:P=>{_.value=[..._.value,{...m.value,id:Math.random().toString(36).slice(2)}],m.value={payment_mode_id:void 0,amount:0,notes:""},g.value=!1}})},k=()=>{const P={all_payments:_.value,product_items:e.selectedProducts,details:e.data};c({url:"pos/save",data:P,successMessage:e.successMessage,success:E=>{m.value={payment_mode_id:void 0,amount:0,notes:""},_.value=[],g.value=!1,l("success",E.order)}})},$=()=>{m.value={payment_mode_id:void 0,amount:0,notes:""},g.value=!1},A=P=>{var E=Qe(d.value,["xid",P]);return E?E.name:"-"},O=P=>{var E=Xe(_.value,U=>U.id!=P);_.value=E},F=pe(()=>{var P=ba(_.value,E=>parseFloat(E.amount));return P+parseFloat(m.value.amount)});return{loading:n,rules:h,drawerClosed:b,paymentModes:d,formData:m,appSetting:y,formatAmountCurrency:u,onSubmit:v,allPaymentRecords:_,paymentRecordsColumns:f,showAddForm:g,completeOrder:k,goBack:$,getPaymentModeName:A,deletePayment:O,totalEnteredAmount:F,drawerWidth:window.innerWidth<=991?"90%":"50%"}}},gf={style:{color:"#7c8db5 !important"}};function yf(e,l,c,n,h,y){const u=o("a-statistic"),d=o("a-col"),m=o("a-row"),p=o("PlusOutlined"),_=o("a-button"),f=o("RightOutlined"),g=o("LeftOutlined"),b=o("DeleteOutlined"),v=o("a-table"),k=o("a-select-option"),$=o("a-select"),A=o("a-form-item"),O=o("a-input"),F=o("a-textarea"),P=o("CheckOutlined"),E=o("a-form"),U=o("a-drawer");return r(),C(U,{title:e.$t("payments.order_payment"),width:n.drawerWidth,maskClosable:!1,open:c.visible,onClose:n.drawerClosed},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{span:24},{default:a(()=>[t(u,{title:e.$t("stock.total_items"),value:c.selectedProducts.length,style:{"margin-right":"50px"}},null,8,["title","value"])]),_:1}),t(d,{span:24,class:"mt-20"},{default:a(()=>[t(u,{title:e.$t("stock.paying_amount"),value:n.formatAmountCurrency(n.totalEnteredAmount)},null,8,["title","value"])]),_:1}),t(d,{span:24,class:"mt-20"},{default:a(()=>[t(u,{title:e.$t("stock.payable_amount"),value:n.formatAmountCurrency(c.data.subtotal)},null,8,["title","value"])]),_:1}),t(d,{span:24,class:"mt-20"},{default:a(()=>[n.totalEnteredAmount<=c.data.subtotal?(r(),C(u,{key:0,title:e.$t("payments.due_amount"),value:n.formatAmountCurrency(c.data.subtotal-n.totalEnteredAmount)},null,8,["title","value"])):(r(),C(u,{key:1,title:e.$t("stock.change_return"),value:n.formatAmountCurrency(n.totalEnteredAmount-c.data.subtotal)},null,8,["title","value"]))]),_:1})]),_:1})]),_:1}),t(d,{xs:24,sm:24,md:16,lg:16},{default:a(()=>[t(m,{gutter:[24,24]},{default:a(()=>[n.showAddForm?(r(),C(d,{key:1,span:24},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{xs:24,sm:24,md:10,lg:10},{default:a(()=>[t(_,{block:!0,type:"primary",onClick:n.goBack},{default:a(()=>[t(g),i(" "+s(e.$t("common.back")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})):(r(),C(d,{key:0,span:24},{default:a(()=>[t(m,{gutter:[16,8],class:"mt-20"},{default:a(()=>[t(d,{xs:24,sm:24,md:10,lg:10},{default:a(()=>[t(_,{block:!0,type:"primary",onClick:l[0]||(l[0]=()=>n.showAddForm=!0)},{default:a(()=>[t(p),i(" "+s(e.$t("payments.add")),1)]),_:1})]),_:1}),t(d,{xs:24,sm:24,md:10,lg:10},{default:a(()=>[t(_,{block:!0,onClick:n.completeOrder},{default:a(()=>[i(s(e.$t("stock.complete_order"))+" ",1),t(f)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})),n.showAddForm?(r(),C(d,{key:3,span:24},{default:a(()=>[t(E,{layout:"vertical"},{default:a(()=>[t(m,{gutter:16},{default:a(()=>[t(d,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(A,{label:e.$t("payments.payment_mode"),name:"payment_mode_id",help:n.rules.payment_mode_id?n.rules.payment_mode_id.message:null,validateStatus:n.rules.payment_mode_id?"error":null},{default:a(()=>[t($,{value:n.formData.payment_mode_id,"onUpdate:value":l[1]||(l[1]=R=>n.formData.payment_mode_id=R),placeholder:e.$t("common.select_default_text",[e.$t("payments.payment_mode")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(n.paymentModes,R=>(r(),C(k,{key:R.xid,value:R.xid},{default:a(()=>[i(s(R.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(d,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(A,{label:e.$t("stock.paying_amount"),name:"amount",help:n.rules.amount?n.rules.amount.message:null,validateStatus:n.rules.amount?"error":null},{default:a(()=>[t(O,{prefix:n.appSetting.currency.symbol,value:n.formData.amount,"onUpdate:value":l[2]||(l[2]=R=>n.formData.amount=R),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.payable_amount")])},null,8,["prefix","value","placeholder"]),w("small",gf,[i(s(e.$t("stock.payable_amount"))+" ",1),w("span",null,s(n.formatAmountCurrency(c.data.subtotal)),1)])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(m,{gutter:16},{default:a(()=>[t(d,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(A,{label:e.$t("payments.notes"),name:"notes",help:n.rules.notes?n.rules.notes.message:null,validateStatus:n.rules.notes?"error":null},{default:a(()=>[t(F,{value:n.formData.notes,"onUpdate:value":l[3]||(l[3]=R=>n.formData.notes=R),placeholder:e.$t("payments.notes"),rows:5},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(m,{gutter:16},{default:a(()=>[t(d,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(_,{type:"primary",loading:n.loading,onClick:n.onSubmit,block:""},{icon:a(()=>[t(P)]),default:a(()=>[i(" "+s(e.$t("common.add")),1)]),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1})]),_:1})):(r(),C(d,{key:2,span:24},{default:a(()=>[t(v,{dataSource:n.allPaymentRecords,columns:n.paymentRecordsColumns,pagination:!1},{bodyCell:a(({column:R,record:L})=>[R.dataIndex==="payment_mode"?(r(),S(I,{key:0},[i(s(n.getPaymentModeName(L.payment_mode_id)),1)],64)):D("",!0),R.dataIndex==="amount"?(r(),S(I,{key:1},[i(s(n.formatAmountCurrency(L.amount)),1)],64)):D("",!0),R.dataIndex==="action"?(r(),C(_,{key:2,type:"primary",onClick:K=>n.deletePayment(L.id),danger:""},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])):D("",!0)]),_:1},8,["dataSource","columns"])]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1},8,["title","width","open","onClose"])}const hf=W(ff,[["render",yf]]),bf={props:["text"],setup(e){return T(""),{text:e.text}}};function vf(e,l,c,n,h,y){const u=o("a-qrcode"),d=o("a-space");return r(),C(d,{direction:"vertical",align:"center"},{default:a(()=>[t(u,{value:n.text,size:100},null,8,["value"])]),_:1})}const kf=W(bf,[["render",vf]]),wf=window.config.pos_invoice_css,Cf=Z({props:["visible","order"],emits:["closed","success"],components:{PrinterOutlined:ha,BarcodeGenerator:uo,QRcodeGenerator:kf},setup(e,{emit:l}){const{formatAmountCurrency:c,formatDate:n,selectedWarehouse:h}=J();return{onClose:()=>{l("closed")},formatDate:n,selectedWarehouse:h,formatAmountCurrency:c,printInvoice:()=>{var d=document.getElementById("pos-invoice").innerHTML,m=window.open("","","height=500, width=500");m.document.write(`<link rel="stylesheet" href="${wf}"><html><body>`),m.document.write(d),m.document.write("</body></html>"),m.document.close(),m.print()}}}}),Sf={id:"pos-invoice"},$f={key:0,style:{"max-width":"400px",margin:"0px auto"}},Af={class:"invoice-header"},Df=["src","alt"],Tf={class:"company-details"},Ef={class:"company-address"},Of={style:{"margin-bottom":"0px"}},If={class:"tax-invoice-details"},Pf={class:"tax-invoice-title"},Uf={class:"invoice-customer-details"},Ff={style:{width:"50%"}},qf={style:{width:"50%"}},Mf={style:{width:"50%"}},Rf={style:{width:"50%"}},Kf={class:"tax-invoice-items"},Vf={style:{width:"100%"}},zf={style:{background:"#eee"}},Lf=w("td",{style:{width:"5%"}},"#",-1),Bf={style:{width:"25%"}},Wf={key:0},jf={style:{"text-align":"right"}},Hf={class:"item-row-other"},Nf=["colspan"],Yf={colspan:"2",style:{"text-align":"right"}},Gf={class:"item-row-other"},Jf=["colspan"],Qf={colspan:"2",style:{"text-align":"right"}},Xf={class:"item-row-other"},Zf=["colspan"],xf={colspan:"2",style:{"text-align":"right"}},e1={class:"tax-invoice-totals"},t1={style:{width:"100%"}},a1={style:{width:"30%"}},n1={style:{"margin-bottom":"0px"}},o1={style:{width:"30%"}},l1={style:{"margin-bottom":"0px"}},s1={style:{width:"40%","text-align":"center"}},r1={style:{"margin-bottom":"0px"}},d1={class:"paid-amount-deatils"},i1={style:{width:"100%"}},u1={style:{background:"#eee"}},m1={style:{width:"50%"}},c1={style:{width:"50%"}},p1={class:"paid-amount-row"},_1={style:{width:"100%"}},f1={style:{"text-align":"center"}},g1={style:{width:"100%"}},y1={key:0,style:{"margin-bottom":"0px"}},h1={key:0},b1={key:1,style:{"margin-bottom":"0px"}},v1={key:0,class:"discount-details"},k1={key:1,class:"barcode-details"},w1={key:2,style:{"text-align":"center"},class:"qrcode-details"},C1={class:"thanks-details"},S1={class:"footer-button"};function $1(e,l,c,n,h,y){const u=o("BarcodeGenerator"),d=o("QRcodeGenerator"),m=o("PrinterOutlined"),p=o("a-button"),_=o("a-modal");return r(),C(_,{open:e.visible,centered:!0,maskClosable:!1,title:e.$t("common.print_invoice"),width:"400px",onCancel:e.onClose},{footer:a(()=>[w("div",S1,[t(p,{type:"primary",onClick:e.printInvoice},{icon:a(()=>[t(m)]),default:a(()=>[i(" "+s(e.$t("common.print_invoice")),1)]),_:1},8,["onClick"])])]),default:a(()=>[w("div",Sf,[e.order&&e.order.xid?(r(),S("div",$f,[w("div",Af,[w("img",{class:"invoice-logo",src:e.selectedWarehouse.logo_url,alt:e.selectedWarehouse.name},null,8,Df)]),w("div",Tf,[w("h2",null,s(e.selectedWarehouse.name),1),w("p",Ef,s(e.selectedWarehouse.address),1),w("h4",Of,s(e.$t("common.phone"))+": "+s(e.selectedWarehouse.phone),1),w("h4",null,s(e.$t("common.email"))+": "+s(e.selectedWarehouse.email),1)]),w("div",If,[w("h3",Pf,s(e.$t("sales.tax_invoice")),1),w("table",Uf,[w("tr",null,[w("td",Ff,s(e.$t("sales.invoice"))+" : "+s(e.order.invoice_number),1),w("td",qf,s(e.$t("common.date"))+" : "+s(e.formatDate(e.order.order_date)),1)]),w("tr",null,[w("td",Mf,s(e.$t("stock.customer"))+" : "+s(e.order.user.name),1),w("td",Rf,s(e.$t("stock.sold_by"))+" : "+s(e.order.staff_member.name),1)])])]),w("div",Kf,[w("table",Vf,[w("thead",zf,[Lf,w("td",Bf,s(e.$t("common.item")),1),w("td",{style:Be({width:e.selectedWarehouse.show_mrp_on_invoice?"10%":"25%"})},s(e.$t("common.qty")),5),e.selectedWarehouse.show_mrp_on_invoice?(r(),S("td",{key:0,style:Be({width:(e.selectedWarehouse.show_mrp_on_invoice,"20%")})},s(e.$t("product.mrp")),5)):D("",!0),w("td",{style:Be({width:e.selectedWarehouse.show_mrp_on_invoice?"20%":"25%"})},s(e.$t("common.rate")),5),w("td",{style:Be({width:e.selectedWarehouse.show_mrp_on_invoice?"20%":"25%",textAlign:"right"})},s(e.$t("common.total")),5)]),w("tbody",null,[(r(!0),S(I,null,Q(e.order.items,(f,g)=>(r(),S("tr",{class:"item-row",key:f.xid},[w("td",null,s(g+1),1),w("td",null,s(f.product.name),1),w("td",null,s(f.quantity+""+f.unit.short_name),1),e.selectedWarehouse.show_mrp_on_invoice?(r(),S("td",Wf,s(f.mrp?e.formatAmountCurrency(f.mrp):"-"),1)):D("",!0),w("td",null,s(e.formatAmountCurrency(f.unit_price)),1),w("td",jf,s(e.formatAmountCurrency(f.subtotal)),1)]))),128)),w("tr",Hf,[w("td",{colspan:e.selectedWarehouse.show_mrp_on_invoice?4:3,style:{"text-align":"right"}},s(e.$t("stock.order_tax")),9,Nf),w("td",Yf,s(e.formatAmountCurrency(e.order.tax_amount)),1)]),w("tr",Gf,[w("td",{colspan:e.selectedWarehouse.show_mrp_on_invoice?4:3,style:{"text-align":"right"}},s(e.$t("stock.discount")),9,Jf),w("td",Qf,s(e.formatAmountCurrency(e.order.discount)),1)]),w("tr",Xf,[w("td",{colspan:e.selectedWarehouse.show_mrp_on_invoice?4:3,style:{"text-align":"right"}},s(e.$t("stock.shipping")),9,Zf),w("td",xf,s(e.formatAmountCurrency(e.order.shipping)),1)])])])]),w("div",e1,[w("table",t1,[w("tr",null,[w("td",a1,[w("h3",n1,s(e.$t("common.items"))+": "+s(e.order.total_items),1)]),w("td",o1,[w("h3",l1,s(e.$t("common.qty"))+": "+s(e.order.total_quantity),1)]),w("td",s1,[w("h3",r1,s(e.$t("common.total"))+": "+s(e.formatAmountCurrency(e.order.total)),1)])])])]),w("div",d1,[w("table",i1,[w("thead",u1,[w("td",m1,s(e.$t("payments.paid_amount")),1),w("td",c1,s(e.$t("payments.due_amount")),1)]),w("tbody",null,[w("tr",p1,[w("td",null,s(e.formatAmountCurrency(e.order.paid_amount)),1),w("td",null,s(e.formatAmountCurrency(e.order.due_amount)),1)])])])]),w("div",null,[w("table",_1,[w("tr",f1,[w("td",g1,[e.order.order_payments?(r(),S("h4",y1,[i(s(e.$t("invoice.payment_mode"))+": ",1),(r(!0),S(I,null,Q(e.order.order_payments,f=>(r(),S("span",{key:f.xid,style:{"margin-right":"5px"}},[i(s(e.formatAmountCurrency(f.amount))+" (",1),f.payment&&f.payment.payment_mode&&f.payment.payment_mode.name?(r(),S("span",h1,s(f.payment.payment_mode.name),1)):D("",!0),i(" ) ")]))),128))])):(r(),S("h3",b1,s(e.$t("invoice.payment_mode"))+": - ",1))])])])]),e.selectedWarehouse.show_discount_tax_on_invoice?(r(),S("div",v1,[w("p",null,s(e.$t("invoice.total_discount_on_mrp"))+" : "+s(e.formatAmountCurrency(e.order.saving_on_mrp)),1),w("p",null,s(e.$t("invoice.total_discount"))+" : "+s(e.order.saving_percentage)+"% ",1),w("p",null,s(e.$t("invoice.total_tax"))+" : "+s(e.formatAmountCurrency(e.order.total_tax_on_items)),1)])):D("",!0),e.selectedWarehouse.barcode_type=="barcode"?(r(),S("div",k1,[t(u,{value:e.order.invoice_number+"",height:25,width:1,fontSize:15,elementTag:"svg"},null,8,["value"])])):(r(),S("div",w1,[t(d,{text:e.order.invoice_number+""},null,8,["text"])])),w("div",C1,[w("h3",null,s(e.$t("invoice.thanks_message")),1)])])):D("",!0)])]),_:1},8,["open","title","onCancel"])}const A1=W(Cf,[["render",$1]]);const D1=Z({props:["formData","brands","categories"],emits:["changed"],components:{ContainerOutlined:bl},setup(e,{emit:l}){return{reFetchProducts:()=>{l("changed")},getCategoryName:h=>h.length>9?h.substring(0,8)+"..":h}}}),T1=["onClick"];function E1(e,l,c,n,h,y){const u=o("ContainerOutlined"),d=o("a-avatar"),m=o("a-tooltip"),p=o("a-col"),_=o("a-row");return r(),C(_,{gutter:[16,16]},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24,xl:24,class:"pos-style-1-category-scroll"},{default:a(()=>[w("div",{onClick:l[0]||(l[0]=()=>{e.formData.category_id=void 0,e.reFetchProducts()}),class:"pos-style-1-category-box"},[t(d,{shape:"square",size:"large",style:{backgroundColor:"#fff",color:"black",verticalAlign:"middle",marginTop:"5px"}},{icon:a(()=>[t(u)]),_:1}),w("p",null,s(e.$t("common.all")),1)]),(r(!0),S(I,null,Q(e.categories,f=>(r(),S("div",{key:f.xid,onClick:()=>{e.formData.category_id=f.xid,e.reFetchProducts()},class:"pos-style-1-category-box"},[t(m,{title:f.name},{default:a(()=>[t(d,{size:"large",src:f.image_url,style:{verticalAlign:"middle",marginTop:"5px"}},null,8,["src"]),w("p",null,s(e.getCategoryName(f.name)),1)]),_:2},1032,["title"])],8,T1))),128))]),_:1})]),_:1})}const O1=W(D1,[["render",E1]]),I1=Z({props:["formData","brands","categories"],emits:["changed"],setup(e,{emit:l}){return{reFetchProducts:()=>{l("changed")}}}});function P1(e,l,c,n,h,y){const u=o("a-select-option"),d=o("a-select"),m=o("a-col"),p=o("a-input-group"),_=o("a-row");return r(),C(_,{gutter:[16,16]},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[t(d,{value:e.formData.brand_id,"onUpdate:value":l[0]||(l[0]=f=>e.formData.brand_id=f),placeholder:e.$t("common.select_default_text",[e.$t("product.brand")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":"",onChange:e.reFetchProducts},{default:a(()=>[(r(!0),S(I,null,Q(e.brands,f=>(r(),C(u,{key:f.xid,title:f.name,value:f.xid},{default:a(()=>[i(s(f.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[t(p,{compact:""},{default:a(()=>[t(d,{value:e.formData.category_id,"onUpdate:value":l[1]||(l[1]=f=>e.formData.category_id=f),placeholder:e.$t("common.select_default_text",[e.$t("product.category")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":"",onChange:e.reFetchProducts},{default:a(()=>[(r(!0),S(I,null,Q(e.categories,f=>(r(),C(u,{key:f.xid,title:f.name,value:f.xid},{default:a(()=>[i(s(f.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1})]),_:1})]),_:1})}const U1=W(I1,[["render",P1]]);const F1={components:{PlusOutlined:ne,SearchOutlined:nt,EditOutlined:$e,DeleteOutlined:fe,SaveOutlined:he,SettingOutlined:_t,ShoppingCartOutlined:ft,UnorderedListOutlined:Bn,PosLayout1:O1,PosLayout2:U1,ProductCardNew:_f,OrderSummary:ef,PayNow:hf,CustomerAddButton:wo,InvoiceModal:A1},setup(){const{taxes:e,customers:l,brands:c,categories:n,productLists:h,orderItemColumns:y,formData:u,customerUrl:d,getPreFetchData:m,posDefaultCustomer:p}=tf(),_=T([]),f=T([]),g=T([]),b=T(1),v=Se({orderSearchTerm:void 0,productFetching:!1,products:[]}),{formatAmount:k,formatAmountCurrency:$,appSetting:A,taxTypes:O,permsArray:F}=J(),{t:P}=te(),E=T(!1),U=T(!1),R=T({}),L=T([]),K=T(""),V=T(!1),q=T(!1),B=T({}),Y=T(!1);x(()=>{m()});const N=()=>{axiosAdmin.post("pos/products",{brand_id:u.value.brand_id,category_id:u.value.category_id}).then(se=>{h.value=se.data.products})},le=ht(se=>{H(se)},300),H=se=>{if(v.products=[],se!=""){v.productFetching=!0;let ce="search-product";axiosAdmin.post(ce,{order_type:"sales",search_term:se}).then(De=>{De.data.length==1?z("",{product:De.data[0]}):v.products=De.data,v.productFetching=!1})}},G=se=>{va(()=>{se.keyCode==13&&H(se.target.value)})},z=(se,ce)=>{const De=ce.product;X(De)},X=se=>{if(et(f.value,se.xid)){const Ue=Qe(_.value,["xid",se.xid]);if(Ue&&Ue.quantity<Ue.stock_quantity){const ee=[];var De={};_.value.map(Te=>{var Me=Te.quantity;Te.xid==se.xid&&(Me+=1,Te.quantity=Me,De=Te),ee.push(Te)}),_.value=ee;var ce=new Audio(A.value.beep_audio_url);ce.play(),v.orderSearchTerm=void 0,v.products=[],oe(De)}else v.orderSearchTerm=void 0,v.products=[],Oe.error(P("common.out_of_stock"))}else{f.value.push(se.xid),_.value.push({...se,sn:_.value.length+1,unit_price:k(se.unit_price),tax_amount:k(se.tax_amount),subtotal:k(se.subtotal)}),v.orderSearchTerm=void 0,v.products=[],M();var ce=new Audio(A.value.beep_audio_url);ce.play()}},j=se=>{var ce=parseFloat(se.quantity),De=parseFloat(se.stock_quantity);const Ue=parseFloat(se.unit_price);ce=ce>De?De:ce;const ee=se.discount_rate,ye=ee>0?ee/100*Ue:0,Te=Ue-ye;var Me=0,Ye=Te,ze=Ue;return se.tax_rate>0&&(se.tax_type=="inclusive"?(ze=Te*100/(100+se.tax_rate),Me=ze*(se.tax_rate/100)):(Me=Te*(se.tax_rate/100),Ye=Te+Me,ze=Te)),{...se,total_discount:ye*ce,subtotal:Ye*ce,quantity:ce,total_tax:Me*ce,max_quantity:De,single_unit_price:ze}},oe=se=>{const ce=[];_.value.map(De=>{if(De.xid==se.xid){const Ue=j(se);ce.push(Ue)}else ce.push(De)}),_.value=ce,M()},M=()=>{let se=0;_.value.map(ee=>{se+=ee.subtotal});var ce=0;u.value.discount_type=="percentage"?ce=u.value.discount_value!=""?parseFloat(u.value.discount_value)*se/100:0:u.value.discount_type=="fixed"&&(ce=u.value.discount_value!=""?parseFloat(u.value.discount_value):0);const De=u.value.tax_rate!=""?parseFloat(u.value.tax_rate):0;se=se-ce;const Ue=se*(De/100);se=se+parseFloat(u.value.shipping),u.value.subtotal=k(se+Ue),u.value.tax_amount=k(Ue),u.value.discount=ce},ae=se=>{const ce=[];let De=1;_.value.map(ee=>{ee.item_id!=null&&(g.value=[...g.value,ee.item_id]),ee.xid!=se.xid&&(ce.push({...ee,sn:De,single_unit_price:k(ee.single_unit_price),tax_amount:k(ee.tax_amount),subtotal:k(ee.subtotal)}),De++)}),_.value=ce;const Ue=f.value.filter(ee=>ee!=se.xid);f.value=Ue,M()},ie=(se,ce)=>{u.value.tax_rate=se==null?0:ce.tax.rate,M()},re=se=>{R.value={id:se.xid,discount_rate:se.discount_rate,unit_price:se.unit_price,tax_id:se.x_tax_id,tax_type:se.tax_type==null?void 0:se.tax_type},E.value=!0,K.value=se.name},be=()=>{V.value=!0},ue=()=>{V.value=!1},_e=()=>{_.value=[],f.value=[],u.value={...u.value,tax_id:void 0,category_id:void 0,brand_id:void 0,tax_id:void 0,tax_rate:0,tax_amount:0,discount_value:0,discount:0,shipping:0,subtotal:0},M()},Fe=()=>{const se=_.value.filter(ee=>ee.xid==R.value.id),ce=e.value.filter(ee=>ee.xid==R.value.tax_id),De=R.value.tax_type!=null?R.value.tax_type:"exclusive",Ue={...se[0],discount_rate:parseFloat(R.value.discount_rate),unit_price:parseFloat(R.value.unit_price),tax_id:R.value.tax_id,tax_rate:ce[0]?ce[0].rate:0,tax_type:De};oe(Ue),Je()},Je=()=>{R.value={},E.value=!1},mt=()=>{axiosAdmin.get(d).then(se=>{l.value=se.data})},yt=se=>{_e();var ce=p.value&&p.value.xid?p.value.xid:void 0;u.value={...u.value,user_id:ce},N(),V.value=!1,B.value=se,q.value=!0};return{taxes:e,customers:l,categories:n,brands:c,productLists:h,formData:u,reFetchProducts:N,selectSaleProduct:X,taxChanged:ie,quantityChanged:oe,recalculateFinalTotal:M,payNow:be,payNowVisible:V,payNowClosed:ue,resetPos:_e,appSetting:A,permsArray:F,...dt(v),fetchProducts:le,searchValueSelected:z,selectedProducts:_,orderItemColumns:y,formatAmount:k,formatAmountCurrency:$,containerStyle:{height:window.innerHeight-110+"px",overflow:"scroll","overflow-y":"scroll"},customerAdded:mt,editItem:re,addEditVisible:E,addEditFormData:R,addEditFormSubmitting:U,addEditRules:L,addEditPageTitle:K,onAddEditSubmit:Fe,onAddEditClose:Je,taxTypes:O,showDeleteConfirm:ae,payNowSuccess:yt,printInvoiceModalVisible:q,printInvoiceOrder:B,postLayout:b,innerWidth:window.innerWidth,inputValueChanged:G,showMobileCart:Y}}},q1={style:{display:"flex"}},M1={key:0},R1=w("br",null,null,-1),K1={class:"pos-left-wrapper"},V1={class:"pos-left-header"},z1={class:"bill-filters"},L1={style:{display:"flex"}},B1={key:0},W1=w("br",null,null,-1),j1={style:{display:"flex"}},H1={class:"pos-left-content"},N1={class:"bill-body"},Y1={class:"bill-table"},G1=w("br",null,null,-1),J1={class:"pos-left-footer"},Q1={class:"bill-footer"},X1={style:{right:0,bottom:20,width:"100%",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},Z1={class:"pos-grand-total"},x1={class:"pos-grand-total"},eg={style:{display:"flex"}},tg={class:"pos1-left-wrapper"},ag={key:0,class:"pos-left-header"},ng={key:1,class:"pos-left-content"},og={key:2},lg=w("br",null,null,-1),sg={key:3,class:"pos-left-footer"},rg={class:"bill-footer",style:{paddingBotton:"30px"}},dg={key:0,class:"pos-mobile-footer"},ig={class:"pos-grand-total"};function ug(e,l,c,n,h,y){const u=o("a-select-option"),d=o("a-select"),m=o("CustomerAddButton"),p=o("a-page-header"),_=o("a-col"),f=o("a-row"),g=o("a-card"),b=o("SearchOutlined"),v=o("a-spin"),k=o("a-typography-text"),$=o("a-input-number"),A=o("EditOutlined"),O=o("a-button"),F=o("DeleteOutlined"),P=o("a-table"),E=o("a-form-item"),U=o("a-input-group"),R=o("a-space"),L=o("PosLayout1"),K=o("PosLayout2"),V=o("ProductCardNew"),q=o("a-result"),B=o("perfect-scrollbar"),Y=o("ShoppingCartOutlined"),N=o("UnorderedListOutlined"),le=o("a-form"),H=o("SaveOutlined"),G=o("a-modal"),z=o("PayNow"),X=o("InvoiceModal");return r(),S(I,null,[t(g,{class:"page-content-sub-header breadcrumb-left-border",bodyStyle:{padding:"0px",margin:"0px 16px 0"}},{default:a(()=>[t(f,null,{default:a(()=>[t(_,{span:24},{default:a(()=>[t(p,{title:e.$t("menu.pos"),onBack:l[1]||(l[1]=()=>e.$router.go(-1)),class:"p-0"},We({_:2},[n.innerWidth<=768?{name:"extra",fn:a(()=>[w("span",q1,[t(d,{value:n.formData.user_id,"onUpdate:value":l[0]||(l[0]=j=>n.formData.user_id=j),placeholder:e.$t("user.walk_in_customer"),style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.customers,j=>(r(),C(u,{key:j.xid,title:j.name,value:j.xid},{default:a(()=>[i(s(j.name)+" ",1),j.phone&&j.phone!=""?(r(),S("span",M1,[R1,i(" "+s(j.phone),1)])):D("",!0)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"]),t(m,{onOnAddSuccess:n.customerAdded},null,8,["onOnAddSuccess"])])]),key:"0"}:void 0]),1032,["title"])]),_:1})]),_:1})]),_:1}),t(le,{layout:"vertical"},{default:a(()=>[n.innerWidth>=768?(r(),C(f,{key:0,gutter:[8,8],class:"mt-5",style:{margin:"10px 16px 0"}},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:10,xl:10},{default:a(()=>[w("div",K1,[w("div",V1,[t(g,{class:"left-pos-top",style:{marginBottom:"10px"}},{default:a(()=>[w("div",z1,[t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24,xl:24},{default:a(()=>[w("span",L1,[t(d,{value:n.formData.user_id,"onUpdate:value":l[2]||(l[2]=j=>n.formData.user_id=j),placeholder:e.$t("user.walk_in_customer"),style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.customers,j=>(r(),C(u,{key:j.xid,title:j.name,value:j.xid},{default:a(()=>[i(s(j.name)+" ",1),j.phone&&j.phone!=""?(r(),S("span",B1,[W1,i(" "+s(j.phone),1)])):D("",!0)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"]),t(m,{onOnAddSuccess:n.customerAdded},null,8,["onOnAddSuccess"])])]),_:1})]),_:1}),t(f,{class:"mt-20 mb-30"},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24,xl:24},{default:a(()=>[w("span",j1,[t(d,{value:null,searchValue:e.orderSearchTerm,"show-search":"","filter-option":!1,placeholder:e.$t("product.search_scan_product"),style:{width:"100%"},"not-found-content":e.productFetching?void 0:null,onSearch:l[3]||(l[3]=j=>{e.orderSearchTerm=j,n.fetchProducts(j)}),"option-label-prop":"label",onFocus:l[4]||(l[4]=j=>e.products=[]),onSelect:n.searchValueSelected,onInputKeyDown:n.inputValueChanged},We({suffixIcon:a(()=>[t(b)]),default:a(()=>[(r(!0),S(I,null,Q(e.products,j=>(r(),C(u,{key:j.xid,value:j.xid,label:j.name,product:j},{default:a(()=>[i(" => "+s(j.name),1)]),_:2},1032,["value","label","product"]))),128))]),_:2},[e.productFetching?{name:"notFoundContent",fn:a(()=>[t(v,{size:"small"})]),key:"0"}:void 0]),1032,["searchValue","placeholder","not-found-content","onSelect","onInputKeyDown"])])]),_:1})]),_:1})])]),_:1})]),w("div",H1,[t(g,{class:"left-pos-middle-table",style:{marginBottom:"10px"}},{default:a(()=>[w("div",N1,[w("div",Y1,[t(f,{class:"mt-20 mb-30"},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(P,{"row-key":j=>j.xid,dataSource:n.selectedProducts,columns:n.orderItemColumns,pagination:!1,size:"middle"},{bodyCell:a(({column:j,record:oe})=>[j.dataIndex==="name"?(r(),S(I,{key:0},[i(s(oe.name)+" ",1),G1,w("small",null,[t(k,{code:""},{default:a(()=>[i(s(e.$t("product.avl_qty"))+" "+s(`${oe.stock_quantity}${oe.unit_short_name}`),1)]),_:2},1024)])],64)):D("",!0),j.dataIndex==="unit_quantity"?(r(),C($,{key:1,id:"inputNumber",value:oe.quantity,"onUpdate:value":M=>oe.quantity=M,min:0,onChange:M=>n.quantityChanged(oe)},null,8,["value","onUpdate:value","onChange"])):D("",!0),j.dataIndex==="subtotal"?(r(),S(I,{key:2},[i(s(n.formatAmountCurrency(oe.subtotal)),1)],64)):D("",!0),j.dataIndex==="action"?(r(),S(I,{key:3},[t(O,{type:"primary",onClick:M=>n.editItem(oe),style:{"margin-left":"4px","margin-top":"4px"}},{icon:a(()=>[t(A)]),_:2},1032,["onClick"]),t(O,{type:"primary",onClick:M=>n.showDeleteConfirm(oe),style:{"margin-left":"4px","margin-top":"4px"}},{icon:a(()=>[t(F)]),_:2},1032,["onClick"])],64)):D("",!0)]),_:1},8,["row-key","dataSource","columns"])]),_:1})]),_:1})])])]),_:1})]),w("div",J1,[t(g,null,{default:a(()=>[w("div",Q1,[t(f,{gutter:[16,16]},{default:a(()=>[t(_,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(E,{label:e.$t("stock.order_tax")},{default:a(()=>[t(d,{value:n.formData.tax_id,"onUpdate:value":l[5]||(l[5]=j=>n.formData.tax_id=j),placeholder:e.$t("common.select_default_text",[e.$t("stock.order_tax")]),allowClear:!0,style:{width:"100%"},onChange:n.taxChanged},{default:a(()=>[(r(!0),S(I,null,Q(n.taxes,j=>(r(),C(u,{key:j.xid,value:j.xid,tax:j},{default:a(()=>[i(s(j.name)+" ("+s(j.rate)+"%) ",1)]),_:2},1032,["value","tax"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1},8,["label"])]),_:1}),t(_,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(E,{label:e.$t("stock.discount")},{default:a(()=>[t(U,{compact:""},{default:a(()=>[t(d,{value:n.formData.discount_type,"onUpdate:value":l[6]||(l[6]=j=>n.formData.discount_type=j),onChange:n.recalculateFinalTotal,style:{width:"30%"}},{default:a(()=>[t(u,{value:"percentage"},{default:a(()=>[i(" % ")]),_:1}),t(u,{value:"fixed"},{default:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1})]),_:1},8,["value","onChange"]),t($,{value:n.formData.discount_value,"onUpdate:value":l[7]||(l[7]=j=>n.formData.discount_value=j),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.discount")]),onChange:n.recalculateFinalTotal,min:"0",style:{width:"70%"}},null,8,["value","placeholder","onChange"])]),_:1})]),_:1},8,["label"])]),_:1}),t(_,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(E,{label:e.$t("stock.shipping")},{default:a(()=>[t($,{value:n.formData.shipping,"onUpdate:value":l[8]||(l[8]=j=>n.formData.shipping=j),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.shipping")]),onChange:n.recalculateFinalTotal,min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder","onChange"])]),_:1},8,["label"])]),_:1})]),_:1})])]),_:1}),w("div",X1,[t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:10,lg:10,xl:10},{default:a(()=>[t(f,{gutter:16,style:{background:"#dbdbdb",padding:"5px"}},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[w("span",Z1,s(e.$t("stock.grand_total"))+" : ",1)]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[w("span",x1,s(n.formatAmountCurrency(n.formData.subtotal)),1)]),_:1})]),_:1})]),_:1}),t(_,{xs:24,sm:24,md:6,lg:6,xl:6,class:"mt-10"},{default:a(()=>[w("small",null,s(e.$t("product.tax"))+" : "+s(n.formatAmountCurrency(n.formData.tax_amount))+" | "+s(e.$t("product.discount"))+" : "+s(n.formatAmountCurrency(n.formData.discount)),1)]),_:1}),t(_,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(R,null,{default:a(()=>[t(O,{type:"primary",onClick:n.payNow,disabled:n.formData.subtotal<=0||n.formData.user_id==null||n.formData.user_id==""||!n.formData.user_id},{default:a(()=>[i(s(e.$t("stock.pay_now")),1)]),_:1},8,["onClick","disabled"]),t(O,{onClick:n.resetPos},{default:a(()=>[i(s(e.$t("stock.reset")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])])])]),_:1}),t(_,{class:"right-pos-sidebar",xs:24,sm:24,md:24,lg:14,xl:14},{default:a(()=>[t(B,{options:{wheelSpeed:1,swipeEasing:!0,suppressScrollX:!0}},{default:a(()=>[n.postLayout==1?(r(),C(L,{key:0,brands:n.brands,categories:n.categories,formData:n.formData,onChanged:n.reFetchProducts},null,8,["brands","categories","formData","onChanged"])):(r(),C(K,{key:1,brands:n.brands,categories:n.categories,formData:n.formData,onChanged:n.reFetchProducts},null,8,["brands","categories","formData","onChanged"])),n.productLists.length>0?(r(),C(f,{key:2,gutter:30},{default:a(()=>[(r(!0),S(I,null,Q(n.productLists,j=>(r(),C(_,{key:j.xid,xxl:6,lg:6,md:12,xs:24,onClick:oe=>n.selectSaleProduct(j)},{default:a(()=>[t(V,{product:j},null,8,["product"])]),_:2},1032,["onClick"]))),128))]),_:1})):(r(),C(f,{key:3},{default:a(()=>[t(_,{span:24},{default:a(()=>[t(q,{title:e.$t("stock.no_product_found"),style:{marginTop:"20%"}},null,8,["title"])]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})):(r(),C(f,{key:1,gutter:[8,8],class:"mt-5",style:{margin:"10px 16px 0"}},{default:a(()=>[t(_,{span:24},{default:a(()=>[w("span",eg,[t(d,{value:null,searchValue:e.orderSearchTerm,"show-search":"","filter-option":!1,placeholder:e.$t("product.search_scan_product"),style:{width:"90%"},"not-found-content":e.productFetching?void 0:null,onSearch:l[9]||(l[9]=j=>{e.orderSearchTerm=j,n.fetchProducts(j)}),"option-label-prop":"label",onFocus:l[10]||(l[10]=j=>e.products=[]),onSelect:n.searchValueSelected,onInputKeyDown:n.inputValueChanged},We({suffixIcon:a(()=>[t(b)]),default:a(()=>[(r(!0),S(I,null,Q(e.products,j=>(r(),C(u,{key:j.xid,value:j.xid,label:j.name,product:j},{default:a(()=>[i(" => "+s(j.name),1)]),_:2},1032,["value","label","product"]))),128))]),_:2},[e.productFetching?{name:"notFoundContent",fn:a(()=>[t(v,{size:"small"})]),key:"0"}:void 0]),1032,["searchValue","placeholder","not-found-content","onSelect","onInputKeyDown"]),n.showMobileCart?(r(),C(O,{key:0,class:"ml-5",style:{width:"100%"},onClick:l[11]||(l[11]=()=>n.showMobileCart=!1),type:"primary"},{icon:a(()=>[t(Y)]),_:1})):(r(),C(O,{key:1,class:"ml-5",style:{width:"100%"},onClick:l[12]||(l[12]=()=>n.showMobileCart=!0),type:"primary"},{icon:a(()=>[t(N)]),_:1}))])]),_:1}),t(_,{span:24},{default:a(()=>[w("div",tg,[n.showMobileCart?D("",!0):(r(),S("div",ag,[n.postLayout==1?(r(),C(L,{key:0,brands:n.brands,categories:n.categories,formData:n.formData,onChanged:n.reFetchProducts},null,8,["brands","categories","formData","onChanged"])):(r(),C(K,{key:1,brands:n.brands,categories:n.categories,formData:n.formData,onChanged:n.reFetchProducts},null,8,["brands","categories","formData","onChanged"]))])),n.showMobileCart?D("",!0):(r(),S("div",ng,[n.productLists.length>0?(r(),C(f,{key:0,gutter:30,class:"pos1-products-lists"},{default:a(()=>[(r(!0),S(I,null,Q(n.productLists,j=>(r(),C(_,{key:j.xid,xxl:8,lg:8,md:8,sm:12,xs:12,onClick:oe=>n.selectSaleProduct(j)},{default:a(()=>[t(V,{product:j},null,8,["product"])]),_:2},1032,["onClick"]))),128))]),_:1})):D("",!0)])),n.showMobileCart?(r(),S("div",og,[t(f,{class:"mt-5 mb-5"},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(P,{"row-key":j=>j.xid,dataSource:n.selectedProducts,columns:n.orderItemColumns,pagination:!1,size:"middle"},{bodyCell:a(({column:j,record:oe})=>[j.dataIndex==="name"?(r(),S(I,{key:0},[i(s(oe.name)+" ",1),lg,w("small",null,[t(k,{code:""},{default:a(()=>[i(s(e.$t("product.avl_qty"))+" "+s(`${oe.stock_quantity}${oe.unit_short_name}`),1)]),_:2},1024)])],64)):D("",!0),j.dataIndex==="unit_quantity"?(r(),C($,{key:1,id:"inputNumber",value:oe.quantity,"onUpdate:value":M=>oe.quantity=M,min:0,onChange:M=>n.quantityChanged(oe)},null,8,["value","onUpdate:value","onChange"])):D("",!0),j.dataIndex==="subtotal"?(r(),S(I,{key:2},[i(s(n.formatAmountCurrency(oe.subtotal)),1)],64)):D("",!0),j.dataIndex==="action"?(r(),S(I,{key:3},[t(O,{type:"primary",onClick:M=>n.editItem(oe),style:{"margin-left":"4px","margin-top":"4px"}},{icon:a(()=>[t(A)]),_:2},1032,["onClick"]),t(O,{type:"primary",onClick:M=>n.showDeleteConfirm(oe),style:{"margin-left":"4px","margin-top":"4px"}},{icon:a(()=>[t(F)]),_:2},1032,["onClick"])],64)):D("",!0)]),_:1},8,["row-key","dataSource","columns"])]),_:1})]),_:1})])):D("",!0),n.showMobileCart?(r(),S("div",sg,[t(g,null,{default:a(()=>[w("div",rg,[t(f,{gutter:[16]},{default:a(()=>[t(_,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(E,{label:e.$t("stock.order_tax")},{default:a(()=>[t(d,{value:n.formData.tax_id,"onUpdate:value":l[13]||(l[13]=j=>n.formData.tax_id=j),placeholder:e.$t("common.select_default_text",[e.$t("stock.order_tax")]),allowClear:!0,style:{width:"100%"},onChange:n.taxChanged},{default:a(()=>[(r(!0),S(I,null,Q(n.taxes,j=>(r(),C(u,{key:j.xid,value:j.xid,tax:j},{default:a(()=>[i(s(j.name)+" ("+s(j.rate)+"%) ",1)]),_:2},1032,["value","tax"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1},8,["label"])]),_:1}),t(_,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(E,{label:e.$t("stock.discount")},{default:a(()=>[t(U,{compact:""},{default:a(()=>[t(d,{value:n.formData.discount_type,"onUpdate:value":l[14]||(l[14]=j=>n.formData.discount_type=j),onChange:n.recalculateFinalTotal,style:{width:"30%"}},{default:a(()=>[t(u,{value:"percentage"},{default:a(()=>[i(" % ")]),_:1}),t(u,{value:"fixed"},{default:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1})]),_:1},8,["value","onChange"]),t($,{value:n.formData.discount_value,"onUpdate:value":l[15]||(l[15]=j=>n.formData.discount_value=j),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.discount")]),onChange:n.recalculateFinalTotal,min:"0",style:{width:"70%"}},null,8,["value","placeholder","onChange"])]),_:1})]),_:1},8,["label"])]),_:1}),t(_,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(E,{label:e.$t("stock.shipping")},{default:a(()=>[t($,{value:n.formData.shipping,"onUpdate:value":l[16]||(l[16]=j=>n.formData.shipping=j),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock.shipping")]),onChange:n.recalculateFinalTotal,min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder","onChange"])]),_:1},8,["label"])]),_:1})]),_:1})])]),_:1})])):D("",!0)])]),_:1})]),_:1}))]),_:1}),n.innerWidth<=768?(r(),S("div",dg,[t(f,{gutter:16},{default:a(()=>[t(_,{span:10},{default:a(()=>[t(f,{gutter:16,style:{padding:"10px"}},{default:a(()=>[t(_,{span:24},{default:a(()=>[w("span",ig,s(e.$t("common.total"))+" : "+s(n.formatAmountCurrency(n.formData.subtotal)),1)]),_:1})]),_:1})]),_:1}),t(_,{span:14},{default:a(()=>[t(R,{style:{marginTop:"5px"}},{default:a(()=>[n.showMobileCart?(r(),C(O,{key:0,onClick:l[17]||(l[17]=()=>n.showMobileCart=!1),type:"primary"},{icon:a(()=>[t(Y)]),_:1})):(r(),C(O,{key:1,onClick:l[18]||(l[18]=()=>n.showMobileCart=!0),type:"primary"},{icon:a(()=>[t(N)]),_:1})),t(O,{type:"primary",onClick:n.payNow,disabled:n.formData.subtotal<=0||n.formData.user_id==null||n.formData.user_id==""||!n.formData.user_id},{default:a(()=>[i(s(e.$t("stock.pay_now")),1)]),_:1},8,["onClick","disabled"]),t(O,{onClick:n.resetPos},{default:a(()=>[i(s(e.$t("stock.reset")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])):D("",!0),t(G,{open:n.addEditVisible,closable:!1,centered:!0,title:n.addEditPageTitle,onOk:n.onAddEditSubmit},{footer:a(()=>[t(O,{key:"submit",type:"primary",loading:n.addEditFormSubmitting,onClick:n.onAddEditSubmit},{icon:a(()=>[t(H)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(O,{key:"back",onClick:n.onAddEditClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(le,{layout:"vertical"},{default:a(()=>[t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(E,{label:e.$t("product.unit_price"),name:"unit_price",help:n.addEditRules.unit_price?n.addEditRules.unit_price.message:null,validateStatus:n.addEditRules.unit_price?"error":null},{default:a(()=>[t($,{value:n.addEditFormData.unit_price,"onUpdate:value":l[19]||(l[19]=j=>n.addEditFormData.unit_price=j),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.unit_price")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(n.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(E,{label:e.$t("product.discount"),name:"discount_rate",help:n.addEditRules.discount_rate?n.addEditRules.discount_rate.message:null,validateStatus:n.addEditRules.discount_rate?"error":null},{default:a(()=>[t($,{value:n.addEditFormData.discount_rate,"onUpdate:value":l[20]||(l[20]=j=>n.addEditFormData.discount_rate=j),placeholder:e.$t("common.placeholder_default_text",[e.$t("product.discount")]),min:"0",style:{width:"100%"}},{addonAfter:a(()=>[i("%")]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(E,{label:e.$t("product.tax"),name:"tax_id",help:n.addEditRules.tax_id?n.addEditRules.tax_id.message:null,validateStatus:n.addEditRules.tax_id?"error":null},{default:a(()=>[t(d,{value:n.addEditFormData.tax_id,"onUpdate:value":l[21]||(l[21]=j=>n.addEditFormData.tax_id=j),placeholder:e.$t("common.select_default_text",[e.$t("product.tax")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(n.taxes,j=>(r(),C(u,{key:j.xid,value:j.xid},{default:a(()=>[i(s(j.name)+" ("+s(j.rate)+"%) ",1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(E,{label:e.$t("product.tax_type"),name:"tax_type",help:n.addEditRules.tax_type?n.addEditRules.tax_type.message:null,validateStatus:n.addEditRules.tax_type?"error":null},{default:a(()=>[t(d,{value:n.addEditFormData.tax_type,"onUpdate:value":l[22]||(l[22]=j=>n.addEditFormData.tax_type=j),placeholder:e.$t("common.select_default_text",[e.$t("product.tax_type")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(n.taxTypes,j=>(r(),C(u,{key:j.key,value:j.key},{default:a(()=>[i(s(j.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"]),t(z,{visible:n.payNowVisible,onClosed:n.payNowClosed,onSuccess:n.payNowSuccess,data:n.formData,selectedProducts:n.selectedProducts},null,8,["visible","onClosed","onSuccess","data","selectedProducts"]),t(X,{visible:n.printInvoiceModalVisible,order:n.printInvoiceOrder,onClosed:l[23]||(l[23]=j=>n.printInvoiceModalVisible=!1)},null,8,["visible","order"])],64)}const mg=W(F1,[["render",ug]]),cg=Z({props:["productData"],emits:["valueSuccess","valueChanged"],components:{SearchOutlined:nt},setup(e,{emit:l}){const c=Se({searchTerm:[],fetching:!1,products:[]});x(()=>{n(e)});const n=u=>{u.productData&&u.productData.product?(c.products=[{xid:u.productData.x_product_id,name:u.productData.product.name}],c.searchTerm=u.productData.x_product_id):(c.searchTerm=[],c.products=[]),l("valueSuccess")},h=(u,d)=>{l("valueChanged",u),l("valueSuccess")},y=ht(u=>{if(c.products=[],u!=""){c.fetching=!0;const d=`name lk "%${u}%" or item_code lk "%${u}%"`;let m=`products?fields=xid,name&filters=${encodeURIComponent(d)}&limit=10`;axiosAdmin.get(m).then(p=>{c.products=p.data,c.fetching=!1})}},300);return me(e,(u,d)=>{n(u)}),{...dt(c),fetchProducts:y,valueChanged:h}}});function pg(e,l,c,n,h,y){const u=o("SearchOutlined"),d=o("a-spin"),m=o("a-select-option"),p=o("a-select");return r(),C(p,{value:e.searchTerm,"onUpdate:value":l[0]||(l[0]=_=>e.searchTerm=_),"show-search":"","filter-option":!1,placeholder:e.$t("product.search_scan_product"),style:{width:"100%"},"not-found-content":e.fetching?void 0:null,onSearch:e.fetchProducts,"option-label-prop":"label",onChange:e.valueChanged,allowClear:!0},We({suffixIcon:a(()=>[t(u)]),default:a(()=>[(r(!0),S(I,null,Q(e.products,_=>(r(),C(m,{key:_.xid,value:_.xid,label:_.name,product:_},{default:a(()=>[i(s(_.name),1)]),_:2},1032,["value","label","product"]))),128))]),_:2},[e.fetching?{name:"notFoundContent",fn:a(()=>[t(d,{size:"small"})]),key:"0"}:void 0]),1032,["value","placeholder","not-found-content","onSearch","onChange"])}const $t=W(cg,[["render",pg]]),So=()=>{const e="stock-adjustments",l="stock-adjustments?fields=xid,product_id,x_product_id,product{id,xid,name,image,image_url},quantity,adjustment_type",c=["product_id"],{t:n}=te(),h={product_id:void 0,quantity:1,notes:"",adjustment_type:"add"},y=[{title:n("product.product"),dataIndex:"product_id"},{title:n("stock_adjustment.quantity"),dataIndex:"quantity"},{title:n("common.action"),dataIndex:"action"}],u=[{key:"add",value:n("stock_adjustment.adjustment_add")},{key:"subtract",value:n("stock_adjustment.adjustment_subtract")}],d=Se({product_id:void 0});return{url:l,addEditUrl:e,hashableColumns:c,initData:h,columns:y,adjustmentTypes:u,filters:d}},_g=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],emits:["addEditSuccess","closed"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,ProductAddButton:qa,ProductSearchInput:$t},setup(e,{emit:l}){const{permsArray:c,selectedWarehouse:n}=J(),{addEditRequestAdmin:h,loading:y,rules:u}=ve(),{adjustmentTypes:d}=So(),m=T("-");return{loading:y,rules:u,onClose:()=>{u.value={},l("closed")},onSubmit:()=>{h({url:e.url,data:e.formData,successMessage:e.successMessage,success:g=>{l("addEditSuccess",g.xid)}})},adjustmentTypes:d,stockValue:m,getStockValue:()=>{e.formData.product_id!=""?axiosAdmin.post("product-warehouse-stock",{warehouse_id:n.value.id,product_id:e.formData.product_id}).then(g=>{m.value=g.data.stock}):m.value="-"},permsArray:c}}}),fg={style:{display:"flex"}};function gg(e,l,c,n,h,y){const u=o("ProductSearchInput"),d=o("ProductAddButton"),m=o("a-form-item"),p=o("a-col"),_=o("a-row"),f=o("a-input-number"),g=o("a-select-option"),b=o("a-select"),v=o("a-textarea"),k=o("a-form"),$=o("SaveOutlined"),A=o("a-button"),O=o("a-modal");return r(),C(O,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(A,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t($)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(A,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(k,{layout:"vertical"},{default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("product.product"),name:"orderSearchTerm",help:e.rules.product_id?e.rules.product_id.message:null,validateStatus:e.rules.product_id?"error":null,class:"required"},{default:a(()=>[w("span",fg,[t(u,{onValueChanged:l[0]||(l[0]=F=>e.formData.product_id=F),onValueSuccess:e.getStockValue,productData:e.data},null,8,["onValueSuccess","productData"]),t(d)])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(m,{label:e.$t("stock_adjustment.current_stock")},{default:a(()=>[i(s(e.stockValue),1)]),_:1},8,["label"])]),_:1}),t(p,{xs:24,sm:24,md:9,lg:9},{default:a(()=>[t(m,{label:e.$t("stock_adjustment.quantity"),name:"quantity",help:e.rules.quantity?e.rules.quantity.message:null,validateStatus:e.rules.quantity?"error":null,class:"required"},{default:a(()=>[t(f,{value:e.formData.quantity,"onUpdate:value":l[1]||(l[1]=F=>e.formData.quantity=F),placeholder:e.$t("common.placeholder_default_text",[e.$t("stock_adjustment.quantity")]),min:1},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:9,lg:9},{default:a(()=>[t(m,{label:e.$t("stock_adjustment.adjustment_type"),name:"adjustment_type",help:e.rules.adjustment_type?e.rules.adjustment_type.message:null,validateStatus:e.rules.adjustment_type?"error":null},{default:a(()=>[t(b,{value:e.formData.adjustment_type,"onUpdate:value":l[2]||(l[2]=F=>e.formData.adjustment_type=F),placeholder:e.$t("common.select_default_text",[e.$t("stock_adjustment.adjustment_type")])},{default:a(()=>[(r(!0),S(I,null,Q(e.adjustmentTypes,F=>(r(),C(g,{key:F.key,value:F.key},{default:a(()=>[i(s(F.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,{label:e.$t("stock_adjustment.notes"),name:"notes",help:e.rules.notes?e.rules.notes.message:null,validateStatus:e.rules.notes?"error":null},{default:a(()=>[t(v,{value:e.formData.notes,"onUpdate:value":l[3]||(l[3]=F=>e.formData.notes=F),placeholder:e.$t("stock_adjustment.notes")},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const yg=W(_g,[["render",gg]]),hg={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:yg,ProductSearchInput:$t,AdminPageHeader:ge},setup(){const{url:e,addEditUrl:l,hashableColumns:c,initData:n,columns:h,filters:y}=So(),u=Ke(),{permsArray:d,selectedWarehouse:m}=J();x(()=>{u.crudUrl.value=l,u.langKey.value="stock_adjustment",u.initData.value={...n},u.formData.value={...n},u.hashableColumns.value=[...c],p()});const p=()=>{u.tableUrl.value={url:e,filters:y},u.fetch({page:1})};return me(m,(_,f)=>{p()}),{columns:h,permsArray:d,...u,filters:y,reFetchDatatable:p}}},bg={class:"table-responsive"};function vg(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("DeleteOutlined"),v=o("a-space"),k=o("a-col"),$=o("ProductSearchInput"),A=o("a-row"),O=o("admin-page-filters"),F=o("AddEdit"),P=o("a-avatar"),E=o("a-badge"),U=o("a-typography-text"),R=o("EditOutlined"),L=o("a-table"),K=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.stock_adjustment"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.stock_adjustment")),1)]),_:1})]),_:1})]),_:1}),t(O,null,{default:a(()=>[t(A,{gutter:[16,16]},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[n.permsArray.includes("stock_adjustments_create")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(f),i(" "+s(e.$t("stock_adjustment.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("stock_adjustments_delete")||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(A,{gutter:[16,16],justify:"end"},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:12,xl:6},{default:a(()=>[t($,{onValueChanged:l[0]||(l[0]=V=>{n.filters.product_id=V,n.reFetchDatatable()})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(K,null,{default:a(()=>[t(F,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(A,null,{default:a(()=>[t(k,{span:24},{default:a(()=>[w("div",bg,[t(L,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:V=>({disabled:!1,name:V.xid})},columns:n.columns,"row-key":V=>V.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:V,record:q})=>[V.dataIndex==="product_id"?(r(),C(E,{key:0},{default:a(()=>[t(P,{shape:"square",src:q.product.image_url},null,8,["src"]),i(" "+s(q.product.name),1)]),_:2},1024)):D("",!0),V.dataIndex==="quantity"?(r(),S(I,{key:1},[q.adjustment_type=="add"?(r(),C(U,{key:0,type:"success",strong:""},{default:a(()=>[i(" +"+s(q.quantity),1)]),_:2},1024)):(r(),C(U,{key:1,type:"danger",strong:""},{default:a(()=>[i(" -"+s(q.quantity),1)]),_:2},1024))],64)):D("",!0),V.dataIndex==="action"?(r(),S(I,{key:2},[n.permsArray.includes("stock_adjustments_edit")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:B=>e.editItem(q),style:{"margin-left":"4px"}},{icon:a(()=>[t(R)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("stock_adjustments_delete")||n.permsArray.includes("admin")?(r(),C(g,{key:1,type:"primary",onClick:B=>e.showDeleteConfirm(q.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const kg=W(hg,[["render",vg]]),$o=()=>{const{t:e}=te(),l=Ge(),c=["payment_mode_id","user_id"],{dayjs:n}=J(),h=T(l.meta.paymentType),y=T(l.meta.menuParent),u=T(`payment-${h.value}`),d=T({payment_type:h.value,date:n().format("YYYY-MM-DD"),amount:"",payment_mode_id:void 0,user_id:void 0,notes:""}),m=[{title:e("payments.date"),dataIndex:"date"},{title:e("payments.transaction_number"),dataIndex:"payment_number"},{title:e("payments.user"),dataIndex:"user_id"},{title:e("payments.amount"),dataIndex:"amount"},{title:e("common.action"),dataIndex:"action"}],p=[{key:"payment_number",value:e("payments.transaction_number")}],_=[{title:e("stock.invoice_number"),dataIndex:"invoice_number"},{title:e("common.date"),dataIndex:"date"},{title:e("payments.invoice_amount"),dataIndex:"amount"},{title:e("common.action"),dataIndex:"action"}];return{addEditUrl:u,initData:d,columns:m,filterableColumns:p,hashableColumns:c,settleInvoiceColumns:_,paymentType:h,menuParent:y}},wg=Z({props:["userId","amount"],setup(e,{emit:l}){const{settleInvoiceColumns:c,paymentType:n}=$o(),{addEditRequestAdmin:h,loading:y,rules:u}=ve(),{formatDate:d,disabledDate:m,appSetting:p,formatAmountCurrency:_}=J(),f=T([]),g=T(0),b=T(0);x(()=>{k()});const v=()=>{h({url:e.url,data:e.formData,successMessage:e.successMessage,success:O=>{l("addEditSuccess",O.xid)}})},k=()=>{axiosAdmin.post("user-invoices",{user_id:e.userId,payment_type:n.value}).then(O=>{const F=O.data.invoices;var P=e.amount,E=0;we(F,U=>{U.due_amount<=P?(U.paying_amount=U.due_amount,P=parseFloat(P)-parseFloat(U.due_amount),E=parseFloat(E)+parseFloat(U.due_amount)):U.due_amount>P&&(U.paying_amount=P,E=parseFloat(E)+parseFloat(P),P=0)}),g.value=E,b.value=parseFloat(e.amount)-parseFloat(E),f.value=F})},$=O=>{const F=f.value;var P=0;we(F,U=>{P+=parseFloat(U.paying_amount)}),O.paying_amount>O.due_amount?O.paying_amount=O.due_amount:P>e.amount&&(O.paying_amount=parseFloat(e.amount)-(P-parseFloat(O.paying_amount))),O.paying_amount||(O.paying_amount=0);var E=0;we(F,U=>{E+=parseFloat(U.paying_amount)}),g.value=E,b.value=parseFloat(e.amount)-parseFloat(E)},A=()=>{u.value={},l("closed")};return me(e,(O,F)=>{k()}),{loading:y,rules:u,onClose:A,onSubmit:v,invoices:f,settleInvoiceColumns:c,setteledAmount:g,unUsedAmount:b,inputValueChanged:$,appSetting:p,formatDate:d,disabledDate:m,formatAmountCurrency:_}}}),Cg={class:"table-responsive"},Sg=w("br",null,null,-1),$g=w("br",null,null,-1);function Ag(e,l,c,n,h,y){const u=o("a-typography-text"),d=o("a-input-number"),m=o("a-table-summary-cell"),p=o("a-table-summary-row"),_=o("a-table-summary"),f=o("a-table"),g=o("a-col"),b=o("a-row");return r(),C(b,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",Cg,[t(f,{columns:e.settleInvoiceColumns,"row-key":v=>v.xid,"data-source":e.invoices,pagination:!1},{bodyCell:a(({column:v,record:k})=>[v.dataIndex==="date"?(r(),S(I,{key:0},[i(s(e.formatDate(k.order_date)),1)],64)):D("",!0),v.dataIndex==="amount"?(r(),S(I,{key:1},[i(s(e.formatAmountCurrency(k.total))+" ",1),Sg,w("small",null,[t(u,{type:"danger"},{default:a(()=>[i(" ("+s(e.$t("common.pending"))+": "+s(e.formatAmountCurrency(k.due_amount))+") ",1)]),_:2},1024)])],64)):D("",!0),v.dataIndex==="action"?(r(),C(d,{key:2,addonBefore:e.appSetting.currency.symbol,value:k.paying_amount,"onUpdate:value":$=>k.paying_amount=$,placeholder:"0",min:0,onBlur:$=>e.inputValueChanged(k)},null,8,["addonBefore","value","onUpdate:value","onBlur"])):D("",!0)]),summary:a(()=>[t(_,{fixed:""},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{"col-span":3},{default:a(()=>[t(u,{strong:""},{default:a(()=>[i(s(e.$t("payments.unused_amount"))+" : ",1)]),_:1}),i(" "+s(e.formatAmountCurrency(e.unUsedAmount?e.unUsedAmount:0)),1)]),_:1}),t(m,{"col-span":2},{default:a(()=>[i(s(e.formatAmountCurrency(e.setteledAmount?e.setteledAmount:0)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["columns","row-key","data-source"]),$g])]),_:1})]),_:1})}const Dg=W(wg,[["render",Ag]]),Tg=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,UserInfo:He,PaymentModeAddButton:xn,SettleInvoices:Dg,DateTimePicker:na},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{disabledDate:y,appSetting:u,formatAmountCurrency:d,dayjs:m}=J(),p=T([]),_=T([]),f="customer-suppliers",g="payment-modes?limit=10000",b=T(null),v=T({});x(()=>{const O=axiosAdmin.post(f),F=axiosAdmin.get(g);Promise.all([O,F]).then(([P,E])=>{_.value=P.data,p.value=E.data})});const k=()=>{const O=[];e.addEditType=="add"&&b.value&&b.value.invoices&&we(b.value.invoices,F=>{O.push({order_id:F.xid,amount:F.paying_amount})}),c({url:e.url,data:{...v.value,invoices:O},successMessage:e.successMessage,success:F=>{l("addEditSuccess",F.xid)}})},$=()=>{axiosAdmin.get("payment-modes?limit=10000").then(O=>{p.value=O.data})},A=()=>{h.value={},l("closed")};return me(()=>e.visible,(O,F)=>{O&&(e.addEditType=="add"?v.value={...e.formData,date:m().utc().format("YYYY-MM-DDTHH:mm:ssZ")}:v.value={...e.formData})}),{loading:n,rules:h,onClose:A,onSubmit:k,users:_,paymentModes:p,paymentModeAdded:$,settleInvoiceRef:b,appSetting:u,disabledDate:y,formatAmountCurrency:d,drawerWidth:window.innerWidth<=991?"90%":"45%",newFormData:v}}}),Eg={style:{display:"flex"}},Og={key:1},Ig={key:2};function Pg(e,l,c,n,h,y){const u=o("UserInfo"),d=o("a-select-option"),m=o("a-select"),p=o("a-form-item"),_=o("a-col"),f=o("a-row"),g=o("a-input"),b=o("DateTimePicker"),v=o("PaymentModeAddButton"),k=o("a-textarea"),$=o("a-divider"),A=o("a-typography-paragraph"),O=o("SettleInvoices"),F=o("a-form"),P=o("SaveOutlined"),E=o("a-button"),U=o("a-space"),R=o("a-drawer");return r(),C(R,{title:e.pageTitle,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},maskClosable:!1,onClose:e.onClose},{footer:a(()=>[t(U,null,{default:a(()=>[t(E,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(P)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(E,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),_:1})]),default:a(()=>[t(F,{layout:"vertical"},{default:a(()=>[t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(p,{label:e.$t("payments.user"),name:"user_id",help:e.rules.user_id?e.rules.user_id.message:null,validateStatus:e.rules.user_id?"error":null,class:"required"},{default:a(()=>[t(m,{value:e.newFormData.user_id,"onUpdate:value":l[0]||(l[0]=L=>e.newFormData.user_id=L),placeholder:e.$t("common.select_default_text",[e.$t("payments.user")]),allowClear:!0,"option-label-prop":"label",optionFilterProp:"label","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(e.users,L=>(r(),C(d,{key:L.xid,value:L.xid,label:L.name},{default:a(()=>[t(u,{user:L,size:"small"},null,8,["user"])]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),e.addEditType=="add"?(r(),C(f,{key:0,gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(p,{label:e.$t("payments.amount"),name:"amount",help:e.rules.amount?e.rules.amount.message:null,validateStatus:e.rules.amount?"error":null,class:"required"},{default:a(()=>[t(g,{prefix:e.appSetting.currency.symbol,value:e.newFormData.amount,"onUpdate:value":l[1]||(l[1]=L=>e.newFormData.amount=L),placeholder:e.$t("common.placeholder_default_text",[e.$t("payments.amount")])},null,8,["prefix","value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("payments.date"),name:"date",help:e.rules.date?e.rules.date.message:null,validateStatus:e.rules.date?"error":null,class:"required"},{default:a(()=>[t(b,{dateTime:e.newFormData.date,onDateTimeChanged:l[2]||(l[2]=L=>e.newFormData.date=L)},null,8,["dateTime"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("payments.payment_mode"),name:"payment_mode_id",help:e.rules.payment_mode_id?e.rules.payment_mode_id.message:null,validateStatus:e.rules.payment_mode_id?"error":null,class:"required"},{default:a(()=>[w("span",Eg,[t(m,{value:e.newFormData.payment_mode_id,"onUpdate:value":l[3]||(l[3]=L=>e.newFormData.payment_mode_id=L),placeholder:e.$t("common.select_default_text",[e.$t("payments.payment_mode")]),allowClear:!0},{default:a(()=>[(r(!0),S(I,null,Q(e.paymentModes,L=>(r(),C(d,{key:L.xid,value:L.xid},{default:a(()=>[i(s(L.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"]),t(v,{onOnAddSuccess:e.paymentModeAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(p,{label:e.$t("payments.notes"),name:"notes",help:e.rules.notes?e.rules.notes.message:null,validateStatus:e.rules.notes?"error":null},{default:a(()=>[t(k,{value:e.newFormData.notes,"onUpdate:value":l[4]||(l[4]=L=>e.newFormData.notes=L),placeholder:e.$t("common.placeholder_default_text",[e.$t("payments.notes")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t($,{class:"mt-0"}),e.addEditType=="add"?(r(),S("div",Og,[t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(p,null,{default:a(()=>[t(A,{type:"warning",strong:""},{default:a(()=>[w("blockquote",null,s(e.$t("payments.settle_invoice_using_payment")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e.newFormData.user_id?(r(),C(O,{key:0,ref:"settleInvoiceRef",userId:e.newFormData.user_id,amount:e.newFormData.amount},null,8,["userId","amount"])):D("",!0)])):(r(),S("div",Ig))]),_:1})]),_:1},8,["title","width","open","onClose"])}const Ug=W(Tg,[["render",Pg]]),Fg={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:Ug,AdminPageHeader:ge,UserInfo:He},setup(){const{addEditUrl:e,initData:l,columns:c,paymentType:n,menuParent:h,hashableColumns:y,filterableColumns:u}=$o(),d=Ke(),{permsArray:m,formatAmountCurrency:p,selectedWarehouse:_,formatDate:f}=J(),g=Se({user_id:void 0}),b=T({}),v=Ge();x(()=>{$(),k()});const k=()=>{d.tableUrl.value={url:`payment-${n.value}?fields=id,xid,date,amount,notes,payment_mode_id,payment_number,payment_type,payment_mode_id,x_payment_mode_id,paymentMode{id,xid,name},user_id,x_user_id,user{id,xid,name,profile_image,profile_image_url,user_type}`,filterString:`payment_type eq "${n.value}"`,filters:g},d.table.filterableColumns=u,d.fetch({page:1}),d.crudUrl.value=e.value,d.langKey.value="payments",d.initData.value={...l.value},d.formData.value={...l.value},d.hashableColumns.value=[...y]},$=()=>{const A=axiosAdmin.post("customer-suppliers");Promise.all([A]).then(([O])=>{b.value=O.data})};return me(_,(A,O)=>{k()}),me(()=>v.meta.paymentType,(A,O)=>{}),{columns:c,...d,permsArray:m,formatAmountCurrency:p,paymentType:n,menuParent:h,filters:g,users:b,setUrlData:k,filterableColumns:u,formatDate:f}}},qg={class:"table-responsive"};function Mg(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("DeleteOutlined"),v=o("a-space"),k=o("a-col"),$=o("a-select-option"),A=o("a-select"),O=o("a-input-search"),F=o("a-input-group"),P=o("a-row"),E=o("admin-page-filters"),U=o("AddEdit"),R=o("UserInfo"),L=o("EditOutlined"),K=o("a-table"),V=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t(`menu.payment_${n.paymentType}`),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t(`menu.${n.menuParent}`)),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t(`menu.payment_${n.paymentType}`)),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(P,{gutter:[16,16]},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[n.permsArray.includes(n.paymentType=="in"?"payment_in_create":"payment_out_create")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(f),i(" "+s(e.$t("payments.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes(n.paymentType=="in"?"payment_in_delete":"payment_out_delete")||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(P,{gutter:[16,16],justify:"end"},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:6,xl:8},{default:a(()=>[t(F,{compact:""},{default:a(()=>[t(A,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=q=>e.table.searchColumn=q),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,q=>(r(),C($,{key:q.key},{default:a(()=>[i(s(q.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(O,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=q=>e.table.searchString=q),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(A,{value:n.filters.user_id,"onUpdate:value":l[2]||(l[2]=q=>n.filters.user_id=q),placeholder:e.$t("common.select_default_text",[e.$t("user.user")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":"",onChange:n.setUrlData},{default:a(()=>[(r(!0),S(I,null,Q(n.users,q=>(r(),C($,{key:q.xid,title:q.name,value:q.xid},{default:a(()=>[i(s(q.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(U,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(P,null,{default:a(()=>[t(k,{span:24},{default:a(()=>[w("div",qg,[t(K,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:q=>({disabled:!1,name:q.xid})},columns:n.columns,"row-key":q=>q.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:q,record:B})=>[q.dataIndex==="date"?(r(),S(I,{key:0},[i(s(n.formatDate(B.date)),1)],64)):D("",!0),q.dataIndex==="user_id"?(r(),C(R,{key:1,user:B.user},null,8,["user"])):D("",!0),q.dataIndex==="amount"?(r(),S(I,{key:2},[i(s(n.formatAmountCurrency(B.amount)),1)],64)):D("",!0),q.dataIndex==="action"?(r(),S(I,{key:3},[n.permsArray.includes(n.paymentType=="in"?"payment_in_edit":"payment_out_edit")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:Y=>e.editItem(B),style:{"margin-left":"4px"}},{icon:a(()=>[t(L)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes(n.paymentType=="in"?"payment_in_delete":"payment_out_delete")||n.permsArray.includes("admin")?(r(),C(g,{key:1,type:"primary",onClick:Y=>e.showDeleteConfirm(B.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const Ya=W(Fg,[["render",Mg]]),Rg=Z({setup(){return{appEnv:window.config.app_env}}}),Kg={key:0},Vg=w("a",{href:"https://1.envato.market/5bBAWb",target:"_blank"}," Buy Now From here ",-1);function zg(e,l,c,n,h,y){const u=o("a-alert");return e.appEnv!="envato"?(r(),S("div",Kg,[t(u,{message:"Online Store is in beta version",type:"warning","show-icon":"",class:"mb-20"},{description:a(()=>[i(" This feature is in testing mode and right now not available in the script. But it will be available in upcoming release. Purchase the script before price hike up to $59 "),Vg]),_:1})])):D("",!0)}const Lg=W(Rg,[["render",zg]]),Bg={components:{PlusOutlined:ne,OrderTable:Yt,DateRangePicker:tt,AdminPageHeader:ge,InBetaMode:Lg},setup(){const{formatAmountCurrency:e,orderType:l,orderPageObject:c,orderStatus:n,permsArray:h,selectedWarehouse:y}=J(),u=Re(),d=T(""),m=T([]),p=T(null),_=T({payment_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",searchString:""});x(()=>{f();const g=axiosAdmin.get(c.value.userType);Promise.all([g]).then(([b])=>{m.value=b.data})});const f=()=>{const g=u.resolve({name:"front.homepage",params:{warehouse:y.value.slug}});d.value=window.config.path+g.href};return me(y,(g,b)=>{f(),_.value={order_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",searchString:""},p.value.resetPicker()}),{orderPageObject:c,permsArray:h,orderStatus:n,formatAmountCurrency:e,users:m,filters:_,orderType:l,serachDateRangePicker:p,selectedWarehouse:y,storeUrl:d}}};function Wg(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("a-typography-text"),g=o("a-col"),b=o("a-input"),v=o("a-button"),k=o("a-input-group"),$=o("a-row"),A=o("a-input-search"),O=o("a-select-option"),F=o("a-select"),P=o("DateRangePicker"),E=o("admin-page-filters"),U=o("a-tab-pane"),R=o("a-tabs"),L=o("OrderTable"),K=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.online_orders"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.stock_management")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.online_orders")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t($,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t($,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(f,{type:"warning",strong:"",style:{fontSize:"18px"}},{default:a(()=>[i(s(e.$t("online_orders.online_store_url")),1)]),_:1})]),_:1}),t(g,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[t(k,{compact:""},{default:a(()=>[t(b,{value:n.storeUrl,"onUpdate:value":l[0]||(l[0]=V=>n.storeUrl=V),style:{width:"calc(100% - 100px)"}},null,8,["value"]),t(d,{to:{name:"front.homepage",params:{warehouse:n.selectedWarehouse.slug}},target:"_blank"},{default:a(()=>[t(v,{type:"primary"},{default:a(()=>[i(s(e.$t("common.view")),1)]),_:1})]),_:1},8,["to"])]),_:1})]),_:1})]),_:1})]),_:1}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t($,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(A,{style:{width:"100%"},value:n.filters.searchString,"onUpdate:value":l[1]||(l[1]=V=>n.filters.searchString=V),"show-search":"",placeholder:e.$t("common.placeholder_search_text",[e.$t("stock.invoice_number")])},null,8,["value","placeholder"])]),_:1}),t(g,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(F,{value:n.filters.user_id,"onUpdate:value":l[2]||(l[2]=V=>n.filters.user_id=V),placeholder:e.$t("common.select_default_text",[e.$t(`${n.orderPageObject.langKey}.user`)]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.users,V=>(r(),C(O,{key:V.xid,title:V.name,value:V.xid},{default:a(()=>[i(s(V.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1}),t(g,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(P,{ref:"serachDateRangePicker",onDateTimeChanged:l[3]||(l[3]=V=>n.filters.dates=V)},null,512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(K,null,{default:a(()=>[t($,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[t(R,{activeKey:n.filters.order_status,"onUpdate:activeKey":l[4]||(l[4]=V=>n.filters.order_status=V)},{default:a(()=>[t(U,{key:"all",tab:`${e.$t("common.all")} ${e.$t("menu.online_orders")}`},null,8,["tab"]),t(U,{key:"pending",tab:e.$t("common.pending")},null,8,["tab"]),t(U,{key:"delivered",tab:e.$t("common.delivered")},null,8,["tab"]),t(U,{key:"cancelled",tab:e.$t("common.cancelled")},null,8,["tab"])]),_:1},8,["activeKey"])]),_:1})]),_:1}),t(L,{orderType:n.orderType,filters:n.filters,tableSize:"middle",bordered:!0,selectable:!0},null,8,["orderType","filters"])]),_:1})],64)}const jg=W(Bg,[["render",Wg]]),Hg={components:{PlusOutlined:ne,DeleteOutlined:fe,OrderTable:Yt,DateRangePicker:tt,AdminPageHeader:ge},setup(){const{formatAmountCurrency:e,orderType:l,orderPageObject:c,orderStatus:n,permsArray:h,selectedWarehouse:y}=J();Re();const u=T([]),d=T(null),m=T([]),p=T(null),_=T({payment_status:"all",warehouse_id:void 0,dates:[],searchColumn:"invoice_number",transfer_type:"transfered",searchString:""});return x(()=>{const f=`warehouses?filters=id ne "${y.value.xid}"&hashable=${y.value.xid}&limit=10000`,g=axiosAdmin.get(f);Promise.all([g]).then(([b])=>{u.value=b.data})}),me(y,(f,g)=>{_.value={order_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",transfer_type:"transfered",searchString:""},d.value.resetPicker()}),{orderPageObject:c,permsArray:h,orderStatus:n,formatAmountCurrency:e,warehouses:u,filters:_,orderType:l,serachDateRangePicker:d,selectedRowIds:m,orderTableRef:p}}};function Ng(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("DeleteOutlined"),v=o("a-space"),k=o("a-col"),$=o("a-input-search"),A=o("a-select-option"),O=o("a-select"),F=o("DateRangePicker"),P=o("a-row"),E=o("admin-page-filters"),U=o("a-tab-pane"),R=o("a-tabs"),L=o("OrderTable"),K=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.stock_transfer"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.stock_transfer")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(P,{gutter:[16,16]},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[(n.permsArray.includes("stock_transfers_create")||n.permsArray.includes("admin"))&&n.filters.transfer_type=="transfered"?(r(),C(d,{key:0,to:{name:"admin.stock.stock-transfers.create"}},{default:a(()=>[t(g,{type:"primary"},{default:a(()=>[t(f),i(" "+s(e.$t("stock_transfer.add")),1)]),_:1})]),_:1},8,["to"])):D("",!0),n.selectedRowIds.length>0&&(n.permsArray.includes("stock_transfers_delete")||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:n.orderTableRef.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(P,{gutter:[16,16],justify:"end"},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t($,{style:{width:"100%"},value:n.filters.searchString,"onUpdate:value":l[0]||(l[0]=V=>n.filters.searchString=V),"show-search":"",placeholder:e.$t("common.placeholder_search_text",[e.$t("stock.invoice_number")])},null,8,["value","placeholder"])]),_:1}),n.filters.transfer_type=="transfered"?(r(),C(k,{key:0,xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(O,{value:n.filters.warehouse_id,"onUpdate:value":l[1]||(l[1]=V=>n.filters.warehouse_id=V),placeholder:e.$t("common.select_default_text",[e.$t("warehouse.warehouse")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.warehouses,V=>(r(),C(A,{key:V.xid,title:V.name,value:V.xid},{default:a(()=>[i(s(V.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1})):D("",!0),t(k,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(F,{ref:"serachDateRangePicker",onDateTimeChanged:l[2]||(l[2]=V=>n.filters.dates=V)},null,512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(K,null,{default:a(()=>[t(P,null,{default:a(()=>[t(k,{span:24},{default:a(()=>[t(R,{activeKey:n.filters.transfer_type,"onUpdate:activeKey":l[3]||(l[3]=V=>n.filters.transfer_type=V)},{default:a(()=>[t(U,{key:"transfered",tab:e.$t("stock_transfer.transfered")},null,8,["tab"]),t(U,{key:"received",tab:e.$t("stock_transfer.received")},null,8,["tab"])]),_:1},8,["activeKey"])]),_:1})]),_:1}),t(L,{ref:"orderTableRef",orderType:n.orderType,filters:n.filters,tableSize:"middle",bordered:!0,selectable:!0,onOnRowSelection:l[4]||(l[4]=V=>n.selectedRowIds=V)},null,8,["orderType","filters"])]),_:1})],64)}const Yg=W(Hg,[["render",Ng]]),Gg=[{path:"/admin/stock/pos",component:mg,name:"admin.pos.index",meta:{requireAuth:!0,menuParent:"pos",menuKey:"pos",permission:"pos_view"}},{path:"/admin/stock/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"adjustments",component:kg,name:"admin.stock_adjustments.index",meta:{requireAuth:!0,menuParent:"stock_adjustment",menuKey:"stock_adjustment",permission:"stock_adjustments_view"}},{path:"purchases/edit/:id",component:Dt,name:"admin.stock.purchases.edit",meta:{requireAuth:!0,menuParent:"purchases",menuKey:e=>"purchases",permission:e=>"purchases_edit",orderType:"purchases"}},{path:"purchases/create",component:At,name:"admin.stock.purchases.create",meta:{requireAuth:!0,menuParent:"purchases",menuKey:e=>"purchases",permission:e=>"purchases_create",orderType:"purchases"}},{path:"purchases",component:zt,name:"admin.stock.purchases.index",meta:{requireAuth:!0,menuParent:"purchases",menuKey:e=>"purchases",permission:e=>"purchases_view",orderType:"purchases"}},{path:"purchase-returns/edit/:id",component:Dt,name:"admin.stock.purchase-returns.edit",meta:{requireAuth:!0,menuParent:"purchases",menuKey:e=>"purchase_returns",permission:e=>"purchase_returns_edit",orderType:"purchase-returns"}},{path:"purchase-returns/create",component:At,name:"admin.stock.purchase-returns.create",meta:{requireAuth:!0,menuParent:"purchases",menuKey:e=>"purchase_returns",permission:e=>"purchase_returns_create",orderType:"purchase-returns"}},{path:"purchase-returns",component:zt,name:"admin.stock.purchase-returns.index",meta:{requireAuth:!0,menuParent:"purchases",menuKey:e=>"purchase_returns",permission:e=>"purchase_returns_view",orderType:"purchase-returns"}},{path:"sales/edit/:id",component:Dt,name:"admin.stock.sales.edit",meta:{requireAuth:!0,menuParent:"sales",menuKey:e=>"sales",permission:e=>"sales_edit",orderType:"sales"}},{path:"sales/create",component:At,name:"admin.stock.sales.create",meta:{requireAuth:!0,menuParent:"sales",menuKey:e=>"sales",permission:e=>"sales_create",orderType:"sales"}},{path:"sales",component:zt,name:"admin.stock.sales.index",meta:{requireAuth:!0,menuParent:"sales",menuKey:e=>"sales",permission:e=>"sales_view",orderType:"sales"}},{path:"sales-returns/edit/:id",component:Dt,name:"admin.stock.sales-returns.edit",meta:{requireAuth:!0,menuParent:"sales",menuKey:e=>"sales_returns",permission:e=>"sales_returns_edit",orderType:"sales-returns"}},{path:"sales-returns/create",component:At,name:"admin.stock.sales-returns.create",meta:{requireAuth:!0,menuParent:"sales",menuKey:e=>"sales_returns",permission:e=>"sales_returns_create",orderType:"sales-returns"}},{path:"sales-returns",component:zt,name:"admin.stock.sales-returns.index",meta:{requireAuth:!0,menuParent:"sales",menuKey:e=>"sales_returns",permission:e=>"sales_returns_view",orderType:"sales-returns"}},{path:"quotations/edit/:id",component:Dt,name:"admin.stock.quotations.edit",meta:{requireAuth:!0,menuParent:"sales",menuKey:e=>"quotations",permission:e=>"quotations_edit",orderType:"quotations"}},{path:"quotations/create",component:At,name:"admin.stock.quotations.create",meta:{requireAuth:!0,menuParent:"sales",menuKey:e=>"quotations",permission:e=>"quotations_create",orderType:"quotations"}},{path:"quotations",component:zt,name:"admin.stock.quotations.index",meta:{requireAuth:!0,menuParent:"sales",menuKey:e=>"quotations",permission:e=>"quotations_view",orderType:"quotations"}},{path:"online-orders",component:jg,name:"admin.online_orders.index",meta:{requireAuth:!0,menuParent:"online_orders",menuKey:"online_orders",orderType:"online-orders"}},{path:"stock-transfers/edit/:id",component:Dt,name:"admin.stock.stock-transfers.edit",meta:{requireAuth:!0,menuParent:"stock_transfer",menuKey:e=>"stock_transfer",permission:e=>"stock_transfers_edit",orderType:"stock-transfers"}},{path:"stock-transfers/create",component:At,name:"admin.stock.stock-transfers.create",meta:{requireAuth:!0,menuParent:"stock_transfer",menuKey:e=>"stock_transfer",permission:e=>"stock_transfers_create",orderType:"stock-transfers"}},{path:"stock-transfers",component:Yg,name:"admin.stock.stock-transfers.index",meta:{requireAuth:!0,menuParent:"stock_transfer",menuKey:e=>"stock_transfer",permission:e=>"stock_transfers_view",orderType:"stock-transfers"}}]},{path:"/admin/payment/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"in",component:Ya,name:"admin.payments.in",meta:{requireAuth:!0,menuParent:"sales",menuKey:"payment_in",permission:"payment_in_view",paymentType:"in"}},{path:"out",component:Ya,name:"admin.payments.out",meta:{requireAuth:!0,menuParent:"purchases",menuKey:"payment_out",permission:"payment_out_view",paymentType:"out"}}]}],Ao=()=>{const e="expense-categories",{t:l}=te(),c={name:"",description:""},n=[{title:l("expense_category.name"),dataIndex:"name"},{title:l("expense_category.description"),dataIndex:"description"},{title:l("common.action"),dataIndex:"action"}],h=[{key:"name",value:l("common.name")}];return{addEditUrl:e,initData:c,columns:n,filterableColumns:h}},Jg=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve();return{loading:n,rules:h,onClose:()=>{h.value={},l("closed")},onSubmit:()=>{c({url:e.url,data:e.formData,successMessage:e.successMessage,success:d=>{l("addEditSuccess",d.xid)}})},drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function Qg(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-textarea"),f=o("a-form"),g=o("SaveOutlined"),b=o("a-button"),v=o("a-modal");return r(),C(v,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(b,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(g)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(b,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(f,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("expense_category.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=k=>e.formData.name=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("expense_category.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("expense_category.description"),name:"description",help:e.rules.description?e.rules.description.message:null,validateStatus:e.rules.description?"error":null},{default:a(()=>[t(_,{value:e.formData.description,"onUpdate:value":l[1]||(l[1]=k=>e.formData.description=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("expense_category.description")]),rows:4},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const Do=W(Jg,[["render",Qg]]),Xg={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:Do,AdminPageHeader:ge},setup(){const{addEditUrl:e,initData:l,columns:c,filterableColumns:n}=Ao(),h=Ke(),{permsArray:y}=J();return x(()=>{h.tableUrl.value={url:"expense-categories?fields=id,xid,name,description"},h.table.filterableColumns=n,h.fetch({page:1}),h.crudUrl.value=e,h.langKey.value="expense_category",h.initData.value={...l},h.formData.value={...l}}),{columns:c,...h,filterableColumns:n,permsArray:y}}},Zg={class:"table-responsive"};function xg(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("DeleteOutlined"),v=o("a-space"),k=o("a-col"),$=o("a-select-option"),A=o("a-select"),O=o("a-input-search"),F=o("a-input-group"),P=o("a-row"),E=o("admin-page-filters"),U=o("AddEdit"),R=o("EditOutlined"),L=o("a-table"),K=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.expense_categories"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.expense_manager")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.expense_categories")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(P,{gutter:[16,16]},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[n.permsArray.includes("expense_categories_create")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(f),i(" "+s(e.$t("expense_category.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("expense_categories_delete")||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(P,{gutter:[16,16],justify:"end"},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:12,xl:10},{default:a(()=>[t(F,{compact:""},{default:a(()=>[t(A,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=V=>e.table.searchColumn=V),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,V=>(r(),C($,{key:V.key},{default:a(()=>[i(s(V.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(O,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=V=>e.table.searchString=V),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(K,null,{default:a(()=>[t(U,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(P,null,{default:a(()=>[t(k,{span:24},{default:a(()=>[w("div",Zg,[t(L,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:V=>({disabled:!1,name:V.xid})},columns:n.columns,"row-key":V=>V.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:V,record:q})=>[V.dataIndex==="action"?(r(),S(I,{key:0},[n.permsArray.includes("expense_categories_edit")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:B=>e.editItem(q),style:{"margin-left":"4px"}},{icon:a(()=>[t(R)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("expense_categories_delete")||n.permsArray.includes("admin")?(r(),C(g,{key:1,type:"primary",onClick:B=>e.showDeleteConfirm(q.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const ey=W(Xg,[["render",xg]]),ty=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:Do},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=Ao(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),ay={key:0};function ny(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("expense_categories_create")||e.permsArray.includes("admin")?(r(),S("div",ay,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"expense_categories"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("expense_category.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("expense_category.add"),successMessage:e.$t("expense_category.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const oy=W(ty,[["render",ny]]),ly=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:oa},setup(e,{emit:l}){const{permsArray:c}=J(),{staffMemberInitData:n,staffMemberAddEditUrl:h}=la(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,staffMemberAddEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),sy={key:0};function ry(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("users_create")||e.permsArray.includes("admin")?(r(),S("div",sy,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"staff_members"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("staff_member.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.staffMemberAddEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,addEditData:e.formData,data:e.formData,pageTitle:e.$t("staff_member.add"),successMessage:e.$t("staff_member.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","addEditData","data","pageTitle","successMessage"])])):D("",!0)}const dy=W(ly,[["render",ry]]);const iy=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,UserInfo:He,SaveOutlined:he,ExpenseCategoryAddButton:oy,StaffAddButton:dy,UploadFile:oo,DateTimePicker:na},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),y=T({}),u=T({}),{appSetting:d,disabledDate:m,permsArray:p,dayjs:_}=J(),f="expense-categories?limit=10000",g="users?limit=10000",b=T({});x(()=>{const O=axiosAdmin.get(f),F=axiosAdmin.get(g);Promise.all([O,F]).then(([P,E])=>{y.value=P.data,u.value=E.data})});const v=()=>{c({url:e.url,data:b.value,successMessage:e.successMessage,success:O=>{l("addEditSuccess",O.xid)}})},k=()=>{h.value={},l("closed")},$=()=>{axiosAdmin.get(f).then(O=>{y.value=O.data})},A=()=>{axiosAdmin.get(g).then(O=>{u.value=O.data})};return me(()=>e.visible,(O,F)=>{O&&(e.addEditType=="add"?b.value={...e.formData,date:_().utc().format("YYYY-MM-DDTHH:mm:ssZ")}:b.value={...e.formData})}),{loading:n,rules:h,onClose:k,onSubmit:v,disabledDate:m,permsArray:p,expenseCategories:y,staffMembers:u,drawerWidth:window.innerWidth<=991?"90%":"45%",appSetting:d,expenseCategoryAdded:$,staffMemberAdded:A,newFormData:b}}}),uy={style:{display:"flex"}},my={style:{display:"flex"}};function cy(e,l,c,n,h,y){const u=o("a-select-option"),d=o("a-select"),m=o("ExpenseCategoryAddButton"),p=o("a-form-item"),_=o("a-col"),f=o("UserInfo"),g=o("StaffAddButton"),b=o("a-row"),v=o("DateTimePicker"),k=o("a-input-number"),$=o("UploadFile"),A=o("a-textarea"),O=o("a-form"),F=o("SaveOutlined"),P=o("a-button"),E=o("a-drawer");return r(),C(E,{title:e.pageTitle,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},maskClosable:!1,onClose:e.onClose},{footer:a(()=>[t(P,{type:"primary",onClick:e.onSubmit,style:{"margin-right":"8px"},loading:e.loading},{icon:a(()=>[t(F)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["onClick","loading"]),t(P,{onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(O,{layout:"vertical"},{default:a(()=>[t(b,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:e.permsArray.includes("admin")?12:24,lg:e.permsArray.includes("admin")?12:24},{default:a(()=>[t(p,{label:e.$t("expense.expense_category"),name:"expense_category_id",help:e.rules.expense_category_id?e.rules.expense_category_id.message:null,validateStatus:e.rules.expense_category_id?"error":null,class:"required"},{default:a(()=>[w("span",uy,[t(d,{value:e.newFormData.expense_category_id,"onUpdate:value":l[0]||(l[0]=U=>e.newFormData.expense_category_id=U),placeholder:e.$t("common.select_default_text",[e.$t("expense.expense_category")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(e.expenseCategories,U=>(r(),C(u,{key:U.xid,value:U.xid,label:U.name},{default:a(()=>[i(s(U.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder"]),t(m,{onOnAddSuccess:e.expenseCategoryAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1},8,["md","lg"]),e.permsArray.includes("admin")?(r(),C(_,{key:0,xs:24,sm:24,md:e.permsArray.includes("admin")?12:24,lg:e.permsArray.includes("admin")?12:24},{default:a(()=>[t(p,{label:e.$t("expense.created_by_user"),name:"user_id",help:e.rules.user_id?e.rules.user_id.message:null,validateStatus:e.rules.user_id?"error":null},{default:a(()=>[w("span",my,[t(d,{value:e.newFormData.user_id,"onUpdate:value":l[1]||(l[1]=U=>e.newFormData.user_id=U),placeholder:e.$t("common.select_default_text",[e.$t("expense.user")]),allowClear:!0,"option-label-prop":"label",optionFilterProp:"label","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(e.staffMembers,U=>(r(),C(u,{key:U.xid,value:U.xid,label:U.name},{default:a(()=>[t(f,{user:U,size:"small"},null,8,["user"])]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder"]),t(g,{onOnAddSuccess:e.staffMemberAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1},8,["md","lg"])):D("",!0)]),_:1}),t(b,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("expense.date"),name:"date",help:e.rules.date?e.rules.date.message:null,validateStatus:e.rules.date?"error":null,class:"required"},{default:a(()=>[t(v,{dateTime:e.newFormData.date,onDateTimeChanged:l[2]||(l[2]=U=>e.newFormData.date=U)},null,8,["dateTime"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("expense.amount"),name:"amount",help:e.rules.amount?e.rules.amount.message:null,validateStatus:e.rules.amount?"error":null,class:"required"},{default:a(()=>[t(k,{value:e.newFormData.amount,"onUpdate:value":l[3]||(l[3]=U=>e.newFormData.amount=U),placeholder:e.$t("common.placeholder_default_text",[e.$t("expense.amount")]),min:"0",style:{width:"100%"}},{addonBefore:a(()=>[i(s(e.appSetting.currency.symbol),1)]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(b,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(p,{label:e.$t("expense.bill"),name:"bill",help:e.rules.bill?e.rules.bill.message:null,validateStatus:e.rules.bill?"error":null},{default:a(()=>[t($,{acceptFormat:"image/*,.pdf",formData:e.newFormData,folder:"expenses",uploadField:"bill",onOnFileUploaded:l[4]||(l[4]=U=>{e.newFormData.bill=U.file,e.newFormData.bill_url=U.file_url})},null,8,["acceptFormat","formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(b,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(p,{label:e.$t("expense.notes"),name:"notes",help:e.rules.notes?e.rules.notes.message:null,validateStatus:e.rules.notes?"error":null},{default:a(()=>[t(A,{value:e.newFormData.notes,"onUpdate:value":l[5]||(l[5]=U=>e.newFormData.notes=U),placeholder:e.$t("common.placeholder_default_text",[e.$t("expense.notes")]),rows:4},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","width","open","onClose"])}const py=W(iy,[["render",cy]]),_y=()=>{const{t:e}=te(),l="expenses",c=T("expenses?fields=id,xid,bill,bill_url,expense_category_id,x_expense_category_id,expenseCategory{id,xid,name},amount,user_id,x_user_id,user{id,xid,name},notes,date"),n=["user_id","expense_category_id"],h=Se({expenseCategories:[],staffMembers:[]}),y={expense_category_id:void 0,amount:"",bill:void 0,bill_url:void 0,date:void 0,user_id:void 0,notes:""},u=[{title:e("expense.expense_category"),dataIndex:"expense_category_id"},{title:e("expense.amount"),dataIndex:"amount"},{title:e("expense.date"),dataIndex:"date"},{title:e("expense.created_by_user"),dataIndex:"user_id"},{title:e("common.action"),dataIndex:"action"}],d=Se({expense_category_id:void 0,user_id:void 0});return{url:c,addEditUrl:l,initData:y,columns:u,filters:d,hashableColumns:n,preFetchData:h,getPreFetchData:()=>{const p=axiosAdmin.get("expense-categories?limit=10000"),_=axiosAdmin.get("users?limit=10000");Promise.all([p,_]).then(([f,g])=>{h.expenseCategories=f.data,h.staffMembers=g.data})}}},fy={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:py,AdminPageHeader:ge,DateRangePicker:tt},setup(){const{url:e,addEditUrl:l,initData:c,columns:n,filters:h,preFetchData:y,getPreFetchData:u,hashableColumns:d}=_y(),m=Ke(),{appSetting:p,permsArray:_,formatDate:f,selectedWarehouse:g,formatAmountCurrency:b}=J(),v=T({dates:[]});x(()=>{u(),m.crudUrl.value=l,m.langKey.value="expense",m.initData.value={...c},m.formData.value={...c},m.hashableColumns.value=[...d],k()});const k=()=>{m.tableUrl.value={url:e,filters:h,extraFilters:v},m.fetch({page:1})};return me(g,($,A)=>{k()}),{columns:n,appSetting:p,formatDate:f,...m,filters:h,extraFilters:v,preFetchData:y,reFetchDatatable:k,permsArray:_,formatAmountCurrency:b}}},gy={class:"table-responsive"};function yy(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("DeleteOutlined"),v=o("a-space"),k=o("a-col"),$=o("a-select-option"),A=o("a-select"),O=o("DateRangePicker"),F=o("a-row"),P=o("admin-page-filters"),E=o("AddEdit"),U=o("EditOutlined"),R=o("a-table"),L=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.expenses"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.expense_manager")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.expenses")),1)]),_:1})]),_:1})]),_:1}),t(P,null,{default:a(()=>[t(F,{gutter:[16,16]},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[n.permsArray.includes("expenses_create")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(f),i(" "+s(e.$t("expense.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("expenses_delete")||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(F,{gutter:[16,16],justify:"end"},{default:a(()=>[t(k,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(A,{value:n.filters.expense_category_id,"onUpdate:value":l[0]||(l[0]=K=>n.filters.expense_category_id=K),"show-search":"",style:{width:"100%"},placeholder:e.$t("common.select_default_text",[e.$t("expense.expense_category")]),onChange:n.reFetchDatatable,allowClear:!0,optionFilterProp:"label"},{default:a(()=>[(r(!0),S(I,null,Q(n.preFetchData.expenseCategories,K=>(r(),C($,{key:K.xid,value:K.xid,label:K.name},{default:a(()=>[i(s(K.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1}),t(k,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(A,{value:n.filters.user_id,"onUpdate:value":l[1]||(l[1]=K=>n.filters.user_id=K),"show-search":"",style:{width:"100%"},placeholder:e.$t("common.select_default_text",[e.$t("expense.user")]),onChange:n.reFetchDatatable,allowClear:!0,optionFilterProp:"label"},{default:a(()=>[(r(!0),S(I,null,Q(n.preFetchData.staffMembers,K=>(r(),C($,{key:K.xid,value:K.xid,label:K.name},{default:a(()=>[i(s(K.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1}),t(k,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(O,{onDateTimeChanged:l[2]||(l[2]=K=>{n.extraFilters.dates=K,n.reFetchDatatable()})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(L,null,{default:a(()=>[t(E,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(F,{class:"mt-20"},{default:a(()=>[t(k,{span:24},{default:a(()=>[w("div",gy,[t(R,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:K=>({disabled:!1,name:K.xid})},columns:n.columns,"row-key":K=>K.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:K,text:V,record:q})=>{var B;return[K.dataIndex==="expense_category_id"?(r(),S(I,{key:0},[i(s(q.expense_category.name),1)],64)):D("",!0),K.dataIndex==="user_id"?(r(),S(I,{key:1},[i(s((B=q.user)==null?void 0:B.name),1)],64)):D("",!0),K.dataIndex==="amount"?(r(),S(I,{key:2},[i(s(n.formatAmountCurrency(V)),1)],64)):D("",!0),K.dataIndex==="date"?(r(),S(I,{key:3},[i(s(n.formatDate(q.date)),1)],64)):D("",!0),K.dataIndex==="action"?(r(),S(I,{key:4},[n.permsArray.includes("expenses_edit")||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:Y=>e.editItem(q),style:{"margin-left":"4px"}},{icon:a(()=>[t(U)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("expenses_delete")||n.permsArray.includes("admin")?(r(),C(g,{key:1,type:"primary",onClick:Y=>e.showDeleteConfirm(q.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]}),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const hy=W(fy,[["render",yy]]),by=[{path:"/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"/admin/expense-categories",component:ey,name:"admin.expense_categories.index",meta:{requireAuth:!0,menuParent:"expense_manager",menuKey:e=>"expense_categories",permission:"expense_categories_view"}},{path:"/admin/expenses",component:hy,name:"admin.expenses.index",meta:{requireAuth:!0,menuParent:"expense_manager",menuKey:e=>"expenses",permission:"expenses_view"}}]}],vy=Z({props:["amount"],components:{ArrowDownOutlined:ya,ArrowUpOutlined:ga},setup(){const{formatAmountCurrency:e}=J();return{formatAmountCurrency:e}}}),ky={key:0};function wy(e,l,c,n,h,y){const u=o("ArrowUpOutlined"),d=o("a-typography-text"),m=o("a-tooltip"),p=o("ArrowDownOutlined");return e.amount<0?(r(),C(m,{key:0,title:e.$t("payments.you_will_pay")},{default:a(()=>[t(d,null,{default:a(()=>[t(u,{style:{color:"red"}}),i(" "+s(e.formatAmountCurrency(Math.abs(e.amount))),1)]),_:1})]),_:1},8,["title"])):(r(),C(m,{key:1,title:e.$t("payments.you_will_receive")},{default:a(()=>[t(d,null,{default:a(()=>[e.amount>0?(r(),S("span",ky,[t(p,{style:{color:"green"}})])):D("",!0),i(" "+s(e.formatAmountCurrency(e.amount)),1)]),_:1})]),_:1},8,["title"]))}const Ma=W(vy,[["render",wy]]),Cy=()=>{const{t:e}=te(),l=["user_id"],c=[{key:"name",value:e("user.name")}],n=[{title:e("payments.date"),dataIndex:"date"},{title:e("payments.transaction_number"),dataIndex:"transaction_number"},{title:e("payments.payment_type"),dataIndex:"payment_type"},{title:e("payments.user"),dataIndex:"user_id"},{title:e("payments.amount"),dataIndex:"amount"}];return{transactionsFilterableColumns:c,transactionsColumns:n,transactionsHashableColumns:l}},Sy=Z({props:{user_id:null,result_type:{default:"all",type:String}},components:{UserInfo:He},setup(e){const{transactionsColumns:l,transactionsHashableColumns:c}=Cy(),{formatDate:n,formatAmountCurrency:h}=J(),y=je();x(()=>{u(e)});const u=d=>{const m={},p={result_type:d.result_type};d.user_id&&d.user_id!=null&&(p.user_id=d.user_id),y.tableUrl.value={url:"warehouse-history?fields=id,xid,date,type,amount,transaction_number,user_id,x_user_id,user{id,xid,name,profile_image,profile_image_url,user_type}",filters:m,extraFilters:p},y.hashable.value=[...c],y.table.sorter={field:"date",order:"asc"},y.fetch({page:1})};return me(e,(d,m)=>{u(d)}),{transactionsColumns:l,...y,formatDate:n,formatAmountCurrency:h}}}),$y={key:0,class:"table-responsive"};function Ay(e,l,c,n,h,y){const u=o("UserInfo"),d=o("a-table"),m=o("a-col"),p=o("a-row");return r(),C(p,null,{default:a(()=>[t(m,{span:24},{default:a(()=>[e.table.loading?D("",!0):(r(),S("div",$y,[t(d,{columns:e.transactionsColumns,"row-key":_=>_.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange},{bodyCell:a(({column:_,record:f})=>[_.dataIndex==="date"?(r(),S(I,{key:0},[i(s(e.formatDate(f.date)),1)],64)):D("",!0),_.dataIndex==="payment_type"?(r(),S(I,{key:1},[i(s(f.type),1)],64)):D("",!0),_.dataIndex==="user_id"?(r(),C(u,{key:2,user:f.user},null,8,["user"])):D("",!0),_.dataIndex==="amount"?(r(),S(I,{key:3},[i(s(e.formatAmountCurrency(f.amount)),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])]))]),_:1})]),_:1})}const Dy=W(Sy,[["render",Ay]]),Ty=Z({props:["user"],components:{Transactions:Dy},setup(){return{activeKey:T("transactions")}}});function Ey(e,l,c,n,h,y){const u=o("Transactions"),d=o("a-tab-pane"),m=o("a-tabs");return r(),C(m,{activeKey:e.activeKey,"onUpdate:activeKey":l[0]||(l[0]=p=>e.activeKey=p)},{default:a(()=>[t(d,{key:"transactions",tab:e.$t("payments.transactions")},{default:a(()=>[t(u,{user_id:e.user.xid,result_type:e.user.user_type=="staff_members"?"staff_member":"customer_supplier"},null,8,["user_id","result_type"])]),_:1},8,["tab"])]),_:1},8,["activeKey"])}const Oy=W(Ty,[["render",Ey]]);const Iy=Z({props:["user","visible"],emits:["closed"],components:{UserBalance:Ma,UserDetails:Oy},setup(e,{emit:l}){const{formatAmountCurrency:c}=J();return te(),{formatAmountCurrency:c,onClose:()=>{l("closed")},drawerWidth:window.innerWidth<=991?"90%":"60%"}}}),Py={class:"user-details"};function Uy(e,l,c,n,h,y){const u=o("a-image"),d=o("a-col"),m=o("a-descriptions-item"),p=o("UserBalance"),_=o("a-descriptions"),f=o("a-row"),g=o("UserDetails"),b=o("a-drawer");return r(),C(b,{title:e.user.name,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},maskClosable:!1,onClose:e.onClose},{default:a(()=>[w("div",Py,[t(f,{gutter:[16,16]},{default:a(()=>[t(d,{xs:24,sm:24,md:4,lg:4},{default:a(()=>[t(u,{src:e.user.profile_image_url},null,8,["src"])]),_:1}),t(d,{xs:24,sm:24,md:20,lg:20},{default:a(()=>[t(_,{title:e.$t(`user.${e.user.user_type}_details`),layout:"vertical",contentStyle:{fontWeight:500,marginBottom:"20px"}},{default:a(()=>[t(m,{label:e.$t("user.name")},{default:a(()=>[i(s(e.user.name),1)]),_:1},8,["label"]),t(m,{label:e.$t("user.email")},{default:a(()=>[i(s(e.user.email),1)]),_:1},8,["label"]),t(m,{label:e.$t("user.phone")},{default:a(()=>[i(s(e.user.phone?e.user.phone:"-"),1)]),_:1},8,["label"]),e.user.details?(r(),C(m,{key:0,label:e.$t("user.opening_balance")},{default:a(()=>[t(p,{amount:e.user.details.opening_balance_type=="pay"?-`${e.user.details.opening_balance}`:e.user.details.opening_balance},null,8,["amount"])]),_:1},8,["label"])):D("",!0),t(m,{label:e.$t("user.billing_address"),span:2},{default:a(()=>[i(s(e.user.address?e.user.address:"-"),1)]),_:1},8,["label"]),e.user.details?(r(),C(m,{key:1,label:e.$t("user.credit_period")},{default:a(()=>[i(s(e.user.details.credit_period?`${e.user.details.credit_period} day(s)`:"-"),1)]),_:1},8,["label"])):D("",!0),e.user.details?(r(),C(m,{key:2,label:e.$t("user.credit_limit")},{default:a(()=>[i(s(e.user.details.credit_limit?e.formatAmountCurrency(e.user.details.credit_limit):"-"),1)]),_:1},8,["label"])):D("",!0),e.user.details?(r(),C(m,{key:3,label:e.$t("common.balance")},{default:a(()=>[e.user.details&&e.user.details.due_amount?(r(),C(p,{key:0,amount:e.user.details.due_amount},null,8,["amount"])):D("",!0)]),_:1},8,["label"])):D("",!0),e.user.user_type!="staff_members"?(r(),C(m,{key:4,label:e.$t("user.tax_number")},{default:a(()=>[i(s(e.user.tax_number?e.user.tax_number:"-"),1)]),_:1},8,["label"])):D("",!0)]),_:1},8,["title"])]),_:1})]),_:1})]),t(g,{user:e.user},null,8,["user"])]),_:1},8,["title","width","open","onClose"])}const Fy=W(Iy,[["render",Uy]]),qy={components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,UserOutlined:ka,ArrowUpOutlined:ga,ArrowDownOutlined:ya,AddEdit:oa,UserInfo:He,StateWidget:Zn,AdminPageHeader:ge,UserBalance:Ma,UserView:Fy,ImportUsers:Ft},setup(){const{t:e}=te(),{statusColors:l,userStatus:c,permsArray:n,formatDateTime:h,user:y,selectedWarehouse:u}=J(),{supplierInitData:d,customerInitData:m,staffMemberInitData:p,columns:_,supplierCustomerColumns:f,filterableColumns:g}=la(),b=Ke(),v=Ge(),k=T(v.meta.menuKey),$="?fields=id,xid,user_type,name,email,profile_image,profile_image_url,is_walkin_customer,phone,address,shipping_address,status,tax_number,created_at,details{opening_balance,opening_balance_type,credit_period,credit_limit,due_amount,warehouse_id,x_warehouse_id},details:warehouse{id,xid,name},role_id,role{id,xid,name,display_name},warehouse_id,x_warehouse_id,warehouse{xid,name},userWarehouses{user_id,x_user_id,warehouse_id,x_warehouse_id}",A=T(void 0),O=T("all"),F=T("all"),P=T([]),E=T(""),U=T(""),R=T("");x(()=>{K(),b.table.filterableColumns=g,L()});const L=()=>{k.value=="suppliers"?(b.initData.value={...d},b.formData.value={...d},b.langKey.value="supplier",P.value=f,E.value=window.config.supplier_sample_file,U.value=e("supplier.import_suppliers"),R.value="suppliers/import"):k.value=="customers"?(b.initData.value={...m},b.formData.value={...m},b.langKey.value="customer",P.value=f,E.value=window.config.customer_sample_file,U.value=e("customer.import_customers"),R.value="customers/import"):(b.initData.value={...p},b.formData.value={...p},b.langKey.value="staff_member",P.value=_,E.value=window.config.staff_member_sample_file,U.value=e("staff_member.import_staff_members"),R.value="users/import"),b.restFormData()},K=()=>{b.crudUrl.value=k.value;var V="",q={};A.value!=null&&A.value!="all"&&(V+=`status eq "${A.value}"`),F.value!=null&&F.value!="all"&&k.value!="users"&&(q.search_due_type=F.value),b.tableUrl.value={url:`${k.value}${$}`,filterString:V,extraFilters:q},b.fetch({page:1})};return me(()=>v.meta.menuKey,(V,q)=>{(v.meta.menuKey=="users"||v.meta.menuKey=="customers"||v.meta.menuKey=="suppliers")&&(k.value=v.meta.menuKey,A.value=void 0,b.table.searchColumn=void 0,b.table.searchString="",F.value="all",K(),L())}),me(u,(V,q)=>{K()}),{statusColors:l,userStatus:c,filterableColumns:g,userType:k,tableColumns:P,searchStatus:A,setUrlData:K,searchDueType:F,activeTabKey:O,...b,permsArray:n,formatDateTime:h,user:y,sampleFileUrl:E,importPageTitle:U,importUrl:R}}},My={class:"table-responsive"};function Ry(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("ImportUsers"),v=o("a-space"),k=o("DeleteOutlined"),$=o("a-col"),A=o("a-select-option"),O=o("a-select"),F=o("a-input-search"),P=o("a-input-group"),E=o("a-row"),U=o("admin-page-filters"),R=o("AddEdit"),L=o("a-tab-pane"),K=o("a-tabs"),V=o("user-info"),q=o("a-tag"),B=o("UserBalance"),Y=o("EyeOutlined"),N=o("EditOutlined"),le=o("a-table"),H=o("UserView"),G=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t(`menu.${e.langKey}s`),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.parties")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t(`menu.${e.langKey}s`)),1)]),_:1})]),_:1})]),_:1}),t(U,null,{default:a(()=>[t(E,{gutter:[16,16]},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[n.permsArray.includes(`${n.userType}_create`)||n.permsArray.includes("admin")?(r(),C(v,{key:0},{default:a(()=>[t(g,{type:"primary",onClick:e.addItem},{default:a(()=>[t(f),i(" "+s(e.$t(`${e.langKey}.add`)),1)]),_:1},8,["onClick"]),t(b,{pageTitle:n.importPageTitle,sampleFileUrl:n.sampleFileUrl,importUrl:n.importUrl,onOnUploadSuccess:n.setUrlData},null,8,["pageTitle","sampleFileUrl","importUrl","onOnUploadSuccess"])]),_:1})):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes(`${n.userType}_delete`)||n.permsArray.includes("admin"))?(r(),C(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t($,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(E,{gutter:[16,16],justify:"end"},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:8,xl:8},{default:a(()=>[t(P,{compact:""},{default:a(()=>[t(O,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=z=>e.table.searchColumn=z),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,z=>(r(),C(A,{key:z.key},{default:a(()=>[i(s(z.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(F,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=z=>e.table.searchString=z),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1}),n.userType&&n.userType!="users"?(r(),C($,{key:0,xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(O,{value:n.searchStatus,"onUpdate:value":l[2]||(l[2]=z=>n.searchStatus=z),onChange:n.setUrlData,"show-search":"",style:{width:"100%"},placeholder:e.$t("common.select_default_text",[e.$t("user.status")]),allowClear:!0,optionFilterProp:"label"},{default:a(()=>[(r(!0),S(I,null,Q(n.userStatus,z=>(r(),C(A,{key:z.key,value:z.key,label:z.value},{default:a(()=>[i(s(z.value),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","onChange","placeholder"])]),_:1})):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),t(G,null,{default:a(()=>[t(R,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,addEditData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","addEditData","data","pageTitle","successMessage"]),n.userType&&n.userType=="users"?(r(),C(E,{key:0},{default:a(()=>[t($,{span:24},{default:a(()=>[t(K,{activeKey:n.searchStatus,"onUpdate:activeKey":l[3]||(l[3]=z=>n.searchStatus=z),onChange:n.setUrlData},{default:a(()=>[t(L,{key:"all",tab:`${e.$t("common.all")} ${e.$t("menu.users")}`},null,8,["tab"]),(r(!0),S(I,null,Q(n.userStatus,z=>(r(),C(L,{key:z.key,tab:`${z.value} ${e.$t("menu.users")}`},null,8,["tab"]))),128))]),_:1},8,["activeKey","onChange"])]),_:1})]),_:1})):D("",!0),n.userType&&n.userType!="users"?(r(),C(E,{key:1},{default:a(()=>[t($,{span:24},{default:a(()=>[t(K,{activeKey:n.searchDueType,"onUpdate:activeKey":l[4]||(l[4]=z=>n.searchDueType=z),onChange:n.setUrlData},{default:a(()=>[t(L,{key:"all",tab:`${e.$t("common.all")}`},null,8,["tab"]),t(L,{key:"receive",tab:`${e.$t("user.to_receive")}`},null,8,["tab"]),t(L,{key:"pay",tab:`${e.$t("user.to_pay")}`},null,8,["tab"])]),_:1},8,["activeKey","onChange"])]),_:1})]),_:1})):D("",!0),t(E,{gutter:[15,15]},{default:a(()=>[t($,{span:24},{default:a(()=>[w("div",My,[t(le,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:z=>({disabled:!!(n.user.xid==z.xid||z.is_walkin_customer),name:z.xid})},columns:n.tableColumns,"row-key":z=>z.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:z,text:X,record:j})=>{var oe;return[z.dataIndex==="name"?(r(),C(V,{key:0,user:j},null,8,["user"])):D("",!0),z.dataIndex==="status"?(r(),C(q,{key:1,color:n.statusColors[X]},{default:a(()=>[i(s(e.$t(`common.${X}`)),1)]),_:2},1032,["color"])):D("",!0),z.dataIndex==="created_at"?(r(),S(I,{key:2},[i(s(n.formatDateTime(j.created_at)),1)],64)):D("",!0),z.dataIndex==="balance"?(r(),C(B,{key:3,amount:(oe=j.details)==null?void 0:oe.due_amount},null,8,["amount"])):D("",!0),z.dataIndex==="action"?(r(),S(I,{key:4},[t(g,{type:"primary",onClick:M=>e.viewItem(j),style:{"margin-left":"4px"}},{icon:a(()=>[t(Y)]),_:2},1032,["onClick"]),n.permsArray.includes(`${n.userType}_edit`)||n.permsArray.includes("admin")?(r(),C(g,{key:0,type:"primary",onClick:M=>e.editItem(j),style:{"margin-left":"4px"}},{icon:a(()=>[t(N)]),_:2},1032,["onClick"])):D("",!0),(n.permsArray.includes(`${n.userType}_delete`)||n.permsArray.includes("admin"))&&n.user.xid!=j.xid&&!j.is_walkin_customer?(r(),C(g,{key:1,type:"primary",onClick:M=>e.showDeleteConfirm(j.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]}),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1}),t(H,{user:e.viewData,visible:e.detailsVisible,onClosed:e.onCloseDetails},null,8,["user","visible","onClosed"])]),_:1})],64)}const da=W(qy,[["render",Ry]]),Ky=[{path:"/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"/admin/users",component:da,name:"admin.users.index",meta:{requireAuth:!0,menuParent:"users",menuKey:"users",permission:"users_view"}},{path:"/admin/customers",component:da,name:"admin.customers.index",meta:{requireAuth:!0,menuParent:"parties",menuKey:"customers",permission:"customers_view"}},{path:"/admin/suppliers",component:da,name:"admin.suppliers.index",meta:{requireAuth:!0,menuParent:"parties",menuKey:"suppliers",permission:"suppliers_view"}}]}];const Ra=e=>{const l=e=="admin"?"currencies?fields=id,xid,name,symbol,position,code":"superadmin/currencies?fields=id,xid,name,symbol,position,code",c=e=="admin"?"currencies":"superadmin/currencies",{t:n}=te(),h={name:"",symbol:"",position:"",code:""},y=[{title:n("currency.name"),dataIndex:"name"},{title:n("currency.symbol"),dataIndex:"symbol"},{title:n("currency.position"),dataIndex:"position"},{title:n("currency.code"),dataIndex:"code"},{title:n("common.action"),dataIndex:"action"}],u=[{key:"name",value:n("common.name")}];return{url:l,addEditUrl:c,initData:h,columns:y,filterableColumns:u}},Vy=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],emits:["addEditSuccess"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{appSetting:y}=J(),u=ke();return{loading:n,rules:h,onClose:()=>{h.value={},l("closed")},onSubmit:()=>{c({url:e.url,data:e.formData,successMessage:e.successMessage,success:p=>{y.value.currency&&y.value.currency.xid==p.xid&&u.dispatch("auth/updateApp"),l("addEditSuccess",p.xid)}})},drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function zy(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-radio"),f=o("a-radio-group"),g=o("a-form"),b=o("SaveOutlined"),v=o("a-button"),k=o("a-modal");return r(),C(k,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(v,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(v,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(g,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("currency.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=$=>e.formData.name=$),placeholder:e.$t("common.placeholder_default_text",[e.$t("currency.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("currency.symbol"),name:"symbol",help:e.rules.symbol?e.rules.symbol.message:null,validateStatus:e.rules.symbol?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.symbol,"onUpdate:value":l[1]||(l[1]=$=>e.formData.symbol=$),placeholder:e.$t("common.placeholder_default_text",[e.$t("currency.symbol")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("currency.position"),name:"position",help:e.rules.position?e.rules.position.message:null,validateStatus:e.rules.position?"error":null},{default:a(()=>[t(f,{value:e.formData.position,"onUpdate:value":l[2]||(l[2]=$=>e.formData.position=$)},{default:a(()=>[t(_,{value:"front"},{default:a(()=>[i(s(e.$t("currency.front"))+" ("+s(e.$t("currency.front_position_example"))+") ",1)]),_:1}),t(_,{value:"behind"},{default:a(()=>[i(s(e.$t("currency.behind"))+" ("+s(e.$t("currency.behind_position_example"))+") ",1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("currency.code"),name:"code",help:e.rules.code?e.rules.code.message:null,validateStatus:e.rules.code?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.code,"onUpdate:value":l[3]||(l[3]=$=>e.formData.code=$),placeholder:e.$t("common.placeholder_default_text",[e.$t("currency.code")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const Ka=W(Vy,[["render",zy]]),Ly=Z({props:{panelType:{type:String,default:"admin"},btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:Ka},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=Ra(e.panelType),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),By={key:0};function Wy(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.panelType=="admin"&&(e.permsArray.includes("currencies_create")||e.permsArray.includes("admin"))||e.panelType=="superadmin"?(r(),S("div",By,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"categories"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("currency.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("currency.add"),successMessage:e.$t("currency.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const To=W(Ly,[["render",Wy]]),Eo=()=>{const e=Pe("langs?fields=id,xid,name,image,image_url,key,enabled"),l=Pe("langs"),{t:c}=te(),n={name:"",key:"",image:void 0,image_url:void 0,enabled:!0},h=[{title:c("langs.name"),dataIndex:"name"},{title:c("langs.key"),dataIndex:"key"},{title:c("langs.enabled"),dataIndex:"enabled"},{title:c("common.action"),dataIndex:"action"}],y=[{key:"name",value:c("langs.name")}];return{url:e,addEditUrl:l,initData:n,columns:h,filterableColumns:y}},jy=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,Upload:ot},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),y=ke();return{loading:n,rules:h,onClose:()=>{h.value={},l("closed")},onSubmit:()=>{c({url:e.url,data:e.formData,successMessage:e.successMessage,success:m=>{l("addEditSuccess",m.xid),y.dispatch("auth/updateAllLangs")}})},drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function Hy(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("Upload"),f=o("a-form"),g=o("SaveOutlined"),b=o("a-button"),v=o("a-modal");return r(),C(v,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(b,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(g)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(b,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(f,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("langs.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=k=>e.formData.name=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("langs.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("langs.key"),name:"key",help:e.rules.key?e.rules.key.message:null,validateStatus:e.rules.key?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.key,"onUpdate:value":l[1]||(l[1]=k=>e.formData.key=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("langs.key")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,null,{default:a(()=>[t(m,{span:24},{default:a(()=>[t(d,{label:e.$t("langs.flag"),name:"image",help:e.rules.image?e.rules.image.message:null,validateStatus:e.rules.image?"error":null},{default:a(()=>[t(_,{formData:e.formData,folder:"langs",onOnFileUploaded:l[2]||(l[2]=k=>{e.formData.image=k.file,e.formData.image_url=k.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const Oo=W(jy,[["render",Hy]]),Ny=Z({props:{btnType:{default:"default"},tooltip:{default:!0},customType:{default:"button"},panelType:{default:"admin"}},emits:["onAddSuccess"],components:{PlusOutlined:ne,AddEdit:Oo},setup(e,{emit:l}){const{permsArray:c}=J(),{initData:n,addEditUrl:h}=Eo(),y=T(!1),u=T("add"),d=T({...n});return{permsArray:c,visible:y,addEditType:u,addEditUrl:h,formData:d,addEditSuccess:()=>{y.value=!1,d.value={...n},l("onAddSuccess")},onClose:()=>{y.value=!1},showAdd:()=>{y.value=!0}}}}),Yy={key:0};function Gy(e,l,c,n,h,y){const u=o("a-menu-item"),d=o("PlusOutlined"),m=o("a-button"),p=o("a-tooltip"),_=o("AddEdit");return e.permsArray.includes("translations_create")||e.permsArray.includes("admin")||e.panelType=="superadmin"?(r(),S("div",Yy,[e.customType=="menu"?(r(),C(u,{onClick:e.showAdd,key:"categories"},{icon:a(()=>[de(e.$slots,"icon")]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick"])):(r(),S(I,{key:1},[e.tooltip?(r(),C(p,{key:0,placement:"topLeft",title:e.$t("langs.add"),"arrow-point-at-center":""},{default:a(()=>[t(m,{onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"])]),_:3},8,["title"])):(r(),C(m,{key:1,onClick:e.showAdd,class:"ml-5 no-border-radius",type:e.btnType},{icon:a(()=>[t(d)]),default:a(()=>[de(e.$slots,"default")]),_:3},8,["onClick","type"]))],64)),t(_,{addEditType:e.addEditType,visible:e.visible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onClose,formData:e.formData,data:e.formData,pageTitle:e.$t("langs.add"),successMessage:e.$t("langs.created")},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"])])):D("",!0)}const Va=W(Ny,[["render",Gy]]);const Jy=Z({components:{LaptopOutlined:vl,UserOutlined:ka,TranslationOutlined:kl,ShopOutlined:wl,ShoppingCartOutlined:ft,SolutionOutlined:Cl,ScheduleOutlined:Sl,DollarOutlined:$l,AccountBookOutlined:Al,AppstoreAddOutlined:Vn,ApartmentOutlined:Dl,FolderOpenOutlined:Tl,MailOutlined:wa,HistoryOutlined:El,FormOutlined:Kn,DatabaseOutlined:Ol},setup(){const{appSetting:e,user:l,permsArray:c,appModules:n,appType:h}=J(),y=Ge();ke();const u=T([]);return x(()=>{const d=typeof y.meta.menuKey=="function"?y.meta.menuKey(y):y.meta.menuKey;u.value=[d.replace("-","_")]}),me(y,(d,m)=>{const p=typeof d.meta.menuKey=="function"?d.meta.menuKey(d):d.meta.menuKey;u.value=[p.replace("-","_")]}),{permsArray:c,selectedKeys:u,appType:h}}}),Qy={class:"setting-sidebar"};function Xy(e,l,c,n,h,y){const u=o("LaptopOutlined"),d=o("a-menu-item"),m=o("UserOutlined"),p=o("TranslationOutlined"),_=o("ShopOutlined"),f=o("SolutionOutlined"),g=o("ScheduleOutlined"),b=o("DollarOutlined"),v=o("AccountBookOutlined"),k=o("ApartmentOutlined"),$=o("FormOutlined"),A=o("AppstoreAddOutlined"),O=o("FolderOpenOutlined"),F=o("MailOutlined"),P=o("DatabaseOutlined"),E=o("HistoryOutlined"),U=o("a-menu"),R=o("perfect-scrollbar");return r(),S("div",Qy,[t(R,{options:{wheelSpeed:1,swipeEasing:!0,suppressScrollX:!0}},{default:a(()=>[t(U,{selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":l[16]||(l[16]=L=>e.selectedKeys=L)},{default:a(()=>[e.permsArray.includes("companies_edit")||e.permsArray.includes("admin")?(r(),C(d,{key:"company",onClick:l[0]||(l[0]=L=>e.$router.push({name:"admin.settings.company.index"}))},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("menu.company")),1)]),_:1})):D("",!0),t(d,{key:"profile",onClick:l[1]||(l[1]=L=>e.$router.push({name:"admin.settings.profile.index"}))},{icon:a(()=>[t(m)]),default:a(()=>[i(" "+s(e.$t("menu.profile")),1)]),_:1}),e.appType=="non-saas"&&(e.permsArray.includes("translations_view")||e.permsArray.includes("admin"))?(r(),C(d,{key:"translations",onClick:l[2]||(l[2]=L=>e.$router.push({name:"admin.settings.translations.index"}))},{icon:a(()=>[t(p)]),default:a(()=>[i(" "+s(e.$t("menu.translations")),1)]),_:1})):D("",!0),e.permsArray.includes("warehouses_view")||e.permsArray.includes("admin")?(r(),C(d,{key:"warehouses",onClick:l[3]||(l[3]=L=>e.$router.push({name:"admin.settings.warehouses.index"}))},{icon:a(()=>[t(_)]),default:a(()=>[i(" "+s(e.$t("menu.warehouses")),1)]),_:1})):D("",!0),e.permsArray.includes("roles_view")||e.permsArray.includes("admin")?(r(),C(d,{key:"roles",onClick:l[4]||(l[4]=L=>e.$router.push({name:"admin.settings.roles.index"}))},{icon:a(()=>[t(f)]),default:a(()=>[i(" "+s(e.$t("menu.roles")),1)]),_:1})):D("",!0),e.permsArray.includes("taxes_view")||e.permsArray.includes("admin")?(r(),C(d,{key:"taxes",onClick:l[5]||(l[5]=L=>e.$router.push({name:"admin.settings.taxes.index"}))},{icon:a(()=>[t(g)]),default:a(()=>[i(" "+s(e.$t("menu.taxes")),1)]),_:1})):D("",!0),e.permsArray.includes("currencies_view")||e.permsArray.includes("admin")?(r(),C(d,{key:"currencies",onClick:l[6]||(l[6]=L=>e.$router.push({name:"admin.settings.currencies.index"}))},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("menu.currencies")),1)]),_:1})):D("",!0),e.permsArray.includes("payment_modes_view")||e.permsArray.includes("admin")?(r(),C(d,{key:"payment_modes",onClick:l[7]||(l[7]=L=>e.$router.push({name:"admin.settings.payment_modes.index"}))},{icon:a(()=>[t(v)]),default:a(()=>[i(" "+s(e.$t("menu.payment_modes")),1)]),_:1})):D("",!0),e.permsArray.includes("units_view")||e.permsArray.includes("admin")?(r(),C(d,{key:"units",onClick:l[8]||(l[8]=L=>e.$router.push({name:"admin.settings.units.index"}))},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("menu.units")),1)]),_:1})):D("",!0),e.permsArray.includes("custom_fields_view")||e.permsArray.includes("admin")?(r(),C(d,{key:"custom_fields",onClick:l[9]||(l[9]=L=>e.$router.push({name:"admin.settings.custom_fields.index"}))},{icon:a(()=>[t($)]),default:a(()=>[i(" "+s(e.$t("menu.custom_fields")),1)]),_:1})):D("",!0),e.appType=="non-saas"?(r(),S(I,{key:9},[e.permsArray.includes("admin")?(r(),C(d,{key:"modules",onClick:l[10]||(l[10]=L=>e.$router.push({name:"admin.settings.modules.index"}))},{icon:a(()=>[t(A)]),default:a(()=>[i(" "+s(e.$t("menu.modules")),1)]),_:1})):D("",!0),e.permsArray.includes("storage_edit")||e.permsArray.includes("admin")?(r(),C(d,{key:"storage_settings",onClick:l[11]||(l[11]=L=>e.$router.push({name:"admin.settings.storage.index"}))},{icon:a(()=>[t(O)]),default:a(()=>[i(" "+s(e.$t("menu.storage_settings")),1)]),_:1})):D("",!0),e.permsArray.includes("email_edit")||e.permsArray.includes("admin")?(r(),C(d,{key:"email_settings",onClick:l[12]||(l[12]=L=>e.$router.push({name:"admin.settings.email.index"}))},{icon:a(()=>[t(F)]),default:a(()=>[i(" "+s(e.$t("menu.email_settings")),1)]),_:1})):D("",!0),e.permsArray.includes("database_backup")||e.permsArray.includes("admin")?(r(),C(d,{key:"database_backup",onClick:l[13]||(l[13]=L=>e.$router.push({name:"admin.settings.database_backup.index"}))},{icon:a(()=>[t(P)]),default:a(()=>[i(" "+s(e.$t("menu.database_backup")),1)]),_:1})):D("",!0),e.permsArray.includes("update_app")||e.permsArray.includes("admin")?(r(),C(d,{key:"update_app",onClick:l[14]||(l[14]=L=>e.$router.push({name:"admin.settings.update_app.index"}))},{icon:a(()=>[t(E)]),default:a(()=>[i(" "+s(e.$t("menu.update_app")),1)]),_:1})):D("",!0)],64)):D("",!0),e.appType=="saas"&&(e.permsArray.includes("email_edit")||e.permsArray.includes("admin"))?(r(),C(d,{key:"email_settings",onClick:l[15]||(l[15]=L=>e.$router.push({name:"admin.settings.email.index"}))},{icon:a(()=>[t(F)]),default:a(()=>[i(" "+s(e.$t("menu.email_settings")),1)]),_:1})):D("",!0)]),_:1},8,["selectedKeys"])]),_:1})])}const Ne=W(Jy,[["render",Xy]]),Zy=Z({emits:["success"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,SettingOutlined:_t},setup(e,{emit:l}){const{appSetting:c,addMenus:n}=J(),{addEditRequestAdmin:h,loading:y,rules:u}=ve(),{t:d}=te(),m=T(c.value.shortcut_menus),p=T(n.value),_=T(!1),f=ke(),g=()=>{const k={position:m.value,shortcut_menus_settings:p.value};h({url:"companies/update-create-menu",data:k,successMessage:d("company.menu_setting_updated"),success:$=>{l("success",m.value),f.dispatch("auth/updateApp"),_.value=!1}})},b=()=>{u.value={},_.value=!0},v=()=>{u.value={},_.value=!1};return me(c,(k,$)=>{m.value=k.shortcut_menus}),{visible:_,loading:y,rules:u,onClose:v,openDrawer:b,onSubmit:g,createMenuPosition:m,createMenus:p,drawerWidth:window.innerWidth<=991?"90%":"35%"}}});function xy(e,l,c,n,h,y){const u=o("SettingOutlined"),d=o("a-button"),m=o("a-select-option"),p=o("a-select"),_=o("a-form-item"),f=o("a-col"),g=o("a-row"),b=o("a-checkbox"),v=o("a-checkbox-group"),k=o("a-form"),$=o("SaveOutlined"),A=o("a-drawer");return r(),S(I,null,[t(d,{type:"primary",onClick:e.openDrawer},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("company.shortcut_menu_setting")),1)]),_:1},8,["onClick"]),t(A,{title:e.$t("company.shortcut_menu_setting"),width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},maskClosable:!1,onClose:e.onClose},{footer:a(()=>[t(d,{type:"primary",onClick:e.onSubmit,style:{"margin-right":"8px"},loading:e.loading},{icon:a(()=>[t($)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick","loading"]),t(d,{onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(k,{layout:"vertical"},{default:a(()=>[t(g,{gutter:16},{default:a(()=>[t(f,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(_,{label:e.$t("company.shortcut_menu_Placement"),name:"shortcut_menus",help:e.rules.shortcut_menus?e.rules.shortcut_menus.message:null,validateStatus:e.rules.shortcut_menus?"error":null,class:"required"},{default:a(()=>[t(p,{value:e.createMenuPosition,"onUpdate:value":l[0]||(l[0]=O=>e.createMenuPosition=O),placeholder:e.$t("common.select_default_text",[e.$t("company.shortcut_menu_Placement")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:a(()=>[t(m,{key:"top_bottom",value:"top_bottom"},{default:a(()=>[i(s(e.$t("company.top_and_bottom")),1)]),_:1}),t(m,{key:"top",value:"top"},{default:a(()=>[i(s(e.$t("company.top_header")),1)]),_:1}),t(m,{key:"bottom",value:"bottom"},{default:a(()=>[i(s(e.$t("company.bottom_corner")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(f,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(_,{label:e.$t("company.shortcut_menu_setting"),name:"shortcut_menus",help:e.rules.createMenus?e.rules.shortcut_menus.message:null,validateStatus:e.rules.shortcut_menus?"error":null},{default:a(()=>[t(v,{value:e.createMenus,"onUpdate:value":l[1]||(l[1]=O=>e.createMenus=O),style:{width:"100%"}},{default:a(()=>[t(g,{gutter:[16,10]},{default:a(()=>[t(f,{span:24},{default:a(()=>[t(b,{value:"staff_member"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_staff_member")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"customer"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_customer")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"supplier"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_supplier")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"brand"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_brand")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"category"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_category")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"product"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_product")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"sales"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_sales")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"purchase"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_purchase")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"expense_category"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_expense_cateogory")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"expense"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_expense")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"currency"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_currency")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"warehouse"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_warehouse")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"unit"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_unit")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"language"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_language")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"role"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_role")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"tax"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_tax")),1)]),_:1})]),_:1}),t(f,{span:24},{default:a(()=>[t(b,{value:"payment_mode"},{default:a(()=>[i(s(e.$t("topbar_add_button.add_payment_mode")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","width","open","onClose"])],64)}const Io=W(Zy,[["render",xy]]),eh={components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,ExclamationCircleOutlined:Ae,SaveOutlined:he,SettingOutlined:_t,ColorPicker:Wn,Upload:ot,CurrencyAddButton:To,WarehouseAddButton:qt,SettingSidebar:Ne,AdminPageHeader:ge,CreateMenuSetting:Io,LanguageAddButton:Va},setup(){const{addEditRequestAdmin:e,loading:l,rules:c}=ve(),{permsArray:n,appSetting:h,dayjsObject:y,appType:u}=J(),{t:d}=te(),m=ke(),p=T({}),_=T([]),f=T([]),g=T([]),b=T([]),v=T([]),k=T([]),$=h.value,A="currencies?limit=10000",O="warehouses?limit=10000",F="timezones",P="all-langs",E=T("linear-gradient(0deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 100%)"),U=window.config.theme_mode;x(()=>{const Y=axiosAdmin.get(O),N=axiosAdmin.get(A),le=axiosAdmin.get(F),H=axiosAdmin.get(P);Promise.all([Y,N,le,H]).then(([G,z,X,j])=>{f.value=G.data,_.value=z.data,g.value=X.data.timezones,b.value=X.data.date_formates,v.value=X.data.time_formates,k.value=j.data.langs,R()})});const R=()=>{p.value={name:$.name,short_name:$.short_name,email:$.email,phone:$.phone,address:$.address,left_sidebar_theme:$.left_sidebar_theme,dark_logo:$.dark_logo,dark_logo_url:$.dark_logo_url,light_logo:$.light_logo,light_logo_url:$.light_logo_url,small_dark_logo:$.small_dark_logo,small_light_logo:$.small_light_logo,small_dark_logo_url:$.small_dark_logo_url,small_light_logo_url:$.small_light_logo_url,login_image:$.login_image,login_image_url:$.login_image_url,shortcut_menus:$.shortcut_menus,rtl:$.rtl,currency_id:$.x_currency_id,lang_id:$.x_lang_id,warehouse_id:$.x_warehouse_id,primary_color:$.primary_color,timezone:$.timezone,date_format:$.date_format,time_format:$.time_format,auto_detect_timezone:$.auto_detect_timezone,app_debug:$.app_debug,update_app_notification:$.update_app_notification,_method:"PUT"}};return{appType:u,permsArray:n,formData:p,loading:l,rules:c,warehouses:f,currencies:_,allLangs:k,onSubmit:()=>{e({url:`companies/${$.xid}`,data:p.value,successMessage:d("company.updated"),success:Y=>{m.dispatch("auth/updateApp")}})},currencyAdded:()=>{axiosAdmin.get(A).then(Y=>{_.value=Y.data})},warehouseAdded:()=>{axiosAdmin.get(O).then(Y=>{f.value=Y.data})},gradientColor:E,timezones:g,dateFormats:b,timeFormats:v,dayjsObject:y,appThemeMode:U,addMenuSettingUpdated:Y=>{p.value.shortcut_menus=Y},languageAdded:()=>{axiosAdmin.get(P).then(Y=>{k.value=Y.data.langs})}}}},th={style:{display:"flex"}},ah={style:{display:"flex"}},nh={style:{display:"flex"}};function oh(e,l,c,n,h,y){const u=o("SaveOutlined"),d=o("a-button"),m=o("CreateMenuSetting"),p=o("a-space"),_=o("a-page-header"),f=o("router-link"),g=o("a-breadcrumb-item"),b=o("a-breadcrumb"),v=o("AdminPageHeader"),k=o("SettingSidebar"),$=o("a-col"),A=o("a-input"),O=o("a-form-item"),F=o("a-row"),P=o("a-textarea"),E=o("a-select-option"),U=o("a-select"),R=o("color-picker"),L=o("Upload"),K=o("CurrencyAddButton"),V=o("WarehouseAddButton"),q=o("LanguageAddButton"),B=o("a-switch"),Y=o("a-form"),N=o("a-card"),le=o("admin-page-table-content");return r(),S(I,null,[t(v,null,{header:a(()=>[t(_,{title:e.$t("menu.company"),class:"p-0"},We({_:2},[n.permsArray.includes("companies_edit")||n.permsArray.includes("admin")?{name:"extra",fn:a(()=>[t(p,null,{default:a(()=>[t(d,{type:"primary",onClick:n.onSubmit},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick"]),t(m,{onSuccess:n.addMenuSettingUpdated},null,8,["onSuccess"])]),_:1})]),key:"0"}:void 0]),1032,["title"])]),breadcrumb:a(()=>[t(b,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(g,null,{default:a(()=>[t(f,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(g,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(g,null,{default:a(()=>[i(s(e.$t("menu.company")),1)]),_:1})]),_:1})]),_:1}),t(F,null,{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(k)]),_:1}),t($,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(le,null,{default:a(()=>[t(N,{class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(Y,{layout:"vertical"},{default:a(()=>[t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.name"),name:"name",help:n.rules.name?n.rules.name.message:null,validateStatus:n.rules.name?"error":null,class:"required"},{default:a(()=>[t(A,{value:n.formData.name,"onUpdate:value":l[0]||(l[0]=H=>n.formData.name=H),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.short_name"),name:"short_name",help:n.rules.short_name?n.rules.short_name.message:null,validateStatus:n.rules.short_name?"error":null,class:"required"},{default:a(()=>[t(A,{value:n.formData.short_name,"onUpdate:value":l[1]||(l[1]=H=>n.formData.short_name=H),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.short_name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.email"),name:"email",help:n.rules.email?n.rules.email.message:null,validateStatus:n.rules.email?"error":null,class:"required"},{default:a(()=>[t(A,{value:n.formData.email,"onUpdate:value":l[2]||(l[2]=H=>n.formData.email=H),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.email")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.phone"),name:"phone",help:n.rules.phone?n.rules.phone.message:null,validateStatus:n.rules.phone?"error":null,class:"required"},{default:a(()=>[t(A,{value:n.formData.phone,"onUpdate:value":l[3]||(l[3]=H=>n.formData.phone=H),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(O,{label:e.$t("company.address"),name:"address",help:n.rules.address?n.rules.address.message:null,validateStatus:n.rules.address?"error":null},{default:a(()=>[t(P,{value:n.formData.address,"onUpdate:value":l[4]||(l[4]=H=>n.formData.address=H),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.address")]),rows:4},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.left_sidebar_theme"),name:"left_sidebar_theme",help:n.rules.left_sidebar_theme?n.rules.left_sidebar_theme.message:null,validateStatus:n.rules.left_sidebar_theme?"error":null},{default:a(()=>[t(U,{value:n.formData.left_sidebar_theme,"onUpdate:value":l[5]||(l[5]=H=>n.formData.left_sidebar_theme=H),placeholder:e.$t("common.select_default_text",[e.$t("company.left_sidebar_theme")])},{default:a(()=>[t(E,{key:"dark",value:"dark"},{default:a(()=>[i(s(e.$t("company.dark")),1)]),_:1}),n.appThemeMode!="dark"?(r(),C(E,{key:"light",value:"light"},{default:a(()=>[i(s(e.$t("company.light")),1)]),_:1})):D("",!0)]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.primary_color"),name:"primary_color",help:n.rules.primary_color?n.rules.primary_color.message:null,validateStatus:n.rules.primary_color?"error":null},{default:a(()=>[t(R,{pureColor:n.formData.primary_color,"onUpdate:pureColor":l[6]||(l[6]=H=>n.formData.primary_color=H),format:"hex",useType:"pure",gradientColor:n.gradientColor,"onUpdate:gradientColor":l[7]||(l[7]=H=>n.gradientColor=H)},null,8,["pureColor","gradientColor"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(O,{label:e.$t("company.dark_logo"),name:"dark_logo",help:n.rules.dark_logo?n.rules.dark_logo.message:null,validateStatus:n.rules.dark_logo?"error":null},{default:a(()=>[t(L,{formData:n.formData,folder:"company",imageField:"dark_logo",onOnFileUploaded:l[8]||(l[8]=H=>{n.formData.dark_logo=H.file,n.formData.dark_logo_url=H.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(O,{label:e.$t("company.light_logo"),name:"light_logo",help:n.rules.light_logo?n.rules.light_logo.message:null,validateStatus:n.rules.light_logo?"error":null},{default:a(()=>[t(L,{formData:n.formData,folder:"company",imageField:"light_logo",onOnFileUploaded:l[9]||(l[9]=H=>{n.formData.light_logo=H.file,n.formData.light_logo_url=H.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(O,{label:e.$t("company.small_dark_logo"),name:"small_dark_logo",help:n.rules.small_dark_logo?n.rules.small_dark_logo.message:null,validateStatus:n.rules.small_dark_logo?"error":null},{default:a(()=>[t(L,{formData:n.formData,folder:"company",imageField:"small_dark_logo",onOnFileUploaded:l[10]||(l[10]=H=>{n.formData.small_dark_logo=H.file,n.formData.small_dark_logo_url=H.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(O,{label:e.$t("company.small_light_logo"),name:"small_light_logo",help:n.rules.small_light_logo?n.rules.small_light_logo.message:null,validateStatus:n.rules.small_light_logo?"error":null},{default:a(()=>[t(L,{formData:n.formData,folder:"company",imageField:"small_light_logo",onOnFileUploaded:l[11]||(l[11]=H=>{n.formData.small_light_logo=H.file,n.formData.small_light_logo_url=H.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.currency"),name:"currency_id",help:n.rules.currency_id?n.rules.currency_id.message:null,validateStatus:n.rules.currency_id?"error":null,class:"required"},{default:a(()=>[w("span",th,[t(U,{value:n.formData.currency_id,"onUpdate:value":l[12]||(l[12]=H=>n.formData.currency_id=H),placeholder:e.$t("common.select_default_text",[e.$t("company.currency")]),optionFilterProp:"label","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.currencies,H=>(r(),C(E,{key:H.xid,value:H.xid},{default:a(()=>[i(s(`${H.name} (${H.symbol})`),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"]),t(K,{onOnAddSuccess:n.currencyAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("warehouse.warehouse"),name:"warehouse_id",help:n.rules.warehouse_id?n.rules.warehouse_id.message:null,validateStatus:n.rules.warehouse_id?"error":null,class:"required"},{default:a(()=>[w("span",ah,[t(U,{value:n.formData.warehouse_id,"onUpdate:value":l[13]||(l[13]=H=>n.formData.warehouse_id=H),placeholder:e.$t("common.select_default_text",[e.$t("warehouse.warehouse")]),optionFilterProp:"label","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.warehouses,H=>(r(),C(E,{key:H.xid,value:H.xid,label:H.name},{default:a(()=>[i(s(H.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder"]),t(V,{onOnAddSuccess:n.warehouseAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.layout"),name:"rtl",help:n.rules.rtl?n.rules.rtl.message:null,validateStatus:n.rules.rtl?"error":null,class:"required"},{default:a(()=>[t(U,{value:n.formData.rtl,"onUpdate:value":l[14]||(l[14]=H=>n.formData.rtl=H),placeholder:e.$t("common.select_default_text",[e.$t("company.layout")]),optionFilterProp:"label","show-search":""},{default:a(()=>[t(E,{key:"rtl",value:1},{default:a(()=>[i(s(e.$t("company.rtl")),1)]),_:1}),t(E,{key:"ltr",value:0},{default:a(()=>[i(s(e.$t("company.ltr")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(O,{label:e.$t("company.shortcut_menu_Placement"),name:"shortcut_menus",help:n.rules.shortcut_menus?n.rules.shortcut_menus.message:null,validateStatus:n.rules.shortcut_menus?"error":null,class:"required"},{default:a(()=>[t(U,{value:n.formData.shortcut_menus,"onUpdate:value":l[15]||(l[15]=H=>n.formData.shortcut_menus=H),placeholder:e.$t("common.select_default_text",[e.$t("company.shortcut_menu_Placement")]),optionFilterProp:"label","show-search":""},{default:a(()=>[t(E,{key:"top_bottom",value:"top_bottom"},{default:a(()=>[i(s(e.$t("company.top_and_bottom")),1)]),_:1}),t(E,{key:"top",value:"top"},{default:a(()=>[i(s(e.$t("company.top_header")),1)]),_:1}),t(E,{key:"bottom",value:"bottom"},{default:a(()=>[i(s(e.$t("company.bottom_corner")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(O,{label:e.$t("company.language"),name:"lang_id",help:n.rules.lang_id?n.rules.lang_id.message:null,validateStatus:n.rules.lang_id?"error":null,class:"required"},{default:a(()=>[w("span",nh,[t(U,{value:n.formData.lang_id,"onUpdate:value":l[16]||(l[16]=H=>n.formData.lang_id=H),placeholder:e.$t("common.select_default_text",[e.$t("company.language")]),optionFilterProp:"label","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.allLangs,H=>(r(),C(E,{key:H.xid,value:H.xid},{default:a(()=>[i(s(H.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"]),t(q,{onOnAddSuccess:n.languageAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:4,lg:4},{default:a(()=>[t(O,{label:e.$t("company.auto_detect_timezone"),name:"auto_detect_timezone",help:n.rules.auto_detect_timezone?n.rules.auto_detect_timezone.message:null,validateStatus:n.rules.auto_detect_timezone?"error":null},{default:a(()=>[t(B,{checked:n.formData.auto_detect_timezone,"onUpdate:checked":l[17]||(l[17]=H=>n.formData.auto_detect_timezone=H),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(O,{label:e.$t("company.default_timezone"),name:"timezone",help:n.rules.timezone?n.rules.timezone.message:null,validateStatus:n.rules.timezone?"error":null,class:"required"},{default:a(()=>[t(U,{value:n.formData.timezone,"onUpdate:value":l[18]||(l[18]=H=>n.formData.timezone=H),placeholder:e.$t("common.select_default_text",[e.$t("company.default_timezone")]),optionFilterProp:"value","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.timezones,(H,G)=>(r(),C(E,{key:G,value:H},{default:a(()=>[i(s(H),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),n.appType=="non-saas"?(r(),C($,{key:0,xs:24,sm:24,md:4,lg:4},{default:a(()=>[t(O,{label:e.$t("company.app_debug"),name:"app_debug",help:n.rules.app_debug?n.rules.app_debug.message:null,validateStatus:n.rules.app_debug?"error":null},{default:a(()=>[t(B,{checked:n.formData.app_debug,"onUpdate:checked":l[19]||(l[19]=H=>n.formData.app_debug=H),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})):D("",!0),n.appType=="non-saas"?(r(),C($,{key:1,xs:24,sm:24,md:4,lg:4},{default:a(()=>[t(O,{label:e.$t("company.update_app_notification"),name:"update_app_notification",help:n.rules.update_app_notification?n.rules.update_app_notification.message:null,validateStatus:n.rules.update_app_notification?"error":null},{default:a(()=>[t(B,{checked:n.formData.update_app_notification,"onUpdate:checked":l[20]||(l[20]=H=>n.formData.update_app_notification=H),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})):D("",!0)]),_:1}),t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.date_format"),name:"date_format",help:n.rules.date_format?n.rules.date_format.message:null,validateStatus:n.rules.date_format?"error":null,class:"required"},{default:a(()=>[t(U,{value:n.formData.date_format,"onUpdate:value":l[21]||(l[21]=H=>n.formData.date_format=H),placeholder:e.$t("common.select_default_text",[e.$t("company.date_format")]),optionFilterProp:"value","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.dateFormats,(H,G)=>(r(),C(E,{key:G,value:H},{default:a(()=>[i(s(`(${G}) => `+n.dayjsObject().format(H)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t($,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(O,{label:e.$t("company.time_format"),name:"time_format",help:n.rules.time_format?n.rules.time_format.message:null,validateStatus:n.rules.time_format?"error":null,class:"required"},{default:a(()=>[t(U,{value:n.formData.time_format,"onUpdate:value":l[22]||(l[22]=H=>n.formData.time_format=H),placeholder:e.$t("common.select_default_text",[e.$t("company.time_format")]),optionFilterProp:"value","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.timeFormats,(H,G)=>(r(),C(E,{key:G,value:G},{default:a(()=>[i(s(`(${H}) => `+n.dayjsObject().format(G)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),n.appType=="non-saas"?(r(),C(F,{key:0,gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(O,{label:e.$t("company.login_image"),name:"login_image",help:n.rules.login_image?n.rules.login_image.message:null,validateStatus:n.rules.login_image?"error":null},{default:a(()=>[t(L,{formData:n.formData,folder:"company",imageField:"login_image",onOnFileUploaded:l[23]||(l[23]=H=>{n.formData.login_image=H.file,n.formData.login_image_url=H.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),t(F,{gutter:16},{default:a(()=>[t($,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(O,null,{default:a(()=>[t(d,{type:"primary",onClick:n.onSubmit,loading:n.loading},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const lh=W(eh,[["render",oh]]),sh={components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,ExclamationCircleOutlined:Ae,SaveOutlined:he,Upload:ot,SettingSidebar:Ne,AdminPageHeader:ge},setup(){const{addEditRequestAdmin:e,loading:l,rules:c}=ve(),{t:n}=te(),h=ke(),y=T({}),u=T({}),d=h.state.auth.user;return x(()=>{y.value={name:d.name,email:d.email,password:"",phone:d.phone,profile_image:d.profile_image,profile_image_url:d.profile_image_url}}),{loading:l,rules:c,formData:y,currencies:u,onSubmit:()=>{e({url:"profile",data:y.value,successMessage:n("user.profile_updated"),success:p=>{h.commit("auth/updateUser",p.user)}})}}}},rh={class:"small-text-message"};function dh(e,l,c,n,h,y){const u=o("SaveOutlined"),d=o("a-button"),m=o("a-page-header"),p=o("router-link"),_=o("a-breadcrumb-item"),f=o("a-breadcrumb"),g=o("AdminPageHeader"),b=o("SettingSidebar"),v=o("a-col"),k=o("a-input"),$=o("a-form-item"),A=o("a-row"),O=o("Upload"),F=o("a-textarea"),P=o("a-form"),E=o("a-card"),U=o("admin-page-table-content");return r(),S(I,null,[t(g,null,{header:a(()=>[t(m,{title:e.$t("menu.profile"),class:"p-0"},{extra:a(()=>[t(d,{type:"primary",onClick:n.onSubmit},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(f,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(_,null,{default:a(()=>[t(p,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(_,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(_,null,{default:a(()=>[i(s(e.$t("menu.profile")),1)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t(v,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(b)]),_:1}),t(v,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(U,null,{default:a(()=>[t(E,{class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(P,{layout:"vertical"},{default:a(()=>[t(A,{gutter:16},{default:a(()=>[t(v,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t($,{label:e.$t("user.name"),name:"name",help:n.rules.name?n.rules.name.message:null,validateStatus:n.rules.name?"error":null,class:"required"},{default:a(()=>[t(k,{value:n.formData.name,"onUpdate:value":l[0]||(l[0]=R=>n.formData.name=R),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(v,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t($,{label:e.$t("user.email"),name:"email",help:n.rules.email?n.rules.email.message:null,validateStatus:n.rules.email?"error":null,class:"required"},{default:a(()=>[t(k,{value:n.formData.email,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.email")]),disabled:""},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(A,{gutter:16},{default:a(()=>[t(v,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t($,{label:e.$t("user.password"),name:"password",help:n.rules.password?n.rules.password.message:null,validateStatus:n.rules.password?"error":null},{default:a(()=>[t(k,{value:n.formData.password,"onUpdate:value":l[1]||(l[1]=R=>n.formData.password=R),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.password")]),type:"password",autocomplete:"off"},null,8,["value","placeholder"]),w("small",rh,s(e.$t("user.password_blank")),1)]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(A,{gutter:16},{default:a(()=>[t(v,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t($,{label:e.$t("user.phone"),name:"phone",help:n.rules.phone?n.rules.phone.message:null,validateStatus:n.rules.phone?"error":null},{default:a(()=>[t(k,{value:n.formData.phone,"onUpdate:value":l[2]||(l[2]=R=>n.formData.phone=R),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(A,{gutter:16},{default:a(()=>[t(v,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t($,{label:e.$t("user.profile_image"),name:"profile_image",help:n.rules.profile_image?n.rules.profile_image.message:null,validateStatus:n.rules.profile_image?"error":null},{default:a(()=>[t(O,{formData:n.formData,folder:"user",imageField:"profile_image",onOnFileUploaded:l[3]||(l[3]=R=>{n.formData.profile_image=R.file,n.formData.profile_image_url=R.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(A,{gutter:16},{default:a(()=>[t(v,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t($,{label:e.$t("user.address"),name:"address",help:n.rules.address?n.rules.address.message:null,validateStatus:n.rules.address?"error":null},{default:a(()=>[t(F,{value:n.formData.address,"onUpdate:value":l[4]||(l[4]=R=>n.formData.address=R),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.address")]),rows:4},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(A,{gutter:16},{default:a(()=>[t(v,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t($,null,{default:a(()=>[t(d,{type:"primary",onClick:n.onSubmit,loading:n.loading},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const ih=W(sh,[["render",dh]]),uh={props:{panelType:{type:String,default:"admin"}},components:{EditOutlined:$e,DeleteOutlined:fe,AddEdit:Oo,DownloadOutlined:Ct},setup(){const{addEditRequestAdmin:e,loading:l}=ve(),{permsArray:c,downloadLangCsvUrl:n}=J(),{url:h,addEditUrl:y,initData:u,columns:d,filterableColumns:m}=Eo(),p=Ke(),{t:_}=te();return x(()=>{p.tableUrl.value={url:h},p.table.filterableColumns=m,p.fetch({page:1}),p.crudUrl.value=y,p.langKey.value="langs",p.initData.value={...u},p.formData.value={...u}}),{permsArray:c,downloadLangCsvUrl:n,columns:d,...p,filterableColumns:m,changeLangStatus:g=>{e({url:Pe(`langs/${g.xid}`),data:{name:g.name,key:g.key,enabled:g.enabled,_method:"PUT"},successMessage:_("langs.status_updated"),success:b=>{}})},loading:l}}},mh={class:"table-responsive"};function ch(e,l,c,n,h,y){const u=o("DeleteOutlined"),d=o("a-button"),m=o("a-space"),p=o("a-col"),_=o("a-select-option"),f=o("a-select"),g=o("a-input-search"),b=o("a-input-group"),v=o("a-row"),k=o("admin-page-filters"),$=o("AddEdit"),A=o("a-avatar"),O=o("a-list-item-meta"),F=o("a-list-item"),P=o("a-switch"),E=o("EditOutlined"),U=o("DownloadOutlined"),R=o("a-typography-link"),L=o("a-table"),K=o("admin-page-table-content");return r(),S(I,null,[t(k,null,{default:a(()=>[t(v,{gutter:[16,16]},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(m,null,{default:a(()=>[de(e.$slots,"actionButtons"),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("translations_edit")||n.permsArray.includes("admin"))?(r(),C(d,{key:0,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:3})]),_:3}),t(p,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(v,{gutter:[16,16],justify:"end"},{default:a(()=>[t(p,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[t(b,{compact:""},{default:a(()=>[t(f,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=V=>e.table.searchColumn=V),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,V=>(r(),C(_,{key:V.key},{default:a(()=>[i(s(V.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(g,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=V=>e.table.searchString=V),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:3})]),_:3}),t(K,null,{default:a(()=>[t($,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(v,null,{default:a(()=>[t(p,{span:24},{default:a(()=>[w("div",mh,[t(L,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:V=>({disabled:!((c.panelType=="admin"&&(n.permsArray.includes("translations_delete")||n.permsArray.includes("admin"))||c.panelType=="superadmin")&&V.key!="en"),name:V.xid})},columns:n.columns,"row-key":V=>V.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading||n.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:V,record:q})=>[V.dataIndex==="name"?(r(),C(F,{key:0},{default:a(()=>[t(O,null,{title:a(()=>[i(s(q.name),1)]),avatar:a(()=>[t(A,{shape:"square",size:"small",src:q.image_url},null,8,["src"])]),_:2},1024)]),_:2},1024)):D("",!0),V.dataIndex==="enabled"?(r(),C(P,{key:1,checked:q.enabled,"onUpdate:checked":B=>q.enabled=B,checkedValue:1,unCheckedValue:0,onChange:B=>n.changeLangStatus(q),size:"small",disabled:c.panelType=="admin"&&!(n.permsArray.includes("translations_edit")||n.permsArray.includes("admin"))||q.key=="en"},null,8,["checked","onUpdate:checked","onChange","disabled"])):D("",!0),V.dataIndex==="action"?(r(),S(I,{key:2},[(c.panelType=="admin"&&(n.permsArray.includes("translations_edit")||n.permsArray.includes("admin"))||c.panelType=="superadmin")&&q.key!="en"?(r(),C(d,{key:0,type:"primary",onClick:B=>e.editItem(q),style:{"margin-left":"4px"}},{icon:a(()=>[t(E)]),_:2},1032,["onClick"])):D("",!0),(c.panelType=="admin"&&(n.permsArray.includes("translations_delete")||n.permsArray.includes("admin"))||c.panelType=="superadmin")&&q.key!="en"?(r(),C(d,{key:1,type:"primary",onClick:B=>e.showDeleteConfirm(q.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(u)]),_:2},1032,["onClick"])):D("",!0),t(R,{href:`${n.downloadLangCsvUrl}/${q.xid}`,target:"_blank"},{default:a(()=>[t(d,{type:"primary",style:{"margin-left":"4px"}},{icon:a(()=>[t(U)]),_:1})]),_:2},1032,["href"])],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const ph=W(uh,[["render",ch]]),_h={components:{PlusOutlined:ne,SettingSidebar:Ne,AdminPageHeader:ge,LanguageSettings:ph,ImportTranslation:Ft},setup(){const{permsArray:e,appType:l}=J(),c=T(null),n=window.config.translatioins_sample_file;return{permsArray:e,appType:l,langSettingRef:c,addItem:()=>{c.value.addItem()},sampleFileUrl:n}}};function fh(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("PlusOutlined"),v=o("a-button"),k=o("ImportTranslation"),$=o("a-space"),A=o("LanguageSettings"),O=o("a-row");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.languages"),onBack:l[0]||(l[0]=()=>e.$router.push({name:"admin.settings.translations.index"})),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[t(d,{to:{name:"admin.settings.translations.index"}},{default:a(()=>[i(s(e.$t("menu.translations")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.languages")),1)]),_:1})]),_:1})]),_:1}),t(O,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(A,{ref:"langSettingRef"},{actionButtons:a(()=>[n.permsArray.includes("translations_create")||n.permsArray.includes("admin")?(r(),C($,{key:0},{default:a(()=>[t(v,{type:"primary",onClick:n.addItem},{default:a(()=>[t(b),i(" "+s(e.$t("langs.add")),1)]),_:1},8,["onClick"]),n.appType=="non-saas"?(r(),C(k,{key:0,pageTitle:e.$t("translations.import_translations"),sampleFileUrl:n.sampleFileUrl,importUrl:"translations/import"},null,8,["pageTitle","sampleFileUrl"])):D("",!0)]),_:1})):D("",!0)]),_:1},512)]),_:1})]),_:1})],64)}const gh=W(_h,[["render",fh]]),yh=Z({props:["x_warehouse_id","status"],emits:["success"],setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n}=ve(),{t:h}=te();return{changeStatus:u=>{const d={warehouse_id:e.x_warehouse_id,status:u?1:0};c({url:"warehouses/update-online-store-status",data:d,successMessage:h("warehouse.online_store_status_updated"),success:m=>{l("success"),store.dispatch("auth/updateAllWarehouses")}})},loading:n}}});function hh(e,l,c,n,h,y){const u=o("a-switch");return r(),C(u,{checked:e.status==1,size:"small",onClick:e.changeStatus,loading:e.loading},null,8,["checked","onClick","loading"])}const Po=W(yh,[["render",hh]]),bh={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:Fa,SettingSidebar:Ne,AdminPageHeader:ge,OnlineStoreStatus:Po},setup(){const{permsArray:e,appSetting:l}=J(),{url:c,addEditUrl:n,initData:h,columns:y,filterableColumns:u}=Ua(),d=Ke();return x(()=>{d.tableUrl.value={url:c},d.table.filterableColumns=u,d.fetch({page:1}),d.crudUrl.value=n,d.langKey.value="warehouse",d.initData.value={...h},d.formData.value={...h}}),{appSetting:l,permsArray:e,columns:y,...d,filterableColumns:u}}},vh={class:"table-responsive"},kh=w("br",null,null,-1);function wh(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("PlusOutlined"),v=o("a-button"),k=o("DeleteOutlined"),$=o("a-space"),A=o("a-select-option"),O=o("a-select"),F=o("a-input-search"),P=o("a-input-group"),E=o("a-row"),U=o("admin-page-filters"),R=o("AddEdit"),L=o("a-image"),K=o("OnlineStoreStatus"),V=o("EditOutlined"),q=o("a-table"),B=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.warehouses"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.warehouses")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(U,null,{default:a(()=>[t(E,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t($,null,{default:a(()=>[n.permsArray.includes("warehouses_create")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(b),i(" "+s(e.$t("warehouse.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("warehouses_delete")||n.permsArray.includes("admin"))?(r(),C(v,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(E,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[t(P,{compact:""},{default:a(()=>[t(O,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=Y=>e.table.searchColumn=Y),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,Y=>(r(),C(A,{key:Y.key},{default:a(()=>[i(s(Y.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(F,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=Y=>e.table.searchString=Y),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(B,null,{default:a(()=>[t(R,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(E,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",vh,[t(q,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:Y=>({disabled:!((n.permsArray.includes("warehouses_delete")||n.permsArray.includes("admin"))&&n.appSetting.x_warehouse_id!=Y.xid),name:Y.xid})},columns:n.columns,"row-key":Y=>Y.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:Y,record:N})=>[Y.dataIndex==="logo"?(r(),C(L,{key:0,width:48,src:N.logo_url},null,8,["src"])):D("",!0),Y.dataIndex==="online_store_enabled"?(r(),S(I,{key:1},[t(K,{status:N.online_store_enabled,x_warehouse_id:N.xid,onSuccess:e.fetch},null,8,["status","x_warehouse_id","onSuccess"]),N.online_store_enabled==1?(r(),S(I,{key:0},[kh,t(d,{to:{name:"front.homepage",params:{warehouse:N.slug}},target:"_blank"},{default:a(()=>[t(v,{type:"link",class:"p-0 mt-5"},{default:a(()=>[i(s(e.$t("warehouse.view_online_store")),1)]),_:1})]),_:2},1032,["to"])],64)):D("",!0)],64)):D("",!0),Y.dataIndex==="action"?(r(),S(I,{key:2},[n.permsArray.includes("warehouses_edit")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:le=>e.editItem(N),style:{"margin-left":"4px"}},{icon:a(()=>[t(V)]),_:2},1032,["onClick"])):D("",!0),(n.permsArray.includes("warehouses_delete")||n.permsArray.includes("admin"))&&n.appSetting.x_warehouse_id!=N.xid?(r(),C(v,{key:1,type:"primary",onClick:le=>e.showDeleteConfirm(N.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Ch=W(bh,[["render",wh]]);const Sh={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:ko,SettingSidebar:Ne,AdminPageHeader:ge},setup(){const{permsArray:e}=J(),{url:l,addEditUrl:c,initData:n,columns:h,filterableColumns:y,preFetchData:u,getPreFetchData:d}=vo(),m=Ke();return x(()=>{d(),m.tableUrl.value={url:l,filters:""},m.table.filterableColumns=y,m.fetch({page:1}),m.crudUrl.value=c,m.langKey.value="role",m.initData.value={...n},m.formData.value={...n}}),{permsArray:e,columns:h,...m,filterableColumns:y,preFetchData:u}}},$h={class:"table-responsive"};function Ah(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("PlusOutlined"),v=o("a-button"),k=o("DeleteOutlined"),$=o("a-space"),A=o("a-row"),O=o("admin-page-filters"),F=o("AddEdit"),P=o("EditOutlined"),E=o("a-table"),U=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.roles"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.roles")),1)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(O,null,{default:a(()=>[t(A,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t($,null,{default:a(()=>[n.permsArray.includes("roles_create")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(b),i(" "+s(e.$t("role.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("roles_delete")||n.permsArray.includes("admin"))?(r(),C(v,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),t(U,null,{default:a(()=>[t(F,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(A,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",$h,[t(E,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:R=>({disabled:!((n.permsArray.includes("roles_delete")||n.permsArray.includes("admin"))&&R.name!="admin"),name:R.xid})},columns:n.columns,"row-key":R=>R.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:R,record:L})=>[R.dataIndex==="action"?(r(),S(I,{key:0},[(n.permsArray.includes("roles_edit")||n.permsArray.includes("admin"))&&L.name!="admin"?(r(),C(v,{key:0,type:"primary",onClick:K=>e.editItem(L),style:{"margin-left":"4px"}},{icon:a(()=>[t(P)]),_:2},1032,["onClick"])):D("",!0),(n.permsArray.includes("roles_delete")||n.permsArray.includes("admin"))&&L.name!="admin"?(r(),C(v,{key:1,type:"primary",onClick:K=>e.showDeleteConfirm(L.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Dh=W(Sh,[["render",Ah]]),Th={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:fo,SettingSidebar:Ne,AdminPageHeader:ge,ExclamationCircleOutlined:Ae},setup(){const{permsArray:e}=J(),{url:l,addEditUrl:c,initData:n,columns:h,filterableColumns:y,hashableColumns:u}=_o(),d=Ke();te(),x(()=>{d.crudUrl.value=c,d.langKey.value="tax",d.initData.value={...n},d.formData.value={...n},d.hashableColumns.value=[...u],d.table.filterableColumns=y,m()});const m=()=>{d.tableUrl.value={url:l},d.fetch({page:1})};return{permsArray:e,columns:h,...d,filterableColumns:y}}},Eh={class:"table-responsive"},Oh={key:0},Ih={key:1};function Ph(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("PlusOutlined"),v=o("a-button"),k=o("DeleteOutlined"),$=o("a-space"),A=o("a-select-option"),O=o("a-select"),F=o("a-input-search"),P=o("a-input-group"),E=o("a-row"),U=o("admin-page-filters"),R=o("AddEdit"),L=o("EditOutlined"),K=o("a-table"),V=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.taxes"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.taxes")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(U,null,{default:a(()=>[t(E,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t($,null,{default:a(()=>[n.permsArray.includes("taxes_create")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(b),i(" "+s(e.$t("tax.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("taxes_delete")||n.permsArray.includes("admin"))?(r(),C(v,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(E,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[t(P,{compact:""},{default:a(()=>[t(O,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=q=>e.table.searchColumn=q),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,q=>(r(),C(A,{key:q.key},{default:a(()=>[i(s(q.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(F,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=q=>e.table.searchString=q),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(R,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(E,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",Eh,[t(K,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:q=>({disabled:!((n.permsArray.includes("taxes_delete")||n.permsArray.includes("admin"))&&(!q.children||q.children.length==0)),name:q.xid})},columns:n.columns,"row-key":q=>q.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:q,record:B})=>[q.dataIndex==="tax_type"?(r(),S(I,{key:0},[i(s(B.tax_type=="single"?e.$t("tax.single"):e.$t("tax.multiple")),1)],64)):D("",!0),q.dataIndex==="rate"?(r(),S(I,{key:1},[B.tax_type=="single"?(r(),S("span",Oh,[t(E,{gutter:[16,16],style:{"margin-top":"10px"}},{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[i(s(B.rate+"%"),1)]),_:2},1024)]),_:2},1024)])):(r(),S("span",Ih,[(r(!0),S(I,null,Q(B.multiple_tax,Y=>(r(),C(E,{gutter:[16,16],key:Y.xid,style:{"margin-top":"10px"}},{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:24,style:{"margin-top":"5px"}},{default:a(()=>[i(s(`${Y.name}:  ${Y.rate}%`),1)]),_:2},1024)]),_:2},1024))),128))]))],64)):D("",!0),q.dataIndex==="action"?(r(),S(I,{key:2},[n.permsArray.includes("taxes_edit")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:Y=>e.editItem(B),style:{"margin-left":"4px"}},{icon:a(()=>[t(L)]),_:2},1032,["onClick"])):D("",!0),(n.permsArray.includes("taxes_delete")||n.permsArray.includes("admin"))&&(!B.children||B.children.length==0)?(r(),C(v,{key:1,type:"primary",onClick:Y=>e.showDeleteConfirm(B.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Uh=W(Th,[["render",Ph]]),Fh={props:{panelType:{type:String,default:"admin"}},components:{EditOutlined:$e,DeleteOutlined:fe,AddEdit:Ka},setup(e){const{permsArray:l,appSetting:c}=J(),{url:n,addEditUrl:h,initData:y,columns:u,filterableColumns:d}=Ra(e.panelType),m=Ke();return x(()=>{m.tableUrl.value={url:n},m.table.filterableColumns=d,m.fetch({page:1}),m.crudUrl.value=h,m.langKey.value="currency",m.initData.value={...y},m.formData.value={...y}}),{permsArray:l,appSetting:c,columns:u,...m,filterableColumns:d}}},qh={class:"table-responsive"};function Mh(e,l,c,n,h,y){const u=o("DeleteOutlined"),d=o("a-button"),m=o("a-space"),p=o("a-col"),_=o("a-select-option"),f=o("a-select"),g=o("a-input-search"),b=o("a-input-group"),v=o("a-row"),k=o("admin-page-filters"),$=o("AddEdit"),A=o("EditOutlined"),O=o("a-table"),F=o("admin-page-table-content");return r(),S(I,null,[t(k,null,{default:a(()=>[t(v,{gutter:[16,16]},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(m,null,{default:a(()=>[de(e.$slots,"actionButtons"),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("currencies_delete")||n.permsArray.includes("admin"))?(r(),C(d,{key:0,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:3})]),_:3}),t(p,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(v,{gutter:[16,16],justify:"end"},{default:a(()=>[t(p,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[t(b,{compact:""},{default:a(()=>[t(f,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=P=>e.table.searchColumn=P),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,P=>(r(),C(_,{key:P.key},{default:a(()=>[i(s(P.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(g,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=P=>e.table.searchString=P),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:3})]),_:3}),t(F,null,{default:a(()=>[t($,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(v,null,{default:a(()=>[t(p,{span:24},{default:a(()=>[w("div",qh,[t(O,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:P=>({disabled:!((c.panelType=="admin"&&(n.permsArray.includes("currencies_delete")||n.permsArray.includes("admin"))||c.panelType=="superadmin")&&n.appSetting.x_currency_id!=P.xid),name:P.xid})},columns:n.columns,"row-key":P=>P.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:P,record:E})=>[P.dataIndex==="action"?(r(),S(I,{key:0},[c.panelType=="admin"&&(n.permsArray.includes("currencies_edit")||n.permsArray.includes("admin"))||c.panelType=="superadmin"?(r(),C(d,{key:0,type:"primary",onClick:U=>e.editItem(E),style:{"margin-left":"4px"}},{icon:a(()=>[t(A)]),_:2},1032,["onClick"])):D("",!0),(c.panelType=="admin"&&(n.permsArray.includes("currencies_delete")||n.permsArray.includes("admin"))||c.panelType=="superadmin")&&n.appSetting.x_currency_id!=E.xid?(r(),C(d,{key:1,type:"primary",onClick:U=>e.showDeleteConfirm(E.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(u)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const Rh=W(Fh,[["render",Mh]]),Kh={components:{PlusOutlined:ne,SettingSidebar:Ne,AdminPageHeader:ge,CurrencySettings:Rh},setup(){const{permsArray:e}=J(),l=T(null);return{permsArray:e,currencySettingRef:l,addItem:()=>{l.value.addItem()}}}};function Vh(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("PlusOutlined"),v=o("a-button"),k=o("CurrencySettings"),$=o("a-row");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.currencies"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.currencies")),1)]),_:1})]),_:1})]),_:1}),t($,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(k,{ref:"currencySettingRef"},{actionButtons:a(()=>[n.permsArray.includes("currencies_create")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:n.addItem},{default:a(()=>[t(b),i(" "+s(e.$t("currency.add")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1},512)]),_:1})]),_:1})],64)}const zh=W(Kh,[["render",Vh]]),Lh={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:po,SettingSidebar:Ne,AdminPageHeader:ge},setup(){const{permsArray:e}=J(),{url:l,addEditUrl:c,initData:n,columns:h,filterableColumns:y}=co(),u=Ke();return x(()=>{u.tableUrl.value={url:l},u.table.filterableColumns=y,u.fetch({page:1}),u.crudUrl.value=c,u.langKey.value="unit",u.initData.value={...n},u.formData.value={...n}}),{permsArray:e,columns:h,...u,filterableColumns:y}}},Bh={class:"table-responsive"};function Wh(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("PlusOutlined"),v=o("a-button"),k=o("DeleteOutlined"),$=o("a-space"),A=o("a-select-option"),O=o("a-select"),F=o("a-input-search"),P=o("a-input-group"),E=o("a-row"),U=o("admin-page-filters"),R=o("AddEdit"),L=o("EditOutlined"),K=o("a-table"),V=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.units"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.units")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(U,null,{default:a(()=>[t(E,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t($,null,{default:a(()=>[n.permsArray.includes("units_create")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(b),i(" "+s(e.$t("unit.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("units_delete")||n.permsArray.includes("admin"))?(r(),C(v,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(E,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[t(P,{compact:""},{default:a(()=>[t(O,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=q=>e.table.searchColumn=q),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,q=>(r(),C(A,{key:q.key},{default:a(()=>[i(s(q.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(F,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=q=>e.table.searchString=q),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(R,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(E,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",Bh,[t(K,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:q=>({disabled:!(q.is_deletable&&(n.permsArray.includes("units_delete")||n.permsArray.includes("admin"))),name:q.xid})},columns:n.columns,"row-key":q=>q.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:q,record:B})=>[q.dataIndex==="action"?(r(),S(I,{key:0},[n.permsArray.includes("units_edit")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:Y=>e.editItem(B),style:{"margin-left":"4px"}},{icon:a(()=>[t(L)]),_:2},1032,["onClick"])):D("",!0),B.is_deletable&&(n.permsArray.includes("units_delete")||n.permsArray.includes("admin"))?(r(),C(v,{key:1,type:"primary",onClick:Y=>e.showDeleteConfirm(B.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const jh=W(Lh,[["render",Wh]]),Hh={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:Ia,SettingSidebar:Ne,AdminPageHeader:ge},setup(){const{permsArray:e}=J(),{url:l,addEditUrl:c,initData:n,columns:h,filterableColumns:y}=Oa(),u=Ke();return x(()=>{u.tableUrl.value={url:l},u.table.filterableColumns=y,u.fetch({page:1}),u.crudUrl.value=c,u.langKey.value="payment_mode",u.initData.value={...n},u.formData.value={...n}}),{permsArray:e,columns:h,...u,filterableColumns:y}}},Nh={class:"table-responsive"};function Yh(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("PlusOutlined"),v=o("a-button"),k=o("DeleteOutlined"),$=o("a-space"),A=o("a-select-option"),O=o("a-select"),F=o("a-input-search"),P=o("a-input-group"),E=o("a-row"),U=o("admin-page-filters"),R=o("AddEdit"),L=o("EditOutlined"),K=o("a-table"),V=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.payment_modes"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.payment_modes")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(U,null,{default:a(()=>[t(E,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t($,null,{default:a(()=>[n.permsArray.includes("payment_modes_create")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(b),i(" "+s(e.$t("payment_mode.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("payment_modes_delete")||n.permsArray.includes("admin"))?(r(),C(v,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(E,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[t(P,{compact:""},{default:a(()=>[t(O,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=q=>e.table.searchColumn=q),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,q=>(r(),C(A,{key:q.key},{default:a(()=>[i(s(q.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(F,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=q=>e.table.searchString=q),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(R,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(E,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",Nh,[t(K,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:q=>({disabled:!1,name:q.xid})},columns:n.columns,"row-key":q=>q.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:q,record:B})=>[q.dataIndex==="mode_type"?(r(),S(I,{key:0},[i(s(e.$t(`payment_mode.${B.mode_type}`)),1)],64)):D("",!0),q.dataIndex==="action"?(r(),S(I,{key:1},[n.permsArray.includes("payment_modes_edit")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:Y=>e.editItem(B),style:{"margin-left":"4px"}},{icon:a(()=>[t(L)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("payment_modes_delete")||n.permsArray.includes("admin")?(r(),C(v,{key:1,type:"primary",onClick:Y=>e.showDeleteConfirm(B.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Gh=W(Hh,[["render",Yh]]),Jh=()=>{const e="custom-fields?fields=id,xid,name,value,type",l="custom-fields",{t:c}=te(),n={name:"",value:"",type:"text"},h=[{title:c("custom_field.name"),dataIndex:"name"},{title:c("common.action"),dataIndex:"action"}],y=[{key:"name",value:c("custom_field.name")}];return{url:e,addEditUrl:l,initData:n,columns:h,filterableColumns:y}},Qh=Z({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve();return{loading:n,rules:h,onClose:()=>{h.value={},l("closed")},onSubmit:()=>{c({url:e.url,data:e.formData,successMessage:e.successMessage,success:d=>{l("addEditSuccess",d.xid)}})},drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function Xh(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-form"),f=o("SaveOutlined"),g=o("a-button"),b=o("a-modal");return r(),C(b,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(g,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:a(()=>[t(f)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(g,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(_,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("custom_field.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:a(()=>[t(u,{value:e.formData.name,"onUpdate:value":l[0]||(l[0]=v=>e.formData.name=v),placeholder:e.$t("common.placeholder_default_text",[e.$t("custom_field.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const Zh=W(Qh,[["render",Xh]]),xh={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:Zh,SettingSidebar:Ne,AdminPageHeader:ge},setup(){const{permsArray:e}=J(),{url:l,addEditUrl:c,initData:n,columns:h,filterableColumns:y}=Jh(),u=Ke();return x(()=>{u.tableUrl.value={url:l},u.table.filterableColumns=y,u.fetch({page:1}),u.crudUrl.value=c,u.langKey.value="custom_field",u.initData.value={...n},u.formData.value={...n}}),{permsArray:e,columns:h,...u,filterableColumns:y}}},eb={class:"table-responsive"};function tb(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("PlusOutlined"),v=o("a-button"),k=o("DeleteOutlined"),$=o("a-space"),A=o("a-select-option"),O=o("a-select"),F=o("a-input-search"),P=o("a-input-group"),E=o("a-row"),U=o("admin-page-filters"),R=o("AddEdit"),L=o("EditOutlined"),K=o("a-table"),V=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.custom_fields"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.custom_fields")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(U,null,{default:a(()=>[t(E,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t($,null,{default:a(()=>[n.permsArray.includes("custom_fields_create")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(b),i(" "+s(e.$t("custom_field.add")),1)]),_:1},8,["onClick"])):D("",!0),e.table.selectedRowKeys.length>0&&(n.permsArray.includes("custom_fields_delete")||n.permsArray.includes("admin"))?(r(),C(v,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(k)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(E,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[t(P,{compact:""},{default:a(()=>[t(O,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=q=>e.table.searchColumn=q),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,q=>(r(),C(A,{key:q.key},{default:a(()=>[i(s(q.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(F,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=q=>e.table.searchString=q),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(V,null,{default:a(()=>[t(R,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(E,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",eb,[t(K,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:q=>({disabled:!1,name:q.xid})},columns:n.columns,"row-key":q=>q.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:q,record:B})=>[q.dataIndex==="action"?(r(),S(I,{key:0},[n.permsArray.includes("custom_fields_edit")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:Y=>e.editItem(B),style:{"margin-left":"4px"}},{icon:a(()=>[t(L)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("custom_fields_delete")||n.permsArray.includes("admin")?(r(),C(v,{key:1,type:"primary",onClick:Y=>e.showDeleteConfirm(B.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const ab=W(xh,[["render",tb]]),nb=Z({emits:["fetchTranslationsSuccesss"],components:{SyncOutlined:vt},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n}=ve(),{t:h}=te();return{loading:n,refetchTranslations:()=>{c({url:Pe("translations/refetch"),data:{},successMessage:h("translations.fetched_successfully"),success:u=>{l("fetchTranslationsSuccesss")}})}}}});function ob(e,l,c,n,h,y){const u=o("SyncOutlined"),d=o("a-button");return r(),C(d,{onClick:e.refetchTranslations,loading:e.loading,style:{width:"100%"}},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("translations.fetch_new_translations")),1)]),_:1},8,["onClick","loading"])}const lb=W(nb,[["render",ob]]);function sb(e={locale:"en",warnHtmlMessage:!1}){const l=Il(e);return rb(l,e.locale),l}function rb(e,l){e.mode==="legacy"?e.global.locale=l:e.global.locale.value=l,document.querySelector("html").setAttribute("lang",l)}async function db(e,l){const c=await axiosBase.get("lang-trans");Uo(c,e,l)}function Uo(e,l,c){const n={};return e.data.data.map(h=>{n[h.key]={},h.translations.map(y=>{n[h.key][y.group]==null&&(n[h.key][y.group]={}),n[h.key][y.group][y.key]=y.value})}),l.global.setLocaleMessage(c,n[c]),va()}const ib={components:{FetchNewTranslation:lb,LangAddButton:Va,EditOutlined:$e,CheckOutlined:bt},setup(){const{permsArray:e}=J(),l=T([]),c=T([]),n=T([]),h=T(void 0),y=T([]),u=ke(),d=pe(()=>u.state.auth.lang),m=Se({data:[]}),p=Se({}),_=T(0),f=(A,O)=>{p[A[`${O}_id`]]={id:A[`${O}_id`],value:A[O]}},g=A=>{axiosAdmin.post(Pe(`translations/${A}`),{value:p[A].value,_method:"PUT"}).then(()=>{k(),delete p[A]})};var b={};const v=()=>{const A=[{title:"Group",key:"group",dataIndex:"group",fixed:"left"}],O=[];l.value.map(U=>{A.push({title:U.name,key:U.key,dataIndex:U.key}),O.push({key:U.key})}),n.value=O,c.value=A;const F=[];l.value.map(U=>{b[U.key]={},U.translations.map(R=>{b[U.key][R.group]==null&&(b[U.key][R.group]={},U.key=="en"&&F.push(R.group)),b[U.key][R.group][R.key]={id:R.xid,value:R.value}})}),h.value===void 0&&(h.value=F[0]);const P=b.en[h.value],E=[];Object.keys(P).forEach(U=>{const R={};A.map(L=>{L.key=="group"?R[L.key]=U:(R[L.key]=b[L.key][h.value][U]&&b[L.key][h.value][U].value?b[L.key][h.value][U].value:"",R[`${L.key}_id`]=b[L.key][h.value][U]&&b[L.key][h.value][U].id?b[L.key][h.value][U].id:"")}),E.push(R)}),y.value=F,m.data=E};x(()=>{k()});const k=()=>{axiosAdmin.get("lang-trans").then(A=>{l.value=A.data.data,Uo(A,i18n,d.value),v()})};return{columns:c,table:m,editableData:p,activeTab:_,langKeys:n,group:h,groupKeys:y,getData:k,edit:f,save:g,permsArray:e,langAdded:()=>{k()}}}},ub={key:0,class:"editable-cell"},mb={key:0,class:"editable-cell-input-wrapper"},cb={key:1,class:"editable-cell-text-wrapper"};function pb(e,l,c,n,h,y){const u=o("a-col"),d=o("a-select-option"),m=o("a-select"),p=o("FetchNewTranslation"),_=o("a-row"),f=o("admin-page-filters"),g=o("a-input"),b=o("check-outlined"),v=o("edit-outlined"),k=o("a-table"),$=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{default:a(()=>[t(_,{gutter:[16,16]},{default:a(()=>[t(u,{xs:24,sm:24,md:12,lg:10,xl:12},{default:a(()=>[de(e.$slots,"actionButtons")]),_:3}),t(u,{xs:24,sm:24,md:12,lg:14,xl:12},{default:a(()=>[t(_,{gutter:[16,16],justify:"end"},{default:a(()=>[t(u,{xs:24,sm:24,md:12,lg:12,xl:8},{default:a(()=>[t(m,{value:n.group,"onUpdate:value":l[0]||(l[0]=A=>n.group=A),"show-search":"",placeholder:"Select group...",style:{width:"100%"},onChange:n.getData},{default:a(()=>[(r(!0),S(I,null,Q(n.groupKeys,A=>(r(),C(d,{key:A,value:A},{default:a(()=>[i(s(A),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","onChange"])]),_:1}),t(u,{xs:24,sm:24,md:12,lg:12,xl:8},{default:a(()=>[t(p,{onFetchTranslationsSuccesss:n.getData},null,8,["onFetchTranslationsSuccesss"])]),_:1})]),_:1})]),_:1})]),_:3})]),_:3}),t($,null,{default:a(()=>[t(k,{columns:n.columns,"row-key":A=>A.group,"data-source":n.table.data,pagination:!1,bordered:"",size:"middle"},{bodyCell:a(({column:A,text:O,record:F})=>[(r(!0),S(I,null,Q(n.langKeys,P=>(r(),S(I,{key:P},[A.dataIndex===P.key?(r(),S("div",ub,[n.editableData[F[`${P.key}_id`]]?(r(),S("div",mb,[t(g,{value:n.editableData[F[`${P.key}_id`]].value,"onUpdate:value":E=>n.editableData[F[`${P.key}_id`]].value=E,onPressEnter:E=>n.save(F[`${P.key}_id`])},null,8,["value","onUpdate:value","onPressEnter"]),t(b,{class:"editable-cell-icon-check",onClick:E=>n.save(F[`${P.key}_id`])},null,8,["onClick"])])):(r(),S("div",cb,[i(s(O||" ")+" ",1),t(v,{class:"editable-cell-icon",onClick:E=>n.edit(F,P.key)},null,8,["onClick"])]))])):D("",!0)],64))),128))]),_:1},8,["columns","row-key","data-source"])]),_:1})],64)}const _b=W(ib,[["render",pb]]),fb={components:{EyeOutlined:Ze,SettingSidebar:Ne,AdminPageHeader:ge,TranslationsSettings:_b,LangAddButton:Va,ImportTranslation:Ft},setup(){const{permsArray:e,appType:l}=J(),c=T(null),n=window.config.translatioins_sample_file;return{langAdded:()=>{c.value.getData()},appType:l,permsArray:e,transSettingRef:c,sampleFileUrl:n}}};function gb(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("LangAddButton"),v=o("ImportTranslation"),k=o("EyeOutlined"),$=o("a-button"),A=o("a-space"),O=o("TranslationsSettings"),F=o("a-row");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.translations"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.translations")),1)]),_:1})]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(O,{ref:"transSettingRef"},{actionButtons:a(()=>[t(A,null,{default:a(()=>[n.permsArray.includes("translations_create")||n.permsArray.includes("admin")?(r(),C(b,{key:0,onOnAddSuccess:n.langAdded,btnType:"primary",tooltip:!1},{default:a(()=>[i(s(e.$t("langs.add")),1)]),_:1},8,["onOnAddSuccess"])):D("",!0),n.appType=="non-saas"?(r(),C(v,{key:1,pageTitle:e.$t("translations.import_translations"),sampleFileUrl:n.sampleFileUrl,importUrl:"translations/import",onOnUploadSuccess:n.langAdded},null,8,["pageTitle","sampleFileUrl","onOnUploadSuccess"])):D("",!0),t($,{type:"primary",onClick:l[0]||(l[0]=P=>e.$router.push({name:"admin.settings.langs.index"}))},{default:a(()=>[t(k),i(" "+s(e.$t("langs.view_all_langs")),1)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})],64)}const yb=W(fb,[["render",gb]]),hb=Z({props:["module"],emits:["updateSuccess"],setup(e,{emit:l}){const c=T(!1),n=T(!1),h=ke(),{t:y}=te();return x(()=>{!e.module.verified||e.module.other_domain_verified?c.value=!1:c.value=e.module.status}),{checked:c,loading:n,updateStatus:(d,m)=>{axiosAdmin.post(Pe("modules/update-status"),{verified_name:e.module.verified_name,checked:d}).then(p=>{Ee.success({placement:"bottomRight",message:y("common.success"),description:y("module.module_status_updated")}),h.commit("auth/updateActiveModules",p.data.enabled_modules),window.config.modules=p.data.enabled_modules,l("updateSuccess")})}}}}),bb={key:0},vb=["innerHTML"],kb={key:1};function wb(e,l,c,n,h,y){const u=o("a-switch"),d=o("a-tooltip");return e.module.verified&&e.module.installed?(r(),S("span",bb,[t(d,null,We({default:a(()=>[t(u,{checked:e.checked,"onUpdate:checked":l[0]||(l[0]=m=>e.checked=m),loading:e.loading,onChange:e.updateStatus,disabled:!e.module.verified||e.module.other_domain_verified,size:"small"},null,8,["checked","loading","onChange","disabled"])]),_:2},[!e.module.verified||e.module.other_domain_verified?{name:"title",fn:a(()=>[w("span",{innerHTML:e.$t("messages.first_verify_module_message")},null,8,vb)]),key:"0"}:void 0]),1024)])):(r(),S("span",kb," - "))}const Cb=W(hb,[["render",wb]]),Sb=Z({props:["module"],emits:["verifySuccess"],components:{CheckOutlined:bt,InfoCircleOutlined:Pt},setup(e,{emit:l}){const c=T(!1),n=window.location.host,{rules:h,purchaseCode:y,errorMessage:u,successMessage:d,loading:m,verifyPurchase:p,productName:_,version:f}=Ea();return x(()=>{_.value=e.module.verified_name,f.value=e.module.current_version}),{visible:c,showModal:()=>{c.value=!0},handleCancel:()=>{y.value="",c.value=!1},domain:n,rules:h,purchaseCode:y,loading:m,verify:()=>p({success:k=>{l("verifySuccess"),y.value="",c.value=!1}}),errorMessage:u,successMessage:d}}}),$b={key:0},Ab=w("br",null,null,-1),Db=["innerHTML"],Tb=["innerHTML"];function Eb(e,l,c,n,h,y){const u=o("a-tag"),d=o("a-button"),m=o("a-typography-text"),p=o("a-alert"),_=o("a-col"),f=o("a-row"),g=o("InfoCircleOutlined"),b=o("a-typography-link"),v=o("a-typography-paragraph"),k=o("a-form-item"),$=o("a-input"),A=o("a-form"),O=o("CheckOutlined"),F=o("a-modal");return r(),S(I,null,[e.module.other_domain_verified?(r(),S("div",$b,[t(u,{color:"red"},{default:a(()=>[i(s(e.$t("messages.other_domain_linked")),1)]),_:1}),Ab,t(d,{type:"link",class:"p-0 mt-10",onClick:e.showModal},{default:a(()=>[i(s(e.$t("module.verify_purchase_code")),1)]),_:1},8,["onClick"])])):e.module.verified?(r(),C(m,{key:1,type:"success",strong:""},{default:a(()=>[i(s(e.$t("module.verified")),1)]),_:1})):e.module.is_free?(r(),C(m,{key:2,type:"success",strong:""},{default:a(()=>[i(" - ")]),_:1})):(r(),C(d,{key:3,type:"link",class:"p-0",onClick:e.showModal},{default:a(()=>[i(s(e.$t("module.verify_purchase_code")),1)]),_:1},8,["onClick"])),t(F,{open:e.visible,"onUpdate:open":l[1]||(l[1]=P=>e.visible=P),title:e.$t("module.verify_purchase_code"),maskClosable:!1,onCancel:e.handleCancel},{footer:a(()=>[t(d,{key:"submit",type:"primary",onClick:e.verify,loading:e.loading},{icon:a(()=>[t(O)]),default:a(()=>[i(" "+s(e.$t("common.verify")),1)]),_:1},8,["onClick","loading"]),t(d,{key:"back",onClick:e.handleCancel},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[e.successMessage!=""?(r(),C(p,{key:0,class:"mb-10",type:"success","show-icon":"",banner:""},{message:a(()=>[w("span",{innerHTML:e.successMessage},null,8,Db)]),_:1})):D("",!0),e.errorMessage!=""?(r(),C(p,{key:1,class:"mb-10",type:"error","show-icon":"",banner:""},{message:a(()=>[w("span",{innerHTML:e.errorMessage},null,8,Tb)]),_:1})):D("",!0),e.module.other_domain_verified&&e.errorMessage==""?(r(),C(f,{key:2,class:"mb-10"},{default:a(()=>[t(_,{span:24},{default:a(()=>[t(p,{type:"error","show-icon":""},{message:a(()=>[i(s(e.$t("messages.other_domain_linked_with_purchase_code")),1)]),_:1})]),_:1})]),_:1})):D("",!0),t(f,{class:"mb-10"},{default:a(()=>[t(_,{span:24},{default:a(()=>[t(v,null,{default:a(()=>[w("blockquote",null,[t(b,{href:"https://help.market.envato.com/hc/en-us/articles/202822600-Where-Is-My-Purchase-Code-",target:"_blank"},{default:a(()=>[t(g),i(" "+s(e.$t("messages.click_here_to_find_purchase_code")),1)]),_:1})])]),_:1})]),_:1})]),_:1}),t(A,{layout:"vertical"},{default:a(()=>[t(k,{label:e.$t("common.domain"),name:"domain"},{default:a(()=>[t(m,{strong:""},{default:a(()=>[i(s(e.domain),1)]),_:1})]),_:1},8,["label"]),t(k,{label:e.$t("common.purchase_code"),name:"purchase_code",help:e.rules.purchase_code?e.rules.purchase_code.message:null,validateStatus:e.rules.purchase_code?"error":null,class:"required"},{default:a(()=>[t($,{value:e.purchaseCode,"onUpdate:value":l[0]||(l[0]=P=>e.purchaseCode=P),placeholder:e.$t("common.placeholder_default_text",[e.$t("common.purchase_code")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1},8,["open","title","onCancel"])],64)}const Ob=W(Sb,[["render",Eb]]),Ib=Z({props:["module","downloading","downloadPercentage","extracting"],emits:["install"],components:{DownloadOutlined:Ct,ShoppingCartOutlined:ft,ReloadOutlined:jn,SyncOutlined:vt,CheckCircleOutlined:Ca,InfoOutlined:Hn,CheckOutlined:bt},setup(e,{emit:l}){const{t:c}=te(),n=T(!1),h=T("");return Re(),{install:()=>{qe.confirm({title:c("common.install"),icon:t(Ae),content:c("messages.are_you_sure_install_message"),okText:c("common.yes"),okType:"danger",cancelText:c("common.no"),onOk(){h.value=c("common.installing")+"...",l("install",e.module.verified_name),n.value=!0},onCancel(){}})},update:()=>{qe.confirm({title:c("common.update"),icon:t(Ae),content:c("messages.are_you_sure_update_message"),okText:c("common.yes"),okType:"danger",cancelText:c("common.no"),onOk(){h.value=c("common.updating")+"...",l("install",e.module.verified_name),n.value=!0},onCancel(){}})},installUpdateModalVisible:n,closeInstallUpdateModal:()=>{n.value=!1,window.location.reload()}}}});function Pb(e,l,c,n,h,y){const u=o("DownloadOutlined"),d=o("a-button"),m=o("ReloadOutlined"),p=o("ShoppingCartOutlined"),_=o("a-typography-text"),f=o("SyncOutlined"),g=o("CheckCircleOutlined"),b=o("a-progress"),v=o("a-col"),k=o("a-row"),$=o("InfoOutlined"),A=o("CheckOutlined"),O=o("a-modal");return r(),S(I,null,[e.module.is_free&&!e.module.installed||e.module.verified&&!e.module.installed?(r(),C(d,{key:0,type:"link",class:"p-0",onClick:e.install},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.install")),1)]),_:1},8,["onClick"])):(e.module.is_free||e.module.verified)&&e.module.installed&&e.module.current_version!=e.module.version?(r(),C(d,{key:1,type:"link",class:"p-0",onClick:e.update},{icon:a(()=>[t(m)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick"])):!e.module.is_free&&!e.module.verified?(r(),C(d,{key:2,type:"link",href:e.module.buy_now_url,class:"p-0",target:"_blank"},{icon:a(()=>[t(p)]),default:a(()=>[i(" "+s(e.$t("common.buy_now")),1)]),_:1},8,["href"])):(r(),C(_,{key:3,type:"success",strong:""},{default:a(()=>[i(" - ")]),_:1})),t(O,{open:e.installUpdateModalVisible,"onUpdate:open":l[0]||(l[0]=F=>e.installUpdateModalVisible=F),title:e.$t("common.installing"),maskClosable:!1,closable:!1,footer:null},{default:a(()=>[t(k,{class:"mb-10"},{default:a(()=>[t(v,{span:24},{default:a(()=>[e.downloadPercentage<100?(r(),C(_,{key:0},{default:a(()=>[t(f,{spin:""}),i(" "+s(e.$t("messages.downloading_started_message")),1)]),_:1})):(r(),C(_,{key:1,strong:"",type:"success"},{default:a(()=>[t(g),i(" "+s(e.$t("module.downloading_completed")),1)]),_:1})),e.downloadPercentage<100?(r(),C(b,{key:2,percent:e.downloadPercentage},null,8,["percent"])):D("",!0)]),_:1})]),_:1}),t(k,{class:"mb-10"},{default:a(()=>[t(v,{span:24},{default:a(()=>[e.extracting==""?(r(),C(_,{key:0,type:"secondary"},{default:a(()=>[t($),i(" "+s(e.$t("module.extract_zip_file")),1)]),_:1})):D("",!0),e.extracting=="started"?(r(),C(_,{key:1},{default:a(()=>[t(f,{spin:""}),i(" "+s(e.$t("messages.file_extracting_message")),1)]),_:1})):D("",!0),e.extracting=="completed"?(r(),C(_,{key:2,strong:"",type:"success"},{default:a(()=>[t(g),i(" "+s(e.$t("module.file_extracted")),1)]),_:1})):D("",!0)]),_:1})]),_:1}),e.extracting=="completed"?(r(),C(k,{key:0,class:"mt-10 mb-10"},{default:a(()=>[t(v,{span:24},{default:a(()=>[t(d,{type:"primary",onClick:e.closeInstallUpdateModal,block:""},{default:a(()=>[t(A),i(" "+s(e.$t("messages.installation_success")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})):D("",!0)]),_:1},8,["open","title"])],64)}const Ub=W(Ib,[["render",Pb]]);const Fb=Z({components:{ModuleStatus:Cb,VerifyModule:Ob,ModuleAction:Ub,LeftCircleOutlined:Sa,RightCircleOutlined:$a},setup(){const{t:e}=te();ke();const l=window.config.app_env,{allModules:c,dataLoading:n,getModuleData:h,offers:y,settings:u,install:d,downloading:m,downloadPercentage:p,extracting:_}=Ea(),f=[{title:e("module.name"),dataIndex:"name",width:"25%"},{title:e("module.verified"),dataIndex:"verified",width:"15%"},{title:e("module.current_version"),dataIndex:"current_version"},{title:e("module.latest_version"),dataIndex:"version"},{title:e("module.status"),dataIndex:"status"},{title:e("common.action"),dataIndex:"action"}];return x(()=>{h()}),{modulesTableColumns:f,allModules:c,getModuleData:h,installModule:b=>{d(b)},dataLoading:n,offers:y,settings:u,downloading:m,downloadPercentage:p,extracting:_,appEnv:l}}}),qb={class:"custom-slick-arrow",style:{left:"10px","z-index":"1"}},Mb={class:"custom-slick-arrow",style:{right:"10px"}},Rb=["src"],Kb={key:0,class:"table-responsive"},Vb={key:1};function zb(e,l,c,n,h,y){const u=o("left-circle-outlined"),d=o("right-circle-outlined"),m=o("a-typography-link"),p=o("a-carousel"),_=o("a-col"),f=o("a-row"),g=o("a-avatar"),b=o("a-list-item-meta"),v=o("a-list-item"),k=o("a-list"),$=o("VerifyModule"),A=o("ModuleStatus"),O=o("ModuleAction"),F=o("a-table"),P=o("admin-page-table-content");return r(),S(I,null,[e.offers&&e.offers.length>0?(r(),C(f,{key:0},{default:a(()=>[t(_,{span:24},{default:a(()=>[t(p,{arrows:""},{prevArrow:a(()=>[w("div",qb,[t(u)])]),nextArrow:a(()=>[w("div",Mb,[t(d)])]),default:a(()=>[(r(!0),S(I,null,Q(e.offers,E=>(r(),S("div",{key:E.id},[t(m,{href:E.url,target:"_blank"},{default:a(()=>[w("img",{src:E.image_url,style:Be({width:e.settings.width,height:e.settings.height}),preview:!1},null,12,Rb)]),_:2},1032,["href"])]))),128))]),_:1})]),_:1})]),_:1})):D("",!0),t(P,null,{default:a(()=>[t(f,{class:"mt-20 mb-20"},{default:a(()=>[t(_,{span:24},{default:a(()=>[e.allModules?(r(),S("div",Kb,[t(F,{columns:e.modulesTableColumns,"row-key":E=>E.verified_name,"data-source":e.allModules,pagination:!1,bordered:"",size:"middle",loading:e.dataLoading},{bodyCell:a(({column:E,record:U})=>[E.dataIndex=="name"?(r(),C(k,{key:0},{default:a(()=>[t(v,null,{default:a(()=>[t(b,{description:U.description},{title:a(()=>[i(s(U.name),1)]),avatar:a(()=>[t(g,{src:U.image_url},null,8,["src"])]),_:2},1032,["description"])]),_:2},1024)]),_:2},1024)):D("",!0),E.dataIndex=="verified"?(r(),C($,{key:1,module:U,onVerifySuccess:e.getModuleData},null,8,["module","onVerifySuccess"])):D("",!0),E.dataIndex=="status"?(r(),C(A,{key:2,module:U,status:U.status,moduleName:U.verified_name,onUpdateSuccess:e.getModuleData},null,8,["module","status","moduleName","onUpdateSuccess"])):D("",!0),E.dataIndex=="action"?(r(),S(I,{key:3},[e.appEnv=="envato"?(r(),C(O,{key:0,module:U,onInstall:e.installModule,downloadPercentage:e.downloadPercentage,downloading:e.downloading,extracting:e.extracting},null,8,["module","onInstall","downloadPercentage","downloading","extracting"])):(r(),S("span",Vb,"-"))],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","loading"])])):D("",!0)]),_:1})]),_:1})]),_:1})],64)}const Lb=W(Fb,[["render",zb]]),Bb=Z({components:{LeftCircleOutlined:Sa,RightCircleOutlined:$a,SettingSidebar:Ne,AdminPageHeader:ge,ModuleSetting:Lb},setup(){return{}}});function Wb(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("ModuleSetting"),v=o("a-row");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.modules"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.modules")),1)]),_:1})]),_:1})]),_:1}),t(v,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(b)]),_:1})]),_:1})],64)}const jb=W(Bb,[["render",Wb]]),Hb={components:{SaveOutlined:he},setup(){const{addEditRequestAdmin:e,loading:l,rules:c}=ve(),{t:n}=te(),h=T({}),y=T([]);return x(()=>{axiosAdmin.get(Pe("settings/storage")).then(d=>{h.value=d.data.storage,y.value=d.data.regions})}),{loading:l,rules:c,awsRegions:y,formData:h,onSubmit:()=>{e({url:Pe("settings/storage/update"),data:h.value,successMessage:n("storage_settings.updated"),success:d=>{}})}}}},Nb={key:0};function Yb(e,l,c,n,h,y){const u=o("a-select-option"),d=o("a-select"),m=o("a-form-item"),p=o("a-col"),_=o("a-row"),f=o("a-input"),g=o("a-input-password"),b=o("SaveOutlined"),v=o("a-button"),k=o("a-form");return r(),C(k,{layout:"vertical"},{default:a(()=>[t(_,{gutter:16},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{label:e.$t("storage_settings.storage"),name:"filesystem",help:n.rules.filesystem?n.rules.filesystem.message:null,validateStatus:n.rules.filesystem?"error":null},{default:a(()=>[t(d,{value:n.formData.filesystem,"onUpdate:value":l[0]||(l[0]=$=>n.formData.filesystem=$),placeholder:e.$t("common.select_default_text",[e.$t("storage_settings.storage")])},{default:a(()=>[t(u,{key:"local",value:"local"},{default:a(()=>[i(s(e.$t("storage_settings.local")),1)]),_:1}),t(u,{key:"aws",value:"aws"},{default:a(()=>[i(s(e.$t("storage_settings.aws")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),n.formData.filesystem=="aws"?(r(),S("div",Nb,[t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("storage_settings.aws_key"),name:"key",help:n.rules.key?n.rules.key.message:null,validateStatus:n.rules.key?"error":null,class:"required"},{default:a(()=>[t(f,{value:n.formData.key,"onUpdate:value":l[1]||(l[1]=$=>n.formData.key=$),placeholder:e.$t("common.placeholder_default_text",[e.$t("storage_settings.aws_key")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("storage_settings.aws_secret"),name:"secret",help:n.rules.secret?n.rules.secret.message:null,validateStatus:n.rules.secret?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.secret,"onUpdate:value":l[2]||(l[2]=$=>n.formData.secret=$),placeholder:e.$t("common.placeholder_default_text",[e.$t("storage_settings.aws_secret")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("storage_settings.aws_region"),name:"region",help:n.rules.region?n.rules.region.message:null,validateStatus:n.rules.region?"error":null},{default:a(()=>[t(d,{value:n.formData.region,"onUpdate:value":l[3]||(l[3]=$=>n.formData.region=$),placeholder:e.$t("common.select_default_text",[e.$t("storage_settings.aws_region")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.awsRegions,($,A)=>(r(),C(u,{key:A,value:A,label:$},{default:a(()=>[i(s($),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("storage_settings.aws_bucket"),name:"bucket",help:n.rules.bucket?n.rules.bucket.message:null,validateStatus:n.rules.bucket?"error":null,class:"required"},{default:a(()=>[t(f,{value:n.formData.bucket,"onUpdate:value":l[4]||(l[4]=$=>n.formData.bucket=$),placeholder:e.$t("common.placeholder_default_text",[e.$t("storage_settings.aws_bucket")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})])):D("",!0),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,null,{default:a(()=>[t(v,{type:"primary",onClick:n.onSubmit,loading:n.loading},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})]),_:1})}const Gb=W(Hb,[["render",Yb]]),Jb={components:{SettingSidebar:Ne,AdminPageHeader:ge,StorageSettings:Gb,SaveOutlined:he},setup(){const e=T(null);return{onSubmit:()=>{e.value.onSubmit()},settingRef:e}}};function Qb(e,l,c,n,h,y){const u=o("SaveOutlined"),d=o("a-button"),m=o("a-page-header"),p=o("router-link"),_=o("a-breadcrumb-item"),f=o("a-breadcrumb"),g=o("AdminPageHeader"),b=o("SettingSidebar"),v=o("a-col"),k=o("StorageSettings"),$=o("a-card"),A=o("admin-page-table-content"),O=o("a-row");return r(),S(I,null,[t(g,null,{header:a(()=>[t(m,{title:e.$t("menu.storage_settings"),class:"p-0"},{extra:a(()=>[t(d,{type:"primary",onClick:n.onSubmit,loading:!!(n.settingRef&&n.settingRef.loading)},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(f,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(_,null,{default:a(()=>[t(p,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(_,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(_,null,{default:a(()=>[i(s(e.$t("menu.storage_settings")),1)]),_:1})]),_:1})]),_:1}),t(O,null,{default:a(()=>[t(v,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(b)]),_:1}),t(v,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(A,null,{default:a(()=>[t($,{class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(k,{ref:"settingRef"},null,512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Xb=W(Jb,[["render",Qb]]),Zb=Z({props:["formData","verified"],components:{SendOutlined:Un},setup(){const{addEditRequestAdmin:e,loading:l,rules:c}=ve(),n=T(!1),h=T(""),y=T(""),{t:u}=te();return{loading:l,rules:c,email:h,visible:n,showModal:()=>{n.value=!0},sendMail:()=>{y.value="",e({url:Pe("settings/email/send-test-mail"),data:{email:h.value},success:_=>{y.value="",_.status=="success"?Ee.success({placement:"bottomRight",message:u("common.success"),description:u("mail_settings.test_mail_sent_successfully")}):y.value=_.message},error:_=>{y.value=""}})},handleCancel:()=>{n.value=!1,l.value=!1,h.value="",y.value="",c.value={}},errorMessage:y}}});function xb(e,l,c,n,h,y){const u=o("SendOutlined"),d=o("a-button"),m=o("a-alert"),p=o("a-col"),_=o("a-row"),f=o("a-input"),g=o("a-form-item"),b=o("a-form"),v=o("a-modal");return r(),S(I,null,[e.formData.mail_driver=="mail"||e.formData.mail_driver=="smtp"?(r(),C(d,{key:0,onClick:e.showModal,disabled:!e.verified},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("mail_settings.send_test_mail")),1)]),_:1},8,["onClick","disabled"])):D("",!0),t(v,{open:e.visible,"onUpdate:open":l[1]||(l[1]=k=>e.visible=k),maskClosable:!1,title:e.$t("mail_settings.send_test_mail"),onCancel:e.handleCancel},{footer:a(()=>[t(d,{key:"submit",type:"primary",loading:e.loading,onClick:e.sendMail},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.send")),1)]),_:1},8,["loading","onClick"]),t(d,{key:"back",onClick:e.handleCancel},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(b,{layout:"vertical"},{default:a(()=>[e.errorMessage!=""?(r(),C(_,{key:0,gutter:16,class:"mb-20"},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{message:e.errorMessage,type:"error","show-icon":""},null,8,["message"])]),_:1})]),_:1})):D("",!0),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(g,{label:e.$t("mail_settings.email"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null,class:"required"},{default:a(()=>[t(f,{value:e.email,"onUpdate:value":l[0]||(l[0]=k=>e.email=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("common.email")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onCancel"])],64)}const ev=W(Zb,[["render",xb]]),tv={components:{InfoCircleOutlined:Pt}};function av(e,l,c,n,h,y){const u=o("InfoCircleOutlined"),d=o("a-tooltip");return r(),C(d,null,{title:a(()=>[i(s(e.$t("mail_settings.notificaiton_will_be_sent_to_warehouse")),1)]),default:a(()=>[t(u)]),_:1})}const nv=W(tv,[["render",av]]);const ov={props:["sendMailSettings"],components:{TooltipWarehouse:nv},setup(e){const{addEditRequestAdmin:l}=ve(),{t:c}=te(),n=T([]);return x(()=>{n.value=e.sendMailSettings.credentials}),{settings:n,settingsChanged:y=>{l({url:Pe("settings/email/send-mail-settings"),data:{name_key:"warehouse",settings:y},success:u=>{Oe.success(c("mail_settings.send_mail_setting_saved"))}})}}}},lv={class:"notificaiton-setting-bar"},sv={style:{marginTop:"8px",paddingBottom:"14px"}};function rv(e,l,c,n,h,y){const u=o("TooltipWarehouse"),d=o("a-typography-title"),m=o("a-col"),p=o("a-checkbox"),_=o("a-divider"),f=o("a-row"),g=o("a-checkbox-group"),b=o("a-card"),v=o("perfect-scrollbar");return r(),S("div",lv,[t(v,{options:{wheelSpeed:1,swipeEasing:!0,suppressScrollX:!0}},{default:a(()=>[t(b,{class:"page-content-container"},{title:a(()=>[w("div",sv,s(e.$t("mail_settings.send_mail_for")),1)]),default:a(()=>[t(g,{value:n.settings,"onUpdate:value":l[0]||(l[0]=k=>n.settings=k),style:{width:"100%"},onChange:n.settingsChanged},{default:a(()=>[t(f,null,{default:a(()=>[t(m,{span:24,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.stock_adjustment"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"stock_adjustment_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"stock_adjustment_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"stock_adjustment_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.purchase_returns"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"purchase_returns_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"purchase_returns_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"purchase_returns_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.purchases"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"purchases_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"purchases_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"purchases_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.sales"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.sales_returns"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_returns_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_returns_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_returns_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.expenses"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"expense_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"expense_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"expense_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.staff_members"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"staff_member_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"staff_member_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{span:24,class:"mb-5"},{default:a(()=>[t(p,{value:"staff_member_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_)]),_:1})]),_:1},8,["value","onChange"])]),_:1})]),_:1})])}const dv=W(ov,[["render",rv]]),iv={components:{SaveOutlined:he,TestMail:ev,SendMailSetting:dv},setup(){const{addEditRequestAdmin:e,loading:l,rules:c}=ve(),{appType:n}=J();ve();const{t:h}=te(),y=T({}),u=T(!1),d=T(""),m=T([]);return x(()=>{axiosAdmin.get(Pe("settings/email")).then(_=>{y.value=_.data.settings,m.value=_.data.sendMailSettings,u.value=_.data.verified,d.value=_.data.verified?h("messages.stmp_success_message"):h("messages.stmp_error_message")})}),{appType:n,formData:y,rules:c,loading:l,onSubmit:()=>{e({url:Pe("settings/email/update"),data:y.value,successMessage:h("mail_settings.updated"),success:_=>{u.value=_.verified,d.value=_.verified?h("messages.stmp_success_message"):_.message}})},verified:u,verifiedMessage:d,warehouseSendMailSettings:m}}},uv={key:0},mv={key:0},cv={key:1};function pv(e,l,c,n,h,y){const u=o("a-alert"),d=o("a-select-option"),m=o("a-select"),p=o("a-form-item"),_=o("a-col"),f=o("a-row"),g=o("a-input"),b=o("a-input-password"),v=o("SaveOutlined"),k=o("a-button"),$=o("TestMail"),A=o("a-space"),O=o("a-form"),F=o("a-card"),P=o("SendMailSetting");return r(),C(f,null,{default:a(()=>[t(_,{class:"settings-sidebar-content-container mt-20 mb-20",xs:24,sm:24,md:24,lg:n.appType=="saas"?24:18,xl:n.appType=="saas"?24:18},{default:a(()=>[n.formData.mail_driver=="smtp"?(r(),S("div",uv,[n.verified?(r(),C(u,{key:0,description:n.verifiedMessage,type:"success","show-icon":""},null,8,["description"])):(r(),C(u,{key:1,description:n.verifiedMessage,type:"error","show-icon":""},null,8,["description"]))])):D("",!0),t(F,{class:"settings-sidebar-content-container"},{default:a(()=>[t(O,{layout:"vertical"},{default:a(()=>[t(f,{gutter:16},{default:a(()=>[t(_,{span:24},{default:a(()=>[t(p,{label:e.$t("mail_settings.mail_driver"),name:"mail_driver",help:n.rules.mail_driver?n.rules.mail_driver.message:null,validateStatus:n.rules.mail_driver?"error":null},{default:a(()=>[t(m,{value:n.formData.mail_driver,"onUpdate:value":l[0]||(l[0]=E=>n.formData.mail_driver=E),placeholder:e.$t("common.select_default_text",[e.$t("mail_settings.mail_driver")])},{default:a(()=>[t(d,{key:"none",value:"none"},{default:a(()=>[i(s(e.$t("mail_settings.none")),1)]),_:1}),t(d,{key:"smtp",value:"smtp"},{default:a(()=>[i(s(e.$t("mail_settings.smtp")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),n.formData.mail_driver=="mail"||n.formData.mail_driver=="smtp"?(r(),S("div",mv,[t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("mail_settings.from_name"),name:"from_name",help:n.rules.from_name?n.rules.from_name.message:null,validateStatus:n.rules.from_name?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.from_name,"onUpdate:value":l[1]||(l[1]=E=>n.formData.from_name=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("mail_settings.from_name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("mail_settings.from_email"),name:"from_email",help:n.rules.from_email?n.rules.from_email.message:null,validateStatus:n.rules.from_email?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.from_email,"onUpdate:value":l[2]||(l[2]=E=>n.formData.from_email=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("mail_settings.from_email")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})])):D("",!0),n.formData.mail_driver=="smtp"?(r(),S("div",cv,[t(f,{gutter:16},{default:a(()=>[n.formData.mail_driver=="smtp"?(r(),C(_,{key:0,xs:24,sm:24,md:24,lg:n.formData.mail_driver=="smtp"?12:24},{default:a(()=>[t(p,{label:e.$t("mail_settings.enable_mail_queue"),name:"enable_mail_queue",help:n.rules.enable_mail_queue?n.rules.enable_mail_queue.message:null,validateStatus:n.rules.enable_mail_queue?"error":null,class:"required"},{default:a(()=>[t(m,{value:n.formData.enable_mail_queue,"onUpdate:value":l[3]||(l[3]=E=>n.formData.enable_mail_queue=E),placeholder:e.$t("common.select_default_text",[e.$t("mail_settings.enable_mail_queue")]),allowClear:!0},{default:a(()=>[t(d,{key:"yes",value:"yes"},{default:a(()=>[i(s(e.$t("common.yes")),1)]),_:1}),t(d,{key:"no",value:"no"},{default:a(()=>[i(s(e.$t("common.no")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1},8,["lg"])):D("",!0),n.formData.mail_driver=="smtp"?(r(),C(_,{key:1,xs:24,sm:24,md:24,lg:n.formData.mail_driver=="smtp"?12:24},{default:a(()=>[t(p,{label:e.$t("mail_settings.host"),name:"host",help:n.rules.host?n.rules.host.message:null,validateStatus:n.rules.host?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.host,"onUpdate:value":l[4]||(l[4]=E=>n.formData.host=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("mail_settings.host")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1},8,["lg"])):D("",!0)]),_:1}),t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("mail_settings.port"),name:"port",help:n.rules.port?n.rules.port.message:null,validateStatus:n.rules.port?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.port,"onUpdate:value":l[5]||(l[5]=E=>n.formData.port=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("mail_settings.port")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("mail_settings.encryption"),name:"encryption",help:n.rules.encryption?n.rules.encryption.message:null,validateStatus:n.rules.encryption?"error":null},{default:a(()=>[t(m,{value:n.formData.encryption,"onUpdate:value":l[6]||(l[6]=E=>n.formData.encryption=E),placeholder:e.$t("common.select_default_text",[e.$t("mail_settings.encryption")]),allowClear:!0},{default:a(()=>[t(d,{key:"tls",value:"tls"},{default:a(()=>[i(" tls ")]),_:1}),t(d,{key:"ssl",value:"ssl"},{default:a(()=>[i(" ssl ")]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("mail_settings.username"),name:"username",help:n.rules.username?n.rules.username.message:null,validateStatus:n.rules.username?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.username,"onUpdate:value":l[7]||(l[7]=E=>n.formData.username=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("mail_settings.username")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(p,{label:e.$t("mail_settings.password"),name:"password",help:n.rules.password?n.rules.password.message:null,validateStatus:n.rules.password?"error":null,class:"required"},{default:a(()=>[t(b,{value:n.formData.password,"onUpdate:value":l[8]||(l[8]=E=>n.formData.password=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("mail_settings.password")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})])):D("",!0),t(f,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(p,null,{default:a(()=>[t(A,null,{default:a(()=>[t(k,{type:"primary",onClick:n.onSubmit,loading:n.loading},{icon:a(()=>[t(v)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick","loading"]),t($,{formData:n.formData,verified:n.verified},null,8,["formData","verified"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["lg","xl"]),n.appType=="non-saas"?(r(),C(_,{key:0,class:"settings-sidebar-content-container mt-20 mb-20",xs:24,sm:24,md:24,lg:6,xl:6},{default:a(()=>[n.warehouseSendMailSettings&&n.warehouseSendMailSettings.xid?(r(),C(P,{key:0,sendMailSettings:n.warehouseSendMailSettings},null,8,["sendMailSettings"])):D("",!0)]),_:1})):D("",!0)]),_:1})}const _v=W(iv,[["render",pv]]),fv={components:{SettingSidebar:Ne,AdminPageHeader:ge,EmailSettings:_v,SaveOutlined:he},setup(){const e=T(null);return{onSubmit:()=>{e.value.onSubmit()},settingRef:e}}};function gv(e,l,c,n,h,y){const u=o("SaveOutlined"),d=o("a-button"),m=o("a-page-header"),p=o("router-link"),_=o("a-breadcrumb-item"),f=o("a-breadcrumb"),g=o("AdminPageHeader"),b=o("SettingSidebar"),v=o("a-col"),k=o("EmailSettings"),$=o("admin-page-table-content"),A=o("a-row");return r(),S(I,null,[t(g,null,{header:a(()=>[t(m,{title:e.$t("menu.email_settings"),class:"p-0"},{extra:a(()=>[t(d,{type:"primary",onClick:n.onSubmit,loading:!!(n.settingRef&&n.settingRef.loading)},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(f,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(_,null,{default:a(()=>[t(p,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(_,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(_,null,{default:a(()=>[i(s(e.$t("menu.email_settings")),1)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t(v,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(b)]),_:1}),t(v,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t($,null,{default:a(()=>[t(k,{ref:"settingRef"},null,512)]),_:1})]),_:1})]),_:1})],64)}const yv=W(fv,[["render",gv]]),hv=()=>{const e=Pe("database-backups"),{t:l}=te(),c=[{title:l("database_backup.file"),dataIndex:"name"},{title:l("database_backup.file_size"),dataIndex:"size"},{title:l("common.action"),dataIndex:"action"}];return{url:e,columns:c}},bv={components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,ExclamationCircleOutlined:Ae},setup(){const{t:e}=te(),{url:l,columns:c}=hv(),n=T([]);return x(()=>{axiosAdmin.post(Pe("database-backups")).then(u=>{n.value=u.data.data})}),{columns:c,results:n,deleteBackup:u=>{qe.confirm({title:e("database_backup.delete_backup"),icon:t(Ae),content:e("database_backup.are_you_sure_delete_backup"),okText:e("common.yes"),okType:"danger",cancelText:e("common.no"),onOk(){axiosAdmin.post(Pe("delete-backup"),{file_name:u}).then(d=>{n.value=d.data.data})},onCancel(){}})},backupCreated:u=>{n.value=u.data}}}},vv={class:"table-responsive mt-20"};function kv(e,l,c,n,h,y){const u=o("a-col"),d=o("a-row"),m=o("admin-page-filters"),p=o("a-alert"),_=o("a-typography-link"),f=o("a-button"),g=o("a-space"),b=o("a-table"),v=o("admin-page-table-content");return r(),S(I,null,[t(m,null,{default:a(()=>[t(d,{gutter:[16,16]},{default:a(()=>[t(u,{span:24},{default:a(()=>[de(e.$slots,"actionButtons")]),_:3})]),_:3})]),_:3}),t(v,null,{default:a(()=>[t(d,{class:"mt-20"},{default:a(()=>[t(u,{span:24},{default:a(()=>[t(p,{type:"warning",showIcon:"",message:e.$t("database_backup.backup_locaion_is")},null,8,["message"]),w("div",vv,[t(b,{columns:n.columns,"row-key":k=>k.id,"data-source":n.results,pagination:!1,bordered:"",size:"middle"},{bodyCell:a(({column:k,record:$})=>[k.dataIndex=="action"?(r(),C(g,{key:0},{default:a(()=>[t(_,{href:$.url,target:"_blank"},{default:a(()=>[i(s(e.$t("common.download")),1)]),_:2},1032,["href"]),t(f,{type:"link",onClick:A=>n.deleteBackup($.name)},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)):D("",!0)]),_:1},8,["columns","row-key","data-source"])])]),_:1})]),_:1})]),_:1})],64)}const wv=W(bv,[["render",kv]]),Cv=Z({emits:["success"],components:{PlusOutlined:ne,ExclamationCircleOutlined:Ae},setup(e,{emit:l}){const{t:c}=te(),{addEditRequestAdmin:n,loading:h}=ve();return{generateBack:()=>{qe.confirm({title:c("database_backup.generate_backup"),icon:t(Ae),content:c("database_backup.are_you_sure_generate_backup"),okText:c("common.yes"),okType:"danger",cancelText:c("common.no"),onOk(){n({url:Pe("generate-backups"),data:{},successMessage:c("database_backup.backup_generated_successfully"),success:u=>{l("success",u)}})},onCancel(){}})},loading:h}}});function Sv(e,l,c,n,h,y){const u=o("PlusOutlined"),d=o("a-button");return r(),C(d,{type:"primary",onClick:e.generateBack,loading:e.loading},{default:a(()=>[t(u),i(" "+s(e.$t("database_backup.generate_backup")),1)]),_:1},8,["onClick","loading"])}const $v=W(Cv,[["render",Sv]]),Av=Z({components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,SettingOutlined:_t},setup(){const e=T(!1);return{visible:e,onClose:()=>{e.value=!1},openDrawer:()=>{e.value=!0},drawerWidth:window.innerWidth<=991?"90%":"35%"}}});function Dv(e,l,c,n,h,y){const u=o("SettingOutlined"),d=o("a-button"),m=o("a-alert"),p=o("a-col"),_=o("a-row"),f=o("a-typography-text"),g=o("a-typography-paragraph"),b=o("a-drawer");return r(),S(I,null,[t(d,{type:"primary",onClick:e.openDrawer},{icon:a(()=>[t(u)]),default:a(()=>[i(" "+s(e.$t("database_backup.settings")),1)]),_:1},8,["onClick"]),t(b,{title:e.$t("database_backup.backup_command_setting"),width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},maskClosable:!1,onClose:e.onClose},{footer:a(()=>[t(d,{onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(_,{gutter:16,class:"mb-10"},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(m,{type:"warning",showIcon:"",message:e.$t("database_backup.put_dump_path_command_on_env_file")},null,8,["message"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{span:24},{default:a(()=>[t(g,null,{default:a(()=>[w("blockquote",null,[t(f,{type:"warning"},{default:a(()=>[i(s(e.$t("database_backup.window_command_path")),1)]),_:1})]),w("blockquote",null,[t(f,{type:"warning"},{default:a(()=>[i(s(e.$t("database_backup.laragon_command_path")),1)]),_:1})]),w("blockquote",null,[t(f,{type:"warning"},{default:a(()=>[i(s(e.$t("database_backup.linux_command_path")),1)]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","width","open","onClose"])],64)}const Tv=W(Av,[["render",Dv]]),Ev={components:{SettingSidebar:Ne,AdminPageHeader:ge,DatabaseSettings:wv,GenerateDbBackup:$v,BackupCommandSetting:Tv},setup(){const e=T(null);return{backupCreated:c=>{e.value.backupCreated(c)},settingRef:e}}};function Ov(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("GenerateDbBackup"),v=o("BackupCommandSetting"),k=o("a-space"),$=o("DatabaseSettings"),A=o("a-row");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.database_backup"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.database_backup")),1)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t($,{ref:"settingRef"},{actionButtons:a(()=>[t(k,null,{default:a(()=>[t(b,{onSuccess:n.backupCreated},null,8,["onSuccess"]),t(v)]),_:1})]),_:1},512)]),_:1})]),_:1})],64)}const Iv=W(Ev,[["render",Ov]]),Pv=Z({components:{SyncOutlined:vt},setup(){const e=T([]),l=Pl,{t:c}=te(),n=T("fetching"),h=T([]),y=ke(),u=[{title:c("update_app.name"),dataIndex:"name",width:"40%"},{title:c("update_app.value"),dataIndex:"value"}];return x(()=>{axiosAdmin(Pe("update-app")).then(m=>{const p=m.data.app_version;e.value=m.data.app_details,st.post("https://envato.codeifly.com/product",{verified_name:window.config.product_name,domain:"demo.stockifly.in"}).then(_=>{h.value=_.data,h.value.product.other_domain_verified?qe.confirm({title:c("update_app.verify_failed"),icon:t(Ae),content:c("update_app.verified_with_other_domain"),okText:c("update_app.verify_again"),okType:"danger",cancelButtonProps:{disabled:!0},onOk(){y.dispatch("auth/logoutToRootUrl")}}):h.value.product.verified?h.value.product.version!=p?n.value="update_available":n.value="success":qe.confirm({title:c("update_app.verify_failed"),icon:t(Ae),content:c("update_app.verify_failed_message"),okText:c("update_app.verify_again"),okType:"danger",cancelButtonProps:{disabled:!0},onOk(){y.dispatch("auth/logoutToRootUrl")}})})})}),{tableColumns:u,appDetails:e,vueVersion:l,productStatus:n,product:h,updateApp:()=>{qe.confirm({title:c("common.install"),icon:t(Ae),content:c("messages.are_you_sure_install_message"),okText:c("common.yes"),okType:"danger",cancelText:c("common.no"),onOk(){installUpdateModalTitle.value=c("common.installing")+"...",emit("install",props.module.verified_name),installUpdateModalVisible.value=!0},onCancel(){}})}}}}),Uv=["innerHTML"],Fv={class:"table-responsive mt-10"},qv={key:1},Mv={key:0},Rv={key:1};function Kv(e,l,c,n,h,y){const u=o("SyncOutlined"),d=o("a-alert"),m=o("a-typography-title"),p=o("a-table"),_=o("a-col"),f=o("a-row"),g=o("a-card");return r(),C(g,{class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(f,{class:"mt-20"},{default:a(()=>[t(_,{span:24},{default:a(()=>[e.productStatus=="fetching"?(r(),C(d,{key:0,type:"info",showIcon:"",message:e.$t("messages.fetching_product_details")},{icon:a(()=>[t(u,{spin:""})]),default:a(()=>[w("span",{innerHTML:e.$t("messages.fetching_product_details")},null,8,Uv)]),_:1},8,["message"])):D("",!0),e.productStatus=="success"?(r(),C(d,{key:1,type:"success",showIcon:"",message:e.$t("messages.product_is_upto_date")},null,8,["message"])):D("",!0),e.productStatus=="update_available"?(r(),C(d,{key:2,type:"warning",showIcon:"",message:e.$t("messages.new_app_version_avaialbe",[e.product.product.version])},null,8,["message"])):D("",!0),w("div",Fv,[t(p,{columns:e.tableColumns,"row-key":b=>b.id,"data-source":e.appDetails,pagination:!1,showHeader:!1},{bodyCell:a(({column:b,record:v})=>[b.dataIndex=="name"?(r(),S(I,{key:0},[v.name=="app_details"?(r(),C(m,{key:0,level:5,strong:""},{default:a(()=>[i(s(e.$t("update_app.app_details")),1)]),_:1})):(r(),S("span",qv,s(e.$t(`update_app.${v.name}`)),1))],64)):D("",!0),b.dataIndex=="value"?(r(),S(I,{key:1},[v.name=="vue_version"?(r(),S("span",Mv,s(e.vueVersion),1)):(r(),S("span",Rv,s(v.value),1))],64)):D("",!0)]),_:1},8,["columns","row-key","data-source"])])]),_:1})]),_:1})]),_:1})}const Vv=W(Pv,[["render",Kv]]),zv=Z({props:["productStatus","product"],components:{DownloadOutlined:Ct,ShoppingCartOutlined:ft,ReloadOutlined:jn,SyncOutlined:vt,CheckCircleOutlined:Ca,InfoOutlined:Hn,CheckOutlined:bt},setup(e,{emit:l}){const c=window.config.app_env,{t:n}=te(),h=T(!1),y=T(""),u=T(!1),d=T(""),m=T(0),p=ke();var _;const f=()=>{qe.confirm({title:n("common.update"),icon:t(Ae),content:t("div",{style:"color:red;"},n("messages.are_you_sure_update_message")),okText:n("common.yes"),okType:"danger",cancelText:n("common.no"),onOk(){y.value=n("common.updating")+"...",g(e.product.name),h.value=!0},onCancel(){}})},g=k=>{u.value=!0,m.value=0,d.value="";const $={verified_name:k,domain:window.location.host};_=window.setInterval(function(){b()},1500),axiosAdmin.post(Pe("update-app/update"),$).then(A=>{u.value=!1,m.value=100,d.value="started";const O={...$,file_name:A.data.file_name};axiosAdmin.post(Pe("update-app/extract"),O).then(F=>{d.value="completed",st.post("https://envato.codeifly.com/version-update",{verified_name:F.data.verified_name,version:F.data.version,domain:"demo.stockifly.in"}),p.commit("auth/updateActiveModules",F.data.enabled_modules),window.config.modules=F.data.enabled_modules,window.config.installed_modules=F.data.installed_modules}).catch(F=>{d.value="failed"})}).catch(A=>{u.value=!1,m.value=0,clearInterval(_)})},b=()=>{axiosAdmin(Pe("update-app/download-percentage")).then(k=>{m.value=parseInt(k.data.percentage),m.value>=100&&clearInterval(_)})};return{appEnv:c,updateApp:f,installUpdateModalVisible:h,closeInstallUpdateModal:()=>{h.value=!1,p.dispatch("auth/logoutToRootUrl")},downloadPercentage:m,downloading:u,extracting:d}}});function Lv(e,l,c,n,h,y){const u=o("SyncOutlined"),d=o("a-button"),m=o("a-typography-text"),p=o("CheckCircleOutlined"),_=o("a-progress"),f=o("a-col"),g=o("a-row"),b=o("InfoOutlined"),v=o("CheckOutlined"),k=o("a-modal");return r(),S(I,null,[e.productStatus=="update_available"&&e.appEnv=="envato"?(r(),C(d,{key:0,type:"primary",onClick:e.updateApp},{default:a(()=>[t(u),i(" "+s(e.$t("update_app.update_app")),1)]),_:1},8,["onClick"])):D("",!0),t(k,{open:e.installUpdateModalVisible,"onUpdate:open":l[0]||(l[0]=$=>e.installUpdateModalVisible=$),title:e.$t("common.installing"),maskClosable:!1,closable:!1,footer:null},{default:a(()=>[t(g,{class:"mb-10"},{default:a(()=>[t(f,{span:24},{default:a(()=>[e.downloadPercentage<100?(r(),C(m,{key:0},{default:a(()=>[t(u,{spin:""}),i(" "+s(e.$t("messages.downloading_started_message")),1)]),_:1})):(r(),C(m,{key:1,strong:"",type:"success"},{default:a(()=>[t(p),i(" "+s(e.$t("module.downloading_completed")),1)]),_:1})),e.downloadPercentage<100?(r(),C(_,{key:2,percent:e.downloadPercentage},null,8,["percent"])):D("",!0)]),_:1})]),_:1}),t(g,{class:"mb-10"},{default:a(()=>[t(f,{span:24},{default:a(()=>[e.extracting==""?(r(),C(m,{key:0,type:"secondary"},{default:a(()=>[t(b),i(" "+s(e.$t("module.extract_zip_file")),1)]),_:1})):D("",!0),e.extracting=="started"?(r(),C(m,{key:1},{default:a(()=>[t(u,{spin:""}),i(" "+s(e.$t("messages.file_extracting_message")),1)]),_:1})):D("",!0),e.extracting=="completed"?(r(),C(m,{key:2,strong:"",type:"success"},{default:a(()=>[t(p),i(" "+s(e.$t("module.file_extracted")),1)]),_:1})):D("",!0)]),_:1})]),_:1}),e.extracting=="completed"?(r(),C(g,{key:0,class:"mt-20 mb-10"},{default:a(()=>[t(f,{span:24},{default:a(()=>[t(d,{type:"primary",onClick:e.closeInstallUpdateModal,block:""},{default:a(()=>[t(v),i(" "+s(e.$t("messages.installation_success")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})):D("",!0)]),_:1},8,["open","title"])],64)}const Bv=W(zv,[["render",Lv]]),Wv={components:{SettingSidebar:Ne,AdminPageHeader:ge,UpdateAppSettings:Vv,InstallApp:Bv},setup(){return{settingRef:T(null)}}};function jv(e,l,c,n,h,y){const u=o("InstallApp"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("SettingSidebar"),b=o("a-col"),v=o("UpdateAppSettings"),k=o("admin-page-table-content"),$=o("a-row");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.update_app"),class:"p-0"},{extra:a(()=>[n.settingRef?(r(),C(u,{key:0,productStatus:n.settingRef.productStatus,product:n.settingRef.product.product},null,8,["productStatus","product"])):D("",!0)]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.update_app")),1)]),_:1})]),_:1})]),_:1}),t($,null,{default:a(()=>[t(b,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(g)]),_:1}),t(b,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(k,null,{default:a(()=>[t(v,{ref:"settingRef"},null,512)]),_:1})]),_:1})]),_:1})],64)}const Hv=W(Wv,[["render",jv]]),kt=window.config.app_type,Lt=kt=="non-saas"?"admin":"superadmin",Nv=[{path:"translations",component:yb,name:`${Lt}.settings.translations.index`,meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"translations",permission:kt=="non-saas"?"translations_view":"superadmin"}},{path:"modules",component:jb,name:`${Lt}.settings.modules.index`,meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"modules",permission:kt=="non-saas"?"modules_view":"superadmin"}},{path:"storage",component:Xb,name:`${Lt}.settings.storage.index`,meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"storage_settings",permission:kt=="non-saas"?"storage_edit":"superadmin"}},{path:"email",component:yv,name:`${Lt}.settings.email.index`,meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"email_settings",permission:kt=="non-saas"?"email_edit":"superadmin"}},{path:"database-backup",component:Iv,name:"admin.settings.database_backup.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"database_backup",permission:kt=="non-saas"?"database_backup":"superadmin"}},{path:"update-app",component:Hv,name:`${Lt}.settings.update_app.index`,meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"update_app",permission:kt=="non-saas"?"update_app":"superadmin"}}],Yv={components:{InfoCircleOutlined:Pt}};function Gv(e,l,c,n,h,y){const u=o("InfoCircleOutlined"),d=o("a-tooltip");return r(),C(d,null,{title:a(()=>[i(s(e.$t("mail_settings.notificaiton_will_be_sent_to_warehouse")),1)]),default:a(()=>[t(u)]),_:1})}const Jv=W(Yv,[["render",Gv]]);const Qv={props:["sendMailSettings"],components:{TooltipWarehouse:Jv},setup(e){const{addEditRequestAdmin:l}=ve(),{t:c}=te(),n=T([]);return x(()=>{n.value=e.sendMailSettings.credentials}),{settings:n,settingsChanged:y=>{l({url:"settings/email/send-mail-settings",data:{name_key:"warehouse",settings:y},success:u=>{Oe.success(c("mail_settings.send_mail_setting_saved"))}})}}}},Xv={class:"notificaiton-setting-bar"},Zv={style:{marginTop:"8px",paddingBottom:"14px"}};function xv(e,l,c,n,h,y){const u=o("TooltipWarehouse"),d=o("a-typography-title"),m=o("a-col"),p=o("a-checkbox"),_=o("a-divider"),f=o("a-row"),g=o("a-checkbox-group"),b=o("a-card"),v=o("perfect-scrollbar");return r(),S("div",Xv,[t(v,{options:{wheelSpeed:1,swipeEasing:!0,suppressScrollX:!0}},{default:a(()=>[t(b,{class:"page-content-container"},{title:a(()=>[w("div",Zv,s(e.$t("mail_settings.send_mail_for")),1)]),default:a(()=>[t(g,{value:n.settings,"onUpdate:value":l[0]||(l[0]=k=>n.settings=k),style:{width:"100%",display:"inline-block"},onChange:n.settingsChanged},{default:a(()=>[t(f,null,{default:a(()=>[t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.stock_adjustment"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"stock_adjustment_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"stock_adjustment_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"stock_adjustment_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_)]),_:1}),t(f,null,{default:a(()=>[t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.purchase_returns"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"purchase_returns_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"purchase_returns_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"purchase_returns_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_)]),_:1}),t(f,null,{default:a(()=>[t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.purchases"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"purchases_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"purchases_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"purchases_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_)]),_:1}),t(f,null,{default:a(()=>[t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.sales"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_)]),_:1}),t(f,null,{default:a(()=>[t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.sales_returns"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_returns_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_returns_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"sales_returns_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_)]),_:1}),t(f,null,{default:a(()=>[t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.expenses"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"expense_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"expense_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"expense_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_)]),_:1}),t(f,null,{default:a(()=>[t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(d,{level:5},{default:a(()=>[i(s(e.$t("menu.staff_members"))+" ",1),t(u)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"staff_member_create"},{default:a(()=>[i(s(e.$t("common.on_create")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"staff_member_update"},{default:a(()=>[i(s(e.$t("common.on_update")),1)]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:6,lg:4,xl:4,class:"mb-5"},{default:a(()=>[t(p,{value:"staff_member_delete"},{default:a(()=>[i(s(e.$t("common.on_delete")),1)]),_:1})]),_:1}),t(_)]),_:1})]),_:1},8,["value","onChange"])]),_:1})]),_:1})])}const e2=W(Qv,[["render",xv]]),t2={components:{SaveOutlined:he,SettingSidebar:Ne,AdminPageHeader:ge,SendMailSetting:e2},setup(){const e=T([]);return x(()=>{axiosAdmin.get("settings/email").then(l=>{e.value=l.data.sendMailSettings})}),{warehouseSendMailSettings:e}}};function a2(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("SettingSidebar"),g=o("a-col"),b=o("SendMailSetting"),v=o("admin-page-table-content"),k=o("a-row");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.email_settings"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.settings")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.email_settings")),1)]),_:1})]),_:1})]),_:1}),t(k,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(f)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(k,{class:"mt-20 mb-20"},{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:24,xl:24},{default:a(()=>[t(v,null,{default:a(()=>[n.warehouseSendMailSettings&&n.warehouseSendMailSettings.xid?(r(),C(b,{key:0,sendMailSettings:n.warehouseSendMailSettings},null,8,["sendMailSettings"])):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const n2=W(t2,[["render",a2]]),o2=window.config.app_type,l2=o2=="saas"?[{path:"email",component:n2,name:"admin.settings.email.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"email_settings",permission:"email_edit"}}]:[...Nv],s2=[{path:"/admin/settings/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"company",component:lh,name:"admin.settings.company.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"company",permission:"companies_edit"}},{path:"profile",component:ih,name:"admin.settings.profile.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"profile"}},{path:"langs",component:gh,name:"admin.settings.langs.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"translations",permission:"translations_view"}},{path:"warehouses",component:Ch,name:"admin.settings.warehouses.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"warehouses",permission:"warehouses_view"}},{path:"roles",component:Dh,name:"admin.settings.roles.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"roles",permission:"roles_view"}},{path:"taxes",component:Uh,name:"admin.settings.taxes.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"taxes",permission:"taxes_view"}},{path:"currencies",component:zh,name:"admin.settings.currencies.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"currencies",permission:"currencies_view"}},{path:"payment-modes",component:Gh,name:"admin.settings.payment_modes.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"payment_modes",permission:"payment_modes_view"}},{path:"units",component:jh,name:"admin.settings.units.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"units",permission:"units_view"}},{path:"custom-fields",component:ab,name:"admin.settings.custom_fields.index",meta:{requireAuth:!0,menuParent:"settings",menuKey:e=>"custom_fields",permission:"custom_fields_view"}},...l2]}],Fo=()=>{const{t:e}=te(),{formatDate:l,formatAmountCurrency:c}=J(),n=["user_id"];return{paymentsColumns:[{title:e("payments.date"),dataIndex:"date",dbKey:"date",dataFormat:y=>l(y.date)},{title:e("payments.payment_number"),dataIndex:"payment_number",dbKey:"payment_number"},{title:e("payments.payment_type"),dataIndex:"payment_type",dbKey:"payment_type",dataFormat:y=>y.payment_type=="in"?e("menu.payment_in"):e("menu.payment_out")},{title:e("payments.user"),dataIndex:"user_id",dbKey:"user.name"},{title:e("payment_mode.mode_type"),dataIndex:"mode_type",dbKey:"payment_mode.name"},{title:e("payments.amount"),dataIndex:"amount",dbKey:"amount",dataFormat:y=>c(y.amount)},{title:e("payments.notes"),dataIndex:"notes",dbKey:"notes"}],paymentsHashableColumns:n}},r2=Z({props:{user_id:null,paymentMode:null,dates:{default:[],type:null}},components:{UserInfo:He},setup(e){const{paymentsColumns:l,paymentsHashableColumns:c}=Fo(),{formatDate:n,formatAmountCurrency:h,selectedWarehouse:y}=J(),u=je(),d=T({}),m=(_,f)=>{d.value={...d.value,[_]:f}};x(()=>{p(e)});const p=_=>{const f={};_.user_id&&_.user_id!=null&&(f.user_id=_.user_id),u.tableUrl.value={url:"payments?fields=id,xid,date,payment_type,amount,payment_number,user_id,x_user_id,user{id,xid,name,profile_image,profile_image_url,user_type},payment_mode_id,x_payment_mode_id,paymentMode{id,xid,name,mode_type},notes",filters:f,extraFilters:{dates:_.dates,payment_mode:_.paymentMode}},u.hashable.value=[...c],u.table.sorter={field:"date",order:"desc"},u.exportDetails.value={allowExport:!0,exportType:"payment_reports"},u.fetch({page:1})};return me(e,(_,f)=>{p(_)}),me(y,(_,f)=>{p(e)}),{paymentsColumns:l,...u,formatDate:n,formatAmountCurrency:h,popoverVisibility:d,handlePopoverVisibility:m}}}),d2={key:0,class:"table-responsive"};function i2(e,l,c,n,h,y){const u=o("UserInfo"),d=o("a-button"),m=o("a-popover"),p=o("a-table"),_=o("a-col"),f=o("a-row");return r(),C(f,null,{default:a(()=>[t(_,{span:24},{default:a(()=>[e.table.loading?D("",!0):(r(),S("div",d2,[t(p,{columns:e.paymentsColumns,"row-key":g=>g.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,id:"payment-reports-table",bordered:"",size:"middle"},{bodyCell:a(({column:g,record:b})=>[g.dataIndex==="date"?(r(),S(I,{key:0},[i(s(e.formatDate(b.date)),1)],64)):D("",!0),g.dataIndex==="payment_type"?(r(),S(I,{key:1},[i(s(b.payment_type=="in"?e.$t("menu.payment_in"):e.$t("menu.payment_out")),1)],64)):D("",!0),g.dataIndex==="mode_type"?(r(),S(I,{key:2},[i(s(b.payment_mode&&b.payment_mode.name?b.payment_mode.name:"-"),1)],64)):D("",!0),g.dataIndex==="user_id"?(r(),C(u,{key:3,user:b.user},null,8,["user"])):D("",!0),g.dataIndex==="amount"?(r(),S(I,{key:4},[i(s(e.formatAmountCurrency(b.amount)),1)],64)):D("",!0),g.dataIndex==="notes"?(r(),C(m,{key:5,content:b.notes,title:"Notes",trigger:"click",visible:e.popoverVisibility[b.xid],onVisibleChange:v=>e.handlePopoverVisibility(b.xid,v)},{default:a(()=>[t(d,{type:"link"},{default:a(()=>[i("View Notes")]),_:1})]),_:2},1032,["content","visible","onVisibleChange"])):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])]))]),_:1})]),_:1})}const qo=W(r2,[["render",i2]]),u2={props:["tableName","title"],components:{FilePdfOutlined:Ul},setup(e){const l=T(!1);return{downloadPdf:()=>{l.value=!0;var n=document.getElementById(`${e.tableName}`),h=n.getElementsByTagName("table").length,y=new Fl;if(y.text(e.title,14,9),h==1)y.autoTable({html:`#${e.tableName} table`});else for(var u=0;u<h;u++)y.autoTable({html:`#${e.tableName} .tbl_result_${u} table`});y.save(`${e.tableName}.pdf`),l.value=!1},loading:l}}};function m2(e,l,c,n,h,y){const u=o("FilePdfOutlined"),d=o("a-button"),m=o("a-col");return r(),C(m,{span:24},{default:a(()=>[t(d,{type:"primary",onClick:n.downloadPdf,loading:n.loading},{default:a(()=>[t(u),i(" "+s(e.$t("common.pdf")),1)]),_:1},8,["onClick","loading"])]),_:1})}const c2=W(u2,[["render",m2]]),p2={props:["tableName"],components:{PrinterOutlined:ha}};function _2(e,l,c,n,h,y){const u=o("PrinterOutlined"),d=o("a-button"),m=o("a-col"),p=ql("print");return r(),C(m,{span:24},{default:a(()=>[Et((r(),C(d,{type:"primary"},{default:a(()=>[t(u),i(" "+s(e.$t("common.print")),1)]),_:1})),[[p,`#${c.tableName}`]])]),_:1})}const f2=W(p2,[["render",_2]]),Mo=()=>{const e="products?fields=id,xid,name,image,image_url,item_code,unit_id,x_unit_id,unit{id,xid,short_name},details{product_id,x_product_id,current_stock,stock_quantitiy_alert}",{t:l}=te(),c=["products.id"],n=[{title:l("product.product"),dataIndex:"name",dbKey:"name"},{title:l("product.item_code"),dataIndex:"item_code",dbKey:"item_code"},{title:l("product.current_stock"),dataIndex:"current_stock",dbKey:"details.current_stock",dataFormat:h=>`${h.details.current_stock} ${h.unit.short_name}`},{title:l("product.quantitiy_alert"),dataIndex:"stock_quantitiy_alert",dbKey:"details.current_stock",dataFormat:h=>`${h.details.stock_quantitiy_alert} ${h.unit.short_name}`}];return{url:e,stockAlertColumns:n,stockAlertHashableColumns:c}},Ro=()=>{const{t:e}=te(),{formatDateTime:l,formatAmountCurrency:c}=J(),n=["staff_user_id"];return{salesSummaryColumns:[{title:e("stock.order_date"),dataIndex:"order_date",dbKey:"order_date",dataFormat:y=>l(y.order_date)},{title:e("stock.invoice_number"),dataIndex:"invoice_number",dbKey:"invoice_number"},{title:e("common.party"),dataIndex:"user_id",dbKey:"user.name"},{title:e("payments.amount"),dataIndex:"amount",dbKey:"total",dataFormat:y=>c(y.total)},{title:e("payments.payment_status"),dataIndex:"payment_status",dbKey:"payment_status"},{title:e("common.created_by"),dataIndex:"staff_user_id",dbKey:"staff_member.name"}],orderHashableColumns:n}},Ko=()=>{const{t:e}=te(),l=["category_id","brand_id"],{formatAmountCurrency:c}=J(),n=[{title:e("product.product"),dataIndex:"name",dbKey:"name"},{title:e("product.item_code"),dataIndex:"item_code",dbKey:"item_code"},{title:e("product.category"),dataIndex:"category_id",dbKey:"category.name"},{title:e("product.brand"),dataIndex:"brand_id",dbKey:"brand.name"},{title:e("product.purchase_price"),dataIndex:"purchase_price",dbKey:"details.purchase_price",dataFormat:u=>c(u.details.purchase_price)},{title:e("product.sales_price"),dataIndex:"sales_price",dbKey:"details.sales_price",dataFormat:u=>c(u.details.sales_price)},{title:e("product.current_stock"),dataIndex:"current_stock",dbKey:"details.current_stock",dataFormat:u=>`${u.details.current_stock} ${u.unit.short_name}`}],h=[...n,{title:e("product.stock_value"),dataIndex:"stock_value"}],y=[...n,{title:e("product.by_purchase"),dataIndex:"stock_value",dbKey:"details.current_stock",dataFormat:u=>c(u.details.current_stock*u.details.purchase_price)},{title:e("product.by_sales"),dataIndex:"stock_value",dbKey:"details.current_stock",dataFormat:u=>c(u.details.current_stock*u.details.sales_price)}];return{hashableColumns:l,summaryColumns:h,exportColumns:y}},Vo=()=>{const{t:e}=te(),l=["product_id"],{formatAmountCurrency:c}=J();return{columns:[{title:e("product.product"),dataIndex:"name",dbKey:"name"},{title:e("product.item_code"),dataIndex:"item_code",dbKey:"item_code"},{title:e("product.category"),dataIndex:"category_id",dbKey:"category.name"},{title:e("product.brand"),dataIndex:"brand_id",dbKey:"brand.name"},{title:e("product.mrp"),dataIndex:"mrp",dbKey:"details.mrp",dataFormat:h=>c(h.details.mrp)},{title:e("product.sales_price"),dataIndex:"sales_price",dbKey:"details.sales_price",dataFormat:h=>c(h.details.sales_price)}],hashableColumns:l}},zo=()=>{const{formatAmountCurrency:e}=J(),{t:l}=te(),c=["product_id"];return{columns:[{title:l("product.product"),dataIndex:"name",dbKey:"name"},{title:l("product.item_code"),dataIndex:"item_code",dbKey:"item_code"},{title:l("product.unit_sold"),dataIndex:"unit_sold",dbKey:"unit_sold",dataFormat:h=>`${h.unit_sold} ${h.product.unit.short_name}`},{title:l("product.total_purchase_price"),dataIndex:"total_purchase_price",dbKey:"total_purchase_price",dataFormat:h=>e(h.unit_sold*h.product.details.purchase_price)},{title:l("product.total_sales_price"),dataIndex:"total_sales_price",dbKey:"total_sales_price",dataFormat:h=>e(h.total_sales_price)}],hashableColumns:c}},g2=()=>{const{t:e}=te(),{formatAmountCurrency:l,formatDate:c}=J(),n=[{title:e("menu.sales"),dataIndex:"sales",dbKey:"sales",dataFormat:y=>l(y.sales)},{title:e("menu.purchases"),dataIndex:"purchases",dbKey:"purchases",dataFormat:y=>l(y.purchases)},{title:e("menu.purchase_returns"),dataIndex:"purchase_returns",dbKey:"purchase_returns",dataFormat:y=>l(y.purchase_returns)},{title:e("menu.sales_returns"),dataIndex:"sales_returns",dbKey:"sales_returns",dataFormat:y=>l(y.sales_returns)},{title:e("menu.expenses"),dataIndex:"expenses",dbKey:"expenses",dataFormat:y=>l(y.expenses)},{title:e("common.profit"),dataIndex:"profit",dbKey:"profit",dataFormat:y=>l(y.profit)}],h=[{title:e("common.date"),dataIndex:"date",dbKey:"date",dataFormat:y=>c(y.date)},{title:e("menu.sales"),dataIndex:"sales",dbKey:"sales",dataFormat:y=>l(y.result.sales)},{title:e("menu.purchases"),dataIndex:"purchases",dbKey:"purchases",dataFormat:y=>l(y.result.purchases)},{title:e("menu.purchase_returns"),dataIndex:"purchase_returns",dbKey:"purchase_returns",dataFormat:y=>l(y.result.purchase_returns)},{title:e("menu.sales_returns"),dataIndex:"sales_returns",dbKey:"sales_returns",dataFormat:y=>l(y.result.sales_returns)},{title:e("menu.expenses"),dataIndex:"expenses",dbKey:"expenses",dataFormat:y=>l(y.result.expenses)},{title:e("common.profit"),dataIndex:"profit",dbKey:"profit",dataFormat:y=>l(y.result.profit)}];return{columns:n,dateWiseColumns:h}},Lo=()=>{const e=T("customers"),{t:l}=te(),{formatAmountCurrency:c}=J(),n=[{title:l("user.name"),dataIndex:"name",dbKey:"name"}],h=[{title:l("menu.purchases"),dataIndex:"user_details.purchase_order_count",dbKey:"details.purchase_order_count"},{title:l("menu.purchase_returns"),dataIndex:"user_details.purchase_return_count",dbKey:"details.purchase_return_count"},{title:l("menu.sales"),dataIndex:"user_details.sales_order_count",dbKey:"details.sales_order_count"},{title:l("menu.sales_returns"),dataIndex:"user_details.sales_return_count",dbKey:"details.sales_return_count"}],y=[{title:l("payments.total_amount"),dataIndex:"user_details.total_amount",dbKey:"details.total_amount",dataFormat:p=>c(p.details.total_amount)},{title:l("payments.paid_amount"),dataIndex:"user_details.paid_amount",dbKey:"details.paid_amount",dataFormat:p=>c(p.details.paid_amount)},{title:l("payments.due_amount"),dataIndex:"user_details.due_amount",dbKey:"details.due_amount",dataFormat:p=>c(p.details.due_amount)}],u=pe(()=>[...n,{title:e.value=="customers"?l("menu.sales"):l("menu.purchases"),children:[...h]},...y]),d=pe(()=>{var p=(e.value=="customers",h);return[...n,...p,...y]}),m=[{key:"name",value:l("common.name")},{key:"phone",value:l("user.phone")}];return{userType:e,columns:u,exportColumns:d,filterableColumns:m}},Bo=()=>{const{formatAmountCurrency:e,formatDate:l}=J(),c="expenses?fields=id,xid,bill,bill_url,expense_category_id,x_expense_category_id,expenseCategory{id,xid,name},amount,user_id,x_user_id,user{id,xid,name},notes,date",{t:n}=te(),h=["user_id","expense_category_id"],y=[{title:n("expense.date"),dataIndex:"date",dbKey:"date",dataFormat:u=>l(u.date)},{title:n("expense.expense_category"),dataIndex:"expense_category_id",dbKey:"expense_category.name",dataFormat:u=>u.expense_category.name},{title:n("expense.created_by_user"),dataIndex:"user_id",dbKey:"user.name",dataFormat:u=>u.user.name},{title:n("expense.amount"),dataIndex:"amount",dbKey:"amount",dataFormat:u=>e(u.amount)}];return{url:c,expenseColumns:y,expenseHashableColumns:h}},y2=()=>{const e=Fo(),l=Mo(),c=Ro(),n=Ko(),h=Vo(),y=zo(),u=g2(),d=Lo(),m=Bo();return{getColumns:_=>{if(_=="payment_reports")return e.paymentsColumns;if(_=="stock_alert_reports")return l.stockAlertColumns;if(_=="sales_summary_reports")return c.salesSummaryColumns;if(_=="stock_summary_reports")return n.exportColumns;if(_=="rate_list_reports")return h.columns;if(_=="product_sales_summary_reports")return y.columns;if(_=="user_reports")return d.exportColumns.value;if(_=="profit_loss_reports")return u.columns;if(_=="profit_loss_reports_by_dates")return u.dateWiseColumns;if(_=="expense_reports")return m.expenseColumns}}},h2={props:{exportType:{type:String,default:""}},components:{FileExcelOutlined:Ml},setup(e){const l=ke(),{getColumns:c}=y2(),n=T(e.exportType+".xlsx"),h=T(e.exportType),y=()=>{var m=l.state.auth.allExportData,p=Qe(m,$=>$.export_type==e.exportType),_=c(e.exportType),f=p.data;let g=[],b=[];if(_.length===0||f.length===0)return;_.map($=>{b.push($.title)}),g.push(b),f.map($=>{let A=[];_.map(O=>{let F=$[O.dbKey];O.dbKey.split(".").length>1&&(F=d($,O.dbKey)),O.dataFormat&&typeof O.dataFormat=="function"?A.push(O.dataFormat($)):A.push(F)}),g.push(A)});let v=ra.book_new(),k=ra.aoa_to_sheet(g);k["!cols"]=u(g),ra.book_append_sheet(v,k,h.value),Rl(v,n.value)},u=m=>{let p=Object.keys(m[0]).map(_=>({width:_.length+2}));for(let _=0;_<m.length;_++){let f=Object.values(m[_]);for(let g=0;g<f.length;g++)f[g]!==null&&f[g].length>p[g].width&&(p[g].width=f[g].length+3)}return p},d=(m,p)=>{p=p.replace(/\[(\w+)\]/g,".$1"),p=p.replace(/^\./,"");let _=p.split(".");for(let f=0,g=_.length;f<g;++f){let b=_[f];if(b in m)m=m[b];else return}return m};return{exportExcel:y}}};function b2(e,l,c,n,h,y){const u=o("FileExcelOutlined"),d=o("a-button"),m=o("a-col");return r(),C(m,{span:24},{default:a(()=>[t(d,{type:"primary",onClick:n.exportExcel},{default:a(()=>[t(u),i(" "+s(e.$t("common.excel")),1)]),_:1},8,["onClick"])]),_:1})}const v2=W(h2,[["render",b2]]),k2={props:{tableName:{type:String,default:"reports"},title:{type:String,default:"Data"},exportType:{type:String,default:""}},components:{PdfTable:c2,PrintTable:f2,ExportExcel:v2},setup(e,{emit:l}){const{willSubscriptionModuleVisible:c}=J();return{willSubscriptionModuleVisible:c}}};function w2(e,l,c,n,h,y){const u=o("PdfTable"),d=o("PrintTable"),m=o("ExportExcel"),p=o("a-space");return n.willSubscriptionModuleVisible("reports_download")?(r(),C(p,{key:0},{default:a(()=>[t(u,{tableName:c.tableName,title:c.title},null,8,["tableName","title"]),t(d,{tableName:c.tableName},null,8,["tableName"]),t(m,{exportType:c.exportType},null,8,["exportType"])]),_:1})):D("",!0)}const gt=W(k2,[["render",w2]]),C2={components:{UserInfo:He,DateRangePicker:tt,AdminPageHeader:ge,Payments:qo,ExprotTable:gt},setup(){const e=je(),{permsArray:l,willSubscriptionModuleVisible:c}=J(),n=Se({user_id:void 0,payment_mode_id:void 0,dates:[]}),h=T({}),y=Re();return it(()=>{(!((l.value.includes("purchases_view")||l.value.includes("sales_view")||l.value.includes("purchase_returns_view")||l.value.includes("sales_returns_view"))&&l.value.includes("order_payments_view")||l.value.includes("admin"))||!c("reports"))&&y.push("admin.dashboard.index")}),x(()=>{const u=axiosAdmin.post("customer-suppliers");Promise.all([u]).then(([d])=>{h.value=d.data})}),{...e,filters:n,users:h,permsArray:l}}};function S2(e,l,c,n,h,y){const u=o("ExprotTable"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("a-col"),b=o("a-select-option"),v=o("a-select"),k=o("DateRangePicker"),$=o("a-row"),A=o("admin-page-filters"),O=o("Payments"),F=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.payments"),class:"p-0"},{extra:a(()=>[t(u,{exportType:"payment_reports",tableName:"payment-reports-table",title:`${e.$t("menu.payments")} ${e.$t("menu.reports")}`},null,8,["title"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.reports")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.payments")),1)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t($,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t($,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:7,lg:6,xl:6},{default:a(()=>[t(v,{value:n.filters.user_id,"onUpdate:value":l[0]||(l[0]=P=>n.filters.user_id=P),placeholder:e.$t("common.select_default_text",[e.$t("user.user")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.users,P=>(r(),C(b,{key:P.xid,title:P.name,value:P.xid},{default:a(()=>[i(s(P.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1}),t(g,{xs:24,sm:24,md:10,lg:8,xl:8},{default:a(()=>[t(k,{onDateTimeChanged:l[1]||(l[1]=P=>{n.filters.dates=P})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(O,{user_id:n.filters.user_id,dates:n.filters.dates},null,8,["user_id","dates"])]),_:1})],64)}const $2=W(C2,[["render",S2]]),A2={components:{ProductSearchInput:$t,AdminPageHeader:ge,ExprotTable:gt},setup(){const{permsArray:e,selectedWarehouse:l,willSubscriptionModuleVisible:c}=J(),{url:n,stockAlertColumns:h,stockAlertHashableColumns:y}=Mo(),u=T(void 0),d=Re(),m=je();it(()=>{(!(e.value.includes("products_view")||e.value.includes("admin"))||!c("reports"))&&d.push("admin.dashboard.index")}),x(()=>{p()});const p=()=>{m.tableUrl.value={url:n,filters:{"products.id":u.value},extraFilters:{fetch_stock_alert:!0}},m.hashable.value=[...y],m.exportDetails.value={allowExport:!0,exportType:"stock_alert_reports"},m.fetch({page:1})};return me(l,(_,f)=>{p()}),{stockAlertColumns:h,...m,searchProductId:u,getTableData:p,permsArray:e}}},D2={class:"table-responsive"};function T2(e,l,c,n,h,y){const u=o("ExprotTable"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("a-col"),b=o("ProductSearchInput"),v=o("a-row"),k=o("admin-page-filters"),$=o("a-avatar"),A=o("a-badge"),O=o("a-table"),F=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.stock_alert"),class:"p-0"},{extra:a(()=>[t(u,{exportType:"stock_alert_reports",tableName:"stock-alert-reports-table",title:`${e.$t("menu.stock_alert")} ${e.$t("menu.reports")}`},null,8,["title"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.reports")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.stock_alert")),1)]),_:1})]),_:1})]),_:1}),t(k,null,{default:a(()=>[t(v,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(v,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:6},{default:a(()=>[t(b,{onValueChanged:l[0]||(l[0]=P=>{n.searchProductId=P,n.getTableData()})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(v,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",D2,[t(O,{columns:n.stockAlertColumns,"row-key":P=>P.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,id:"stock-alert-reports-table",bordered:"",size:"middle"},{bodyCell:a(({column:P,record:E})=>[P.dataIndex==="name"?(r(),C(A,{key:0},{default:a(()=>[t($,{shape:"square",src:E.image_url},null,8,["src"]),i(" "+s(E.name),1)]),_:2},1024)):D("",!0),P.dataIndex==="current_stock"?(r(),S(I,{key:1},[i(s(`${E.details.current_stock} ${E.unit.short_name}`),1)],64)):D("",!0),P.dataIndex==="stock_quantitiy_alert"?(r(),S(I,{key:2},[i(s(`${E.details.stock_quantitiy_alert} ${E.unit.short_name}`),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const E2=W(A2,[["render",T2]]),O2=Z({props:["data","orderType","visible"],components:{OrderTable:Yt,DateRangePicker:tt},setup(e,{emit:l}){const{paymentStatus:c,permsArray:n}=J(),h=T("sales"),y=Se({payment_status:"all",user_id:void 0,dates:[]}),u=T(null),d=()=>{y.payment_status="all",l("closed")};return me(()=>e.visible,(m,p)=>{m==!0&&(e.data.user_type=="suppliers"?h.value=e.orderType==""?"purchases":"purchase-returns":h.value=e.orderType==""?"sales":"sales-returns",y.user_id=e.data.xid,y.dates=[],u&&u.value&&u.value.resetPicker())}),{onClose:d,paymentStatus:c,filters:y,activeOrderType:h,drawerWidth:window.innerWidth<=991?"90%":"70%",serachDateRangePicker:u,permsArray:n}}});function I2(e,l,c,n,h,y){const u=o("a-select-option"),d=o("a-select"),m=o("a-col"),p=o("DateRangePicker"),_=o("a-row"),f=o("OrderTable"),g=o("a-drawer");return r(),C(g,{title:e.data.name,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},maskClosable:!0,destroyOnClose:!0,onClose:e.onClose},{default:a(()=>[t(_,{gutter:[8,8],class:"mb-20"},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:5,xl:5},{default:a(()=>[t(d,{value:e.filters.payment_status,"onUpdate:value":l[0]||(l[0]=b=>e.filters.payment_status=b),placeholder:e.$t("common.select_default_text",[e.$t("payments.payment_status")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[t(u,{title:e.$t("common.all"),value:"all"},{default:a(()=>[i(s(e.$t("common.all")),1)]),_:1},8,["title"]),(r(!0),S(I,null,Q(e.paymentStatus,b=>(r(),C(u,{key:b.key,title:b.value,value:b.key},{default:a(()=>[i(s(b.value),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(p,{ref:"serachDateRangePicker",onDateTimeChanged:l[1]||(l[1]=b=>e.filters.dates=b)},null,512)]),_:1})]),_:1}),t(f,{orderType:e.activeOrderType,filters:e.filters,perPageItems:10},null,8,["orderType","filters"])]),_:1},8,["title","width","open","onClose"])}const P2=W(O2,[["render",I2]]),U2={components:{UserInfo:He,Details:P2,AdminPageHeader:ge,UserBalance:Ma,ExprotTable:gt},setup(){const{userType:e,columns:l,filterableColumns:c}=Lo(),n=Ke(),{formatAmountCurrency:h,getOrderTypeFromstring:y,statusColors:u,permsArray:d,convertToPositive:m,selectedWarehouse:p,willSubscriptionModuleVisible:_}=J(),f=T(!1),g=T({}),b=T("sales"),v=Re();it(()=>{(!(d.value.includes("customers_view")||d.value.includes("suppliers_view")||d.value.includes("admin"))||!_("reports"))&&v.push("admin.dashboard.index"),d.value.includes("customers_view")||d.value.includes("admin")?e.value="customers":(d.value.includes("suppliers_view")||d.value.includes("admin"))&&(e.value="suppliers")}),x(()=>{k()});const k=()=>{n.tableUrl.value={url:`${e.value}?fields=id,xid,user_type,name,email,profile_image,profile_image_url,phone,details{purchase_order_count,purchase_return_count,sales_order_count,sales_return_count,total_amount,paid_amount,due_amount}`,filters:""},n.table.filterableColumns=c,n.exportDetails.value={allowExport:!0,exportType:"user_reports"},n.fetch({page:1})},$=(A,O)=>{g.value=O,b.value=A,f.value=!0};return me(p,(A,O)=>{k()}),{columns:l,...n,filterableColumns:c,statusColors:u,userType:e,formatAmountCurrency:h,convertToPositive:m,getOrderTypeFromstring:y,setUrlData:k,permsArray:d,detailsVisible:f,openUserReportDrawer:$,selectedUser:g,activeOrderType:b}}},F2={class:"table-responsive"},q2=["onClick"],M2={key:1},R2=["onClick"],K2={key:1},V2=["onClick"],z2={key:1},L2=["onClick"],B2={key:1};function W2(e,l,c,n,h,y){const u=o("ExprotTable"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("a-col"),b=o("a-select-option"),v=o("a-select"),k=o("a-input-search"),$=o("a-input-group"),A=o("a-row"),O=o("admin-page-filters"),F=o("a-tab-pane"),P=o("a-tabs"),E=o("UserInfo"),U=o("UserBalance"),R=o("a-table"),L=o("Details"),K=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.users_reports"),class:"p-0"},{extra:a(()=>[t(u,{exportType:"user_reports",tableName:"users-reports-table",title:e.$t("menu.users_reports")},null,8,["title"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.reports")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.users_reports")),1)]),_:1})]),_:1})]),_:1}),t(O,null,{default:a(()=>[t(A,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(A,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:10,xl:10},{default:a(()=>[t($,{compact:""},{default:a(()=>[t(v,{style:{width:"35%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=V=>e.table.searchColumn=V),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,V=>(r(),C(b,{key:V.key},{default:a(()=>[i(s(V.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(k,{style:{width:"65%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=V=>e.table.searchString=V),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(K,null,{default:a(()=>[t(A,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[t(P,{activeKey:n.userType,"onUpdate:activeKey":l[2]||(l[2]=V=>n.userType=V),onChange:n.setUrlData},{default:a(()=>[n.permsArray.includes("customers_view")||n.permsArray.includes("admin")?(r(),C(F,{key:"customers",tab:e.$t("menu.customers")},null,8,["tab"])):D("",!0),n.permsArray.includes("suppliers_view")||n.permsArray.includes("admin")?(r(),C(F,{key:"suppliers",tab:e.$t("menu.suppliers")},null,8,["tab"])):D("",!0)]),_:1},8,["activeKey","onChange"])]),_:1})]),_:1}),t(A,{gutter:[16,16]},{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",F2,[t(R,{columns:n.columns,"row-key":V=>V.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,id:"users-reports-table",bordered:"",size:"middle"},{bodyCell:a(({column:V,text:q,record:B})=>[V.dataIndex==="name"?(r(),C(E,{key:0,user:B},null,8,["user"])):D("",!0),V.dataIndex==="user_details.purchase_order_count"?(r(),S(I,{key:1},[n.permsArray.includes("purchases_view")||n.permsArray.includes("admin")?(r(),S("a",{key:0,onClick:Y=>n.openUserReportDrawer("",B)},s(B.details.purchase_order_count),9,q2)):(r(),S("span",M2,s(B.details.purchase_order_count),1))],64)):D("",!0),V.dataIndex==="user_details.purchase_return_count"?(r(),S(I,{key:2},[n.permsArray.includes("purchase_returns_view")||n.permsArray.includes("admin")?(r(),S("a",{key:0,onClick:Y=>n.openUserReportDrawer("returns",B)},s(B.details.purchase_return_count),9,R2)):(r(),S("span",K2,s(B.details.purchase_return_count),1))],64)):D("",!0),V.dataIndex==="user_details.sales_order_count"?(r(),S(I,{key:3},[n.permsArray.includes("sales_view")||n.permsArray.includes("admin")?(r(),S("a",{key:0,onClick:Y=>n.openUserReportDrawer("",B)},s(B.details.sales_order_count),9,V2)):(r(),S("span",z2,s(B.details.sales_order_count),1))],64)):D("",!0),V.dataIndex==="user_details.sales_return_count"?(r(),S(I,{key:4},[n.permsArray.includes("sales_returns_view")||n.permsArray.includes("admin")?(r(),S("a",{key:0,onClick:Y=>n.openUserReportDrawer("returns",B)},s(B.details.sales_return_count),9,L2)):(r(),S("span",B2,s(B.details.sales_return_count),1))],64)):D("",!0),V.dataIndex==="user_details.total_amount"?(r(),S(I,{key:5},[i(s(n.formatAmountCurrency(n.convertToPositive(B.details.total_amount))),1)],64)):D("",!0),V.dataIndex==="user_details.paid_amount"?(r(),S(I,{key:6},[i(s(n.formatAmountCurrency(n.convertToPositive(B.details.paid_amount))),1)],64)):D("",!0),V.dataIndex==="user_details.due_amount"?(r(),C(U,{key:7,amount:B.details.due_amount},null,8,["amount"])):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1}),t(L,{visible:n.detailsVisible,onClosed:l[3]||(l[3]=V=>n.detailsVisible=!1),data:n.selectedUser,orderType:n.activeOrderType,destroyOnClose:!0},null,8,["visible","data","orderType"])]),_:1})],64)}const j2=W(U2,[["render",W2]]),H2={components:{AdminPageHeader:ge,Payments:qo,DateRangePicker:tt,WalletOutlined:Nn,BankOutlined:qn},setup(){const{permsArray:e}=J(),l=T("cash"),c=Re(),n=Se({dates:[]});return it(()=>{e.value.includes("customers_view")||e.value.includes("suppliers_view")||e.value.includes("admin")||c.push("admin.dashboard.index")}),{activeType:l,filters:n}}};function N2(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("DateRangePicker"),g=o("a-col"),b=o("a-row"),v=o("admin-page-filters"),k=o("WalletOutlined"),$=o("a-tab-pane"),A=o("BankOutlined"),O=o("a-tabs"),F=o("Payments"),P=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.cash_bank"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.cash_bank")),1)]),_:1})]),_:1})]),_:1}),t(v,null,{default:a(()=>[t(b,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:6,xl:4},{default:a(()=>[t(f,{onDateTimeChanged:l[0]||(l[0]=E=>{n.filters.dates=E})})]),_:1})]),_:1})]),_:1}),t(P,null,{default:a(()=>[t(b,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[t(O,{activeKey:n.activeType,"onUpdate:activeKey":l[1]||(l[1]=E=>n.activeType=E)},{default:a(()=>[t($,{key:"cash"},{tab:a(()=>[w("span",null,[t(k),i(" "+s(e.$t("payments.cash")),1)])]),_:1}),t($,{key:"bank"},{tab:a(()=>[w("span",null,[t(A),i(" "+s(e.$t("payments.bank")),1)])]),_:1})]),_:1},8,["activeKey"])]),_:1})]),_:1}),t(F,{dates:n.filters.dates,paymentMode:n.activeType},null,8,["dates","paymentMode"])]),_:1})],64)}const Y2=W(H2,[["render",N2]]),G2=Z({props:{user_id:null,paymentMode:null,dates:{default:[],type:null}},components:{UserInfo:He,PaymentStatus:ut},setup(e){const{salesSummaryColumns:l,orderHashableColumns:c}=Ro(),{formatDateTime:n,formatAmountCurrency:h,selectedWarehouse:y}=J(),u=je();x(()=>{d(e)});const d=m=>{const p={};m.user_id&&m.user_id!=null&&(p.staff_user_id=m.user_id),u.tableUrl.value={url:"sales?fields=id,xid,order_date,invoice_number,total,payment_status,user_id,x_user_id,user{id,xid,name,profile_image,profile_image_url,user_type},staff_user_id,x_staff_user_id,staffMember{id,xid,name,profile_image,profile_image_url,user_type}",filters:p,extraFilters:{dates:m.dates}},u.hashable.value=[...c],u.table.sorter={field:"order_date",order:"desc"},u.exportDetails.value={allowExport:!0,exportType:"sales_summary_reports"},u.fetch({page:1})};return me(e,(m,p)=>{d(m)}),me(y,(m,p)=>{d(e)}),{salesSummaryColumns:l,...u,formatDateTime:n,formatAmountCurrency:h}}}),J2={key:0,class:"table-responsive"};function Q2(e,l,c,n,h,y){const u=o("UserInfo"),d=o("PaymentStatus"),m=o("a-table"),p=o("a-col"),_=o("a-row");return r(),C(_,null,{default:a(()=>[t(p,{span:24},{default:a(()=>[e.table.loading?D("",!0):(r(),S("div",J2,[t(m,{columns:e.salesSummaryColumns,"row-key":f=>f.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,id:"sales-summary-reports-table",bordered:"",size:"middle"},{bodyCell:a(({column:f,record:g})=>[f.dataIndex==="order_date"?(r(),S(I,{key:0},[i(s(e.formatDateTime(g.order_date)),1)],64)):D("",!0),f.dataIndex==="payment_type"?(r(),S(I,{key:1},[i(s(g.payment_type=="in"?e.$t("menu.payment_in"):e.$t("menu.payment_out")),1)],64)):D("",!0),f.dataIndex==="user_id"?(r(),C(u,{key:2,user:g.user},null,8,["user"])):D("",!0),f.dataIndex==="amount"?(r(),S(I,{key:3},[i(s(e.formatAmountCurrency(g.total)),1)],64)):D("",!0),f.dataIndex==="payment_status"?(r(),C(d,{key:4,paymentStatus:g.payment_status},null,8,["paymentStatus"])):D("",!0),f.dataIndex==="staff_user_id"?(r(),S(I,{key:5},[i(s(g.staff_member.name),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])]))]),_:1})]),_:1})}const X2=W(G2,[["render",Q2]]),Z2={components:{UserInfo:He,DateRangePicker:tt,AdminPageHeader:ge,SalesSummary:X2,ExprotTable:gt},setup(){const e=je(),{permsArray:l,willSubscriptionModuleVisible:c}=J(),n=Se({user_id:void 0,payment_mode_id:void 0,dates:[]}),h=T({}),y=Re();return it(()=>{(!(l.value.includes("users_view")||l.value.includes("admin"))||!c("reports"))&&y.push("admin.dashboard.index")}),x(()=>{const u=axiosAdmin.get("users?limit=10000");Promise.all([u]).then(([d])=>{h.value=d.data})}),{...e,filters:n,users:h,permsArray:l}}};function x2(e,l,c,n,h,y){const u=o("ExprotTable"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("a-col"),b=o("a-select-option"),v=o("a-select"),k=o("DateRangePicker"),$=o("a-row"),A=o("admin-page-filters"),O=o("SalesSummary"),F=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.sales_summary"),class:"p-0"},{extra:a(()=>[t(u,{exportType:"sales_summary_reports",tableName:"sales-summary-reports-table",title:`${e.$t("menu.sales_summary")} ${e.$t("menu.reports")}`},null,8,["title"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.reports")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.sales_summary")),1)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t($,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t($,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(v,{value:n.filters.user_id,"onUpdate:value":l[0]||(l[0]=P=>n.filters.user_id=P),placeholder:e.$t("common.select_default_text",[e.$t("staff_member.staff_member")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.users,P=>(r(),C(b,{key:P.xid,title:P.name,value:P.xid},{default:a(()=>[i(s(P.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1}),t(g,{xs:24,sm:24,md:10,lg:8,xl:8},{default:a(()=>[t(k,{onDateTimeChanged:l[1]||(l[1]=P=>{n.filters.dates=P})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(O,{user_id:n.filters.user_id,dates:n.filters.dates},null,8,["user_id","dates"])]),_:1})],64)}const ek=W(Z2,[["render",x2]]),tk=Z({props:{category_id:null,brand_id:null},components:{UserInfo:He,PaymentStatus:ut},setup(e){const{summaryColumns:l,hashableColumns:c}=Ko(),{formatDateTime:n,formatAmountCurrency:h,selectedWarehouse:y}=J(),u=je();x(()=>{d(e)});const d=m=>{const p={};m.category_id&&m.category_id!=null&&(p.category_id=m.category_id),m.brand_id&&m.brand_id!=null&&(p.brand_id=m.brand_id),u.tableUrl.value={url:"products?fields=id,xid,name,,item_code,image,image_url,category_id,x_category_id,category{id,xid,name},brand_id,x_brand_id,brand{id,xid,name},unit_id,x_unit_id,unit{id,xid,name,short_name},details{stock_quantitiy_alert,opening_stock,opening_stock_date,wholesale_price,wholesale_quantity,mrp,purchase_price,sales_price,tax_id,x_tax_id,purchase_tax_type,sales_tax_type,current_stock,warehouse_id,x_warehouse_id,status},details:tax{id,xid,name,rate}",filters:p},u.hashable.value=[...c],u.table.sorter={field:"name",order:"asc"},u.exportDetails.value={allowExport:!0,exportType:"stock_summary_reports"},u.fetch({page:1})};return me(e,(m,p)=>{d(m)}),me(y,(m,p)=>{d(e)}),{summaryColumns:l,...u,formatDateTime:n,formatAmountCurrency:h}}}),ak={key:0,class:"table-responsive"},nk=w("br",null,null,-1);function ok(e,l,c,n,h,y){const u=o("a-avatar"),d=o("a-badge"),m=o("a-typography-text"),p=o("a-table"),_=o("a-col"),f=o("a-row");return r(),C(f,null,{default:a(()=>[t(_,{span:24},{default:a(()=>[e.table.loading?D("",!0):(r(),S("div",ak,[t(p,{columns:e.summaryColumns,"row-key":g=>g.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,id:"stock-summary-reports-table",bordered:"",size:"middle"},{bodyCell:a(({column:g,record:b})=>[g.dataIndex==="name"?(r(),C(d,{key:0},{default:a(()=>[t(u,{shape:"square",src:b.image_url},null,8,["src"]),i(" "+s(b.name),1)]),_:2},1024)):D("",!0),g.dataIndex==="category_id"?(r(),S(I,{key:1},[i(s(b.category.name),1)],64)):D("",!0),g.dataIndex==="brand_id"?(r(),S(I,{key:2},[i(s(b.brand&&b.brand.xid?b.brand.name:"-"),1)],64)):D("",!0),g.dataIndex==="sales_price"?(r(),S(I,{key:3},[i(s(e.formatAmountCurrency(b.details.sales_price)),1)],64)):D("",!0),g.dataIndex==="purchase_price"?(r(),S(I,{key:4},[i(s(e.formatAmountCurrency(b.details.purchase_price)),1)],64)):D("",!0),g.dataIndex==="current_stock"?(r(),S(I,{key:5},[i(s(`${b.details.current_stock} ${b.unit.short_name}`),1)],64)):D("",!0),g.dataIndex==="stock_value"?(r(),S(I,{key:6},[i(s(e.$t("product.by_purchase"))+" : ",1),t(m,{strong:""},{default:a(()=>[i(s(e.formatAmountCurrency(b.details.current_stock*b.details.purchase_price)),1)]),_:2},1024),nk,i(" "+s(e.$t("product.by_sales"))+" : ",1),t(m,{strong:""},{default:a(()=>[i(s(e.formatAmountCurrency(b.details.current_stock*b.details.sales_price)),1)]),_:2},1024)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])]))]),_:1})]),_:1})}const lk=W(tk,[["render",ok]]),sk={components:{AdminPageHeader:ge,StockSummary:lk,ExprotTable:gt},setup(){const e=je(),{permsArray:l,getRecursiveCategories:c,filterTreeNode:n,willSubscriptionModuleVisible:h}=J(),y=Se({category_id:void 0,brand_id:void 0}),u=T([]),d=T([]),m=Re();it(()=>{(!(l.value.includes("products_view")||l.value.includes("admin"))||!h("reports"))&&m.push("admin.dashboard.index")}),x(()=>{p()});const p=()=>{const _=axiosAdmin.get("categories?limit=10000"),f=axiosAdmin.get("brands?limit=10000");Promise.all([_,f]).then(([g,b])=>{u.value=c(g),d.value=b.data})};return{...e,filters:y,categories:u,brands:d,permsArray:l,filterTreeNode:n}}};function rk(e,l,c,n,h,y){const u=o("ExprotTable"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("a-col"),b=o("a-tree-select"),v=o("a-select-option"),k=o("a-select"),$=o("a-row"),A=o("admin-page-filters"),O=o("StockSummary"),F=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.stock_summary"),class:"p-0"},{extra:a(()=>[t(u,{exportType:"stock_summary_reports",tableName:"stock-summary-reports-table",title:`${e.$t("menu.stock_summary")} ${e.$t("menu.reports")}`},null,8,["title"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.reports")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.stock_summary")),1)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t($,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t($,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(b,{value:n.filters.category_id,"onUpdate:value":l[0]||(l[0]=P=>n.filters.category_id=P),"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"250px",overflow:"auto"},placeholder:e.$t("common.select_default_text",[e.$t("category.category")]),"tree-data":n.categories,"allow-clear":"","tree-default-expand-all":"",filterTreeNode:n.filterTreeNode},null,8,["value","placeholder","tree-data","filterTreeNode"])]),_:1}),t(g,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(k,{value:n.filters.brand_id,"onUpdate:value":l[1]||(l[1]=P=>n.filters.brand_id=P),placeholder:e.$t("common.select_default_text",[e.$t("product.brand")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.brands,P=>(r(),C(v,{key:P.xid,title:P.name,value:P.xid},{default:a(()=>[i(s(P.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(O,{category_id:n.filters.category_id,brand_id:n.filters.brand_id},null,8,["category_id","brand_id"])]),_:1})],64)}const dk=W(sk,[["render",rk]]),ik=Z({props:{product_id:null},components:{UserInfo:He,PaymentStatus:ut},setup(e){const{columns:l,hashableColumns:c}=Vo(),{formatDateTime:n,formatAmountCurrency:h,selectedWarehouse:y}=J(),u=je();x(()=>{d(e)});const d=m=>{const p={};m.product_id&&m.product_id!=null&&(p.x_id=m.product_id),u.tableUrl.value={url:"products?fields=id,xid,name,,item_code,image,image_url,category_id,x_category_id,category{id,xid,name},brand_id,x_brand_id,brand{id,xid,name},unit_id,x_unit_id,unit{id,xid,name,short_name},details{mrp,sales_price,tax_id,x_tax_id,purchase_tax_type,sales_tax_type},details:tax{id,xid,name,rate}",extraFilters:p},u.hashable.value=[...c],u.table.sorter={field:"name",order:"asc"},u.exportDetails.value={allowExport:!0,exportType:"rate_list_reports"},u.fetch({page:1})};return me(e,(m,p)=>{d(m)}),me(y,(m,p)=>{d(e)}),{columns:l,...u,formatDateTime:n,formatAmountCurrency:h}}}),uk={key:0,class:"table-responsive"};function mk(e,l,c,n,h,y){const u=o("a-avatar"),d=o("a-badge"),m=o("a-table"),p=o("a-col"),_=o("a-row");return r(),C(_,null,{default:a(()=>[t(p,{span:24},{default:a(()=>[e.table.loading?D("",!0):(r(),S("div",uk,[t(m,{columns:e.columns,"row-key":f=>f.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,id:"rate-list-reports-table",bordered:"",size:"middle"},{bodyCell:a(({column:f,record:g})=>[f.dataIndex==="name"?(r(),C(d,{key:0},{default:a(()=>[t(u,{shape:"square",src:g.image_url},null,8,["src"]),i(" "+s(g.name),1)]),_:2},1024)):D("",!0),f.dataIndex==="category_id"?(r(),S(I,{key:1},[i(s(g.category&&g.category.name?g.category.name:"-"),1)],64)):D("",!0),f.dataIndex==="brand_id"?(r(),S(I,{key:2},[i(s(g.brand&&g.brand.name?g.brand.name:"-"),1)],64)):D("",!0),f.dataIndex==="mrp"?(r(),S(I,{key:3},[i(s(g.details.mrp?e.formatAmountCurrency(g.details.mrp):"-"),1)],64)):D("",!0),f.dataIndex==="sales_price"?(r(),S(I,{key:4},[i(s(e.formatAmountCurrency(g.details.sales_price)),1)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])]))]),_:1})]),_:1})}const ck=W(ik,[["render",mk]]),pk={components:{AdminPageHeader:ge,RateList:ck,ProductSearchInput:$t,ExprotTable:gt},setup(){const e=je(),{permsArray:l,willSubscriptionModuleVisible:c}=J(),n=Re(),h=Se({product_id:void 0});return it(()=>{(!(l.value.includes("products_view")||l.value.includes("admin"))||!c("reports"))&&n.push("admin.dashboard.index")}),{...e,permsArray:l,filters:h}}};function _k(e,l,c,n,h,y){const u=o("ExprotTable"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("a-col"),b=o("ProductSearchInput"),v=o("a-row"),k=o("admin-page-filters"),$=o("RateList"),A=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.rate_list"),class:"p-0"},{extra:a(()=>[t(u,{exportType:"rate_list_reports",tableName:"rate-list-reports-table",title:`${e.$t("menu.rate_list")} ${e.$t("menu.reports")}`},null,8,["title"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.reports")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.rate_list")),1)]),_:1})]),_:1})]),_:1}),t(k,null,{default:a(()=>[t(v,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(v,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:8,xl:6},{default:a(()=>[t(b,{onValueChanged:l[0]||(l[0]=O=>{n.filters.product_id=O})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t($,{product_id:n.filters.product_id},null,8,["product_id"])]),_:1})],64)}const fk=W(pk,[["render",_k]]),gk=Z({props:{product_id:null,category_id:null,dates:{default:[],type:null}},components:{UserInfo:He,PaymentStatus:ut},setup(e){const{columns:l,hashableColumns:c}=zo(),{formatDateTime:n,formatAmountCurrency:h,selectedWarehouse:y}=J(),u=je();x(()=>{u.table.pagination={pageSize:1e4,showSizeChanger:!1},d(e)});const d=p=>{const _={};p.product_id&&p.product_id!=null&&(_.product_id=p.product_id),u.tableUrl.value={url:"order-items?fields=id",filters:_,extraFilters:{product_sales_summary:!0,dates:p.dates,category_id:p.category_id}},u.hashable.value=[...c],u.table.sorter={field:"products.name",order:"asc"},u.exportDetails.value={allowExport:!0,exportType:"product_sales_summary_reports"},u.fetch({page:1})},m=pe(()=>{let p=0,_=0;return u.table.data.forEach(f=>{p+=f.product.details.purchase_price*f.unit_sold,_+=f.total_sales_price}),{totalPurchasePrice:p,totalSalesPrice:_}});return me(e,(p,_)=>{d(p)}),me(y,(p,_)=>{d(e)}),{columns:l,...u,formatDateTime:n,formatAmountCurrency:h,totals:m}}}),yk={key:0,class:"table-responsive"};function hk(e,l,c,n,h,y){const u=o("a-avatar"),d=o("a-badge"),m=o("a-table-summary-cell"),p=o("a-typography-text"),_=o("a-table-summary-row"),f=o("a-table"),g=o("a-col"),b=o("a-row");return r(),C(b,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[e.table.loading?D("",!0):(r(),S("div",yk,[t(f,{columns:e.columns,"row-key":v=>v.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,id:"product-sales-summary-reports-table",bordered:"",size:"middle"},{bodyCell:a(({column:v,record:k})=>[v.dataIndex==="name"?(r(),C(d,{key:0},{default:a(()=>[t(u,{shape:"square",src:k.product.image_url},null,8,["src"]),i(" "+s(k.product.name),1)]),_:2},1024)):D("",!0),v.dataIndex==="unit_sold"?(r(),S(I,{key:1},[i(s(`${k.unit_sold} ${k.product.unit.short_name}`),1)],64)):D("",!0),v.dataIndex==="total_purchase_price"?(r(),S(I,{key:2},[i(s(e.formatAmountCurrency(k.unit_sold*k.product.details.purchase_price)),1)],64)):D("",!0),v.dataIndex==="total_sales_price"?(r(),S(I,{key:3},[i(s(e.formatAmountCurrency(k.total_sales_price)),1)],64)):D("",!0)]),summary:a(()=>[t(_,null,{default:a(()=>[t(m,{"col-span":2}),t(m,{"col-span":1},{default:a(()=>[t(p,{strong:""},{default:a(()=>[i(s(e.$t("common.total")),1)]),_:1})]),_:1}),t(m,{"col-span":1},{default:a(()=>[t(p,{strong:""},{default:a(()=>[i(s(e.formatAmountCurrency(e.totals.totalPurchasePrice)),1)]),_:1})]),_:1}),t(m,{"col-span":1},{default:a(()=>[t(p,{strong:""},{default:a(()=>[i(s(e.formatAmountCurrency(e.totals.totalSalesPrice)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])]))]),_:1})]),_:1})}const bk=W(gk,[["render",hk]]),vk={components:{AdminPageHeader:ge,ProductSaleSummary:bk,ProductSearchInput:$t,DateRangePicker:tt,ExprotTable:gt},setup(){const e=je(),{permsArray:l,getRecursiveCategories:c,filterTreeNode:n,willSubscriptionModuleVisible:h}=J(),y=Re(),u=Se({product_id:void 0,category_id:void 0,dates:[]}),d=T([]);return it(()=>{(!(l.value.includes("products_view")||l.value.includes("admin"))||!h("reports"))&&y.push("admin.dashboard.index")}),x(()=>{const m=axiosAdmin.get("categories?limit=10000");Promise.all([m]).then(([p])=>{d.value=c(p)})}),{...e,permsArray:l,filters:u,filterTreeNode:n,categories:d}}};function kk(e,l,c,n,h,y){const u=o("ExprotTable"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("a-col"),b=o("ProductSearchInput"),v=o("a-tree-select"),k=o("DateRangePicker"),$=o("a-row"),A=o("admin-page-filters"),O=o("ProductSaleSummary"),F=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.product_sales_summary"),class:"p-0"},{extra:a(()=>[t(u,{exportType:"product_sales_summary_reports",tableName:"product-sales-summary-reports-table",title:`${e.$t("menu.product_sales_summary")} ${e.$t("menu.reports")}`},null,8,["title"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.reports")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.product_sales_summary")),1)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t($,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t($,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:8,xl:6},{default:a(()=>[t(b,{onValueChanged:l[0]||(l[0]=P=>{n.filters.product_id=P})})]),_:1}),t(g,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(v,{value:n.filters.category_id,"onUpdate:value":l[1]||(l[1]=P=>n.filters.category_id=P),"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"250px",overflow:"auto"},placeholder:e.$t("common.select_default_text",[e.$t("category.category")]),"tree-data":n.categories,"allow-clear":"","tree-default-expand-all":"",filterTreeNode:n.filterTreeNode},null,8,["value","placeholder","tree-data","filterTreeNode"])]),_:1}),t(g,{xs:24,sm:24,md:10,lg:6,xl:6},{default:a(()=>[t(k,{onDateTimeChanged:l[2]||(l[2]=P=>{n.filters.dates=P})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(F,null,{default:a(()=>[t(O,{product_id:n.filters.product_id,dates:n.filters.dates,category_id:n.filters.category_id},null,8,["product_id","dates","category_id"])]),_:1})],64)}const wk=W(vk,[["render",kk]]),Ck={components:{ProductSearchInput:$t,AdminPageHeader:ge,ExprotTable:gt,DateRangePicker:tt},setup(){const{permsArray:e,selectedWarehouse:l,formatAmountCurrency:c,formatDate:n,willSubscriptionModuleVisible:h}=J(),{url:y,expenseColumns:u,expenseHashableColumns:d}=Bo(),m=T(void 0),p=Re(),_=je(),f=T({expense_category_id:void 0,user_id:void 0}),g=T([]),b=T([]),v=T({dates:[]});it(()=>{(!(e.value.includes("expenses_view")||e.value.includes("admin"))||!h("reports"))&&p.push("admin.dashboard.index")}),x(()=>{const A=axiosAdmin.get("expense-categories?limit=10000"),O=axiosAdmin.get("users?limit=10000");Promise.all([A,O]).then(([F,P])=>{g.value=F.data,b.value=P.data}),k()});const k=()=>{_.tableUrl.value={url:y,filters:f,extraFilters:v},_.hashable.value=[...d],_.exportDetails.value={allowExport:!0,exportType:"expense_reports"},_.fetch({page:1})},$=pe(()=>{let A=0;return _.table.data.forEach(O=>{A+=O.amount}),{totalAmount:A}});return me(l,(A,O)=>{k()}),{expenseColumns:u,..._,searchProductId:m,getTableData:k,permsArray:e,filters:f,extraFilters:v,expenseCategories:g,staffMembers:b,formatAmountCurrency:c,formatDate:n,totals:$}}},Sk={class:"table-responsive"};function $k(e,l,c,n,h,y){const u=o("ExprotTable"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("a-col"),b=o("a-select-option"),v=o("a-select"),k=o("DateRangePicker"),$=o("a-row"),A=o("admin-page-filters"),O=o("a-table-summary-cell"),F=o("a-typography-text"),P=o("a-table-summary-row"),E=o("a-table"),U=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.expense_reports"),class:"p-0"},{extra:a(()=>[t(u,{exportType:"expense_reports",tableName:"expense-reports-table",title:`${e.$t("menu.expenses")} ${e.$t("menu.reports")}`},null,8,["title"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.reports")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.expense_reports")),1)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t($,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t($,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(v,{value:n.filters.expense_category_id,"onUpdate:value":l[0]||(l[0]=R=>n.filters.expense_category_id=R),"show-search":"",style:{width:"100%"},placeholder:e.$t("common.select_default_text",[e.$t("expense.expense_category")]),onChange:n.getTableData,allowClear:!0,optionFilterProp:"label"},{default:a(()=>[(r(!0),S(I,null,Q(n.expenseCategories,R=>(r(),C(b,{key:R.xid,value:R.xid,label:R.name},{default:a(()=>[i(s(R.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1}),t(g,{xs:24,sm:24,md:8,lg:6,xl:6},{default:a(()=>[t(v,{value:n.filters.user_id,"onUpdate:value":l[1]||(l[1]=R=>n.filters.user_id=R),"show-search":"",style:{width:"100%"},placeholder:e.$t("common.select_default_text",[e.$t("expense.user")]),onChange:n.getTableData,allowClear:!0,optionFilterProp:"label"},{default:a(()=>[(r(!0),S(I,null,Q(n.staffMembers,R=>(r(),C(b,{key:R.xid,value:R.xid,label:R.name},{default:a(()=>[i(s(R.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1}),t(g,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(k,{onDateTimeChanged:l[2]||(l[2]=R=>{n.extraFilters.dates=R,n.getTableData()})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(U,null,{default:a(()=>[t($,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[w("div",Sk,[t(E,{columns:n.expenseColumns,"row-key":R=>R.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,id:"expense-reports-table",bordered:"",size:"middle"},{bodyCell:a(({column:R,record:L})=>{var K;return[R.dataIndex==="expense_category_id"?(r(),S(I,{key:0},[i(s(L.expense_category.name),1)],64)):D("",!0),R.dataIndex==="amount"?(r(),S(I,{key:1},[i(s(n.formatAmountCurrency(L.amount)),1)],64)):D("",!0),R.dataIndex==="date"?(r(),S(I,{key:2},[i(s(n.formatDate(L.date)),1)],64)):D("",!0),R.dataIndex==="user_id"?(r(),S(I,{key:3},[i(s((K=L.user)==null?void 0:K.name),1)],64)):D("",!0)]}),summary:a(()=>[t(P,null,{default:a(()=>[t(O,{"col-span":2}),t(O,{"col-span":1},{default:a(()=>[t(F,{strong:""},{default:a(()=>[i(s(e.$t("common.total")),1)]),_:1})]),_:1}),t(O,{"col-span":1},{default:a(()=>[t(F,{strong:""},{default:a(()=>[i(s(n.formatAmountCurrency(n.totals.totalAmount)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const Ak=W(Ck,[["render",$k]]),Dk={components:{BarChartOutlined:Kl,UnorderedListOutlined:Bn,ShoppingCartOutlined:ft,ClockCircleOutlined:Vl,ProductSearchInput:$t,AdminPageHeader:ge,ExprotTable:gt,DateRangePicker:tt},setup(){const{permsArray:e,selectedWarehouse:l,formatAmountCurrency:c,formatDate:n,willSubscriptionModuleVisible:h}=J(),y=Re(),u=Se({dates:[],active_report_type:"daily_income"}),d=T([]),m=ke(),p=T("by_order"),_=T([]);it(()=>{(!(e.value.includes("products_view")&&e.value.includes("purchases_view")&&e.value.includes("sales_view")&&e.value.includes("purchase_returns_view")&&e.value.includes("sales_returns_view")||e.value.includes("admin"))||!h("reports"))&&y.push("admin.dashboard.index")}),x(()=>{f(u)});const f=g=>{axiosAdmin.post("reports/profit-loss",g).then(b=>{d.value=b.data.results,_.value=b.data.dates;var v="profit_loss_reports",k=m.state.auth.allExportData,$=Xe(k,O=>O.export_type!=v),A=Xe($,O=>O.export_type!="profit_loss_reports_by_dates");m.commit("auth/updatAllExportData",[...A,{export_type:v,data:[b.data.results],url:"reports/profit-loss"},{export_type:"profit_loss_reports_by_dates",data:b.data.dates,url:"reports/profit-loss"}])})};return me(u,(g,b)=>{f(g)}),{permsArray:e,formatAmountCurrency:c,formatDate:n,filters:u,reportData:d,dateWiseReportResults:_,selectedTab:p}}},Tk={key:0,id:"profit-loss-reports-by-dates-table"};function Ek(e,l,c,n,h,y){const u=o("ExprotTable"),d=o("a-page-header"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("AdminPageHeader"),g=o("a-col"),b=o("DateRangePicker"),v=o("a-row"),k=o("admin-page-filters"),$=o("ShoppingCartOutlined"),A=o("a-descriptions-item"),O=o("a-typography-text"),F=o("a-descriptions"),P=o("a-tab-pane"),E=o("ClockCircleOutlined"),U=o("a-result"),R=o("a-tabs"),L=o("admin-page-table-content");return r(),S(I,null,[t(f,null,{header:a(()=>[t(d,{title:e.$t("menu.profit_loss"),class:"p-0"},{extra:a(()=>[n.selectedTab=="by_order"?(r(),C(u,{key:0,exportType:"profit_loss_reports",tableName:"profit-loss-reports-table",title:`${e.$t("menu.profit_loss")} ${e.$t("menu.reports")}`},null,8,["title"])):D("",!0),n.selectedTab=="by_dates"&&n.dateWiseReportResults.length>0?(r(),C(u,{key:1,exportType:"profit_loss_reports_by_dates",tableName:"profit-loss-reports-by-dates-table",title:`${e.$t("menu.profit_loss")} ${e.$t("menu.reports")}`},null,8,["title"])):D("",!0)]),_:1},8,["title"])]),breadcrumb:a(()=>[t(_,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.reports")),1)]),_:1}),t(p,null,{default:a(()=>[i(s(e.$t("menu.profit_loss")),1)]),_:1})]),_:1})]),_:1}),t(k,null,{default:a(()=>[t(v,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(v,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:8,xl:8},{default:a(()=>[t(b,{onDateTimeChanged:l[0]||(l[0]=K=>{n.filters.dates=K})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(L,null,{default:a(()=>[t(R,{activeKey:n.selectedTab,"onUpdate:activeKey":l[1]||(l[1]=K=>n.selectedTab=K)},{default:a(()=>[t(P,{key:"by_order"},{tab:a(()=>[t($),i(" "+s(e.$t("report.by_order")),1)]),default:a(()=>[t(v,{id:"profit-loss-reports-table"},{default:a(()=>[t(g,{span:24,class:"mt-10"},{default:a(()=>[t(F,{title:e.$t("common.profit_reports_by_orders"),column:1,bordered:"",size:"middle"},{default:a(()=>[t(A,null,{label:a(()=>[w("strong",null,s(e.$t("common.particulars")),1)]),default:a(()=>[w("strong",null,s(e.$t("common.amount")),1)]),_:1}),t(A,null,{label:a(()=>[i(s(e.$t("menu.sales"))+" (+) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(n.reportData.sales)),1)]),_:1}),t(A,null,{label:a(()=>[i(s(e.$t("menu.purchases"))+" (-) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(n.reportData.purchases)),1)]),_:1}),t(A,null,{label:a(()=>[i(s(e.$t("menu.purchase_returns"))+" (+) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(n.reportData.purchase_returns)),1)]),_:1}),t(A,null,{label:a(()=>[i(s(e.$t("menu.sales_returns"))+" (-) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(n.reportData.sales_returns)),1)]),_:1}),t(A,null,{label:a(()=>[i(s(e.$t("stock_transfer.stock_transfer_transfered"))+" (+) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(n.reportData.stock_transfer_transfered)),1)]),_:1}),t(A,null,{label:a(()=>[i(s(e.$t("stock_transfer.stock_transfer_received"))+" (-) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(n.reportData.stock_transfer_received)),1)]),_:1}),t(A,null,{label:a(()=>[i(s(e.$t("menu.expenses"))+" (-) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(n.reportData.expenses)),1)]),_:1}),t(A,{label:e.$t("common.profit")},{default:a(()=>[t(O,{type:n.reportData.profit>0?"success":"danger",strong:""},{default:a(()=>[i(s(n.formatAmountCurrency(n.reportData.profit)),1)]),_:1},8,["type"])]),_:1},8,["label"])]),_:1},8,["title"])]),_:1})]),_:1})]),_:1}),t(P,{key:"by_dates"},{tab:a(()=>[t(E),i(" "+s(e.$t("report.by_dates")),1)]),default:a(()=>[n.dateWiseReportResults.length>0?(r(),S("div",Tk,[(r(!0),S(I,null,Q(n.dateWiseReportResults,(K,V,q)=>(r(),C(v,{key:K.date},{default:a(()=>[t(g,{span:24,class:ca(["mt-10",`tbl_result_${V}`])},{default:a(()=>[t(F,{style:{"margin-top":"10px"},column:1,bordered:"",size:"middle"},{default:a(()=>[t(A,null,{label:a(()=>[w("strong",null,s(n.formatDate(K.date)),1)]),_:2},1024),t(A,null,{label:a(()=>[w("strong",null,s(e.$t("common.particulars")),1)]),default:a(()=>[w("strong",null,s(e.$t("common.amount")),1)]),_:1}),t(A,null,{label:a(()=>[i(s(e.$t("menu.sales"))+" (+) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(K.result.sales)),1)]),_:2},1024),t(A,null,{label:a(()=>[i(s(e.$t("menu.purchases"))+" (-) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(K.result.purchases)),1)]),_:2},1024),t(A,null,{label:a(()=>[i(s(e.$t("menu.purchase_returns"))+" (+) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(K.result.purchase_returns)),1)]),_:2},1024),t(A,null,{label:a(()=>[i(s(e.$t("menu.sales_returns"))+" (-) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(K.result.sales_returns)),1)]),_:2},1024),t(A,null,{label:a(()=>[i(s(e.$t("stock_transfer.stock_transfer_transfered"))+" (+) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(K.result.stock_transfer_transfered)),1)]),_:2},1024),t(A,null,{label:a(()=>[i(s(e.$t("stock_transfer.stock_transfer_received"))+" (-) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(K.result.stock_transfer_received)),1)]),_:2},1024),t(A,null,{label:a(()=>[i(s(e.$t("menu.expenses"))+" (-) ",1)]),default:a(()=>[i(" "+s(n.formatAmountCurrency(K.result.expenses)),1)]),_:2},1024),t(A,{label:e.$t("common.profit")},{default:a(()=>[t(O,{type:K.result.profit>0?"success":"danger",strong:""},{default:a(()=>[i(s(n.formatAmountCurrency(K.result.profit)),1)]),_:2},1032,["type"])]),_:2},1032,["label"])]),_:2},1024)]),_:2},1032,["class"])]),_:2},1024))),128))])):(r(),C(v,{key:1},{default:a(()=>[t(g,{span:24,class:"mt-10"},{default:a(()=>[t(U,{title:e.$t("report.select_date"),"sub-title":e.$t("report.select_date_message")},null,8,["title","sub-title"])]),_:1})]),_:1}))]),_:1})]),_:1},8,["activeKey"])]),_:1})],64)}const Ok=W(Dk,[["render",Ek]]),Ik=[{path:"/admin/reports/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"payments",component:$2,name:"admin.reports.payments.index",meta:{requireAuth:!0,menuParent:"reports",menuKey:"payments"}},{path:"stock-alert",component:E2,name:"admin.reports.stock.index",meta:{requireAuth:!0,menuParent:"reports",menuKey:"stock_alert"}},{path:"users",component:j2,name:"admin.reports.users.index",meta:{requireAuth:!0,menuParent:"reports",menuKey:"users_reports"}},{path:"sales-summary",component:ek,name:"admin.reports.sales_summary.index",meta:{requireAuth:!0,menuParent:"reports",menuKey:"sales_summary",permission:"users_view"}},{path:"stock-summary",component:dk,name:"admin.reports.stock_summary.index",meta:{requireAuth:!0,menuParent:"reports",menuKey:"stock_summary",permission:"products_view"}},{path:"rate-list",component:fk,name:"admin.reports.rate_list.index",meta:{requireAuth:!0,menuParent:"reports",menuKey:"rate_list",permission:"products_view"}},{path:"product-sales-summary",component:wk,name:"admin.reports.product_sales_summary.index",meta:{requireAuth:!0,menuParent:"reports",menuKey:"product_sales_summary",permission:"products_view"}},{path:"cash-bank",component:Y2,name:"admin.reports.cash_bank.index",meta:{requireAuth:!0,menuParent:"cash_bank",menuKey:"cash_bank"}},{path:"expenses",component:Ak,name:"admin.reports.expenses.index",meta:{requireAuth:!0,menuParent:"reports",menuKey:"expense_reports"}},{path:"profit-loss",component:Ok,name:"admin.reports.profit_loss.index",meta:{requireAuth:!0,menuParent:"reports",menuKey:"profit_loss"}}]}],Pk={props:{showFilter:{default:!0}},emits:["addOrEditSuccess"],components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:Fa,OnlineStoreStatus:Po},setup(e,{emit:l}){const{permsArray:c,appSetting:n}=J(),{url:h,addEditUrl:y,initData:u,columns:d,filterableColumns:m}=Ua(),p=Ke();return x(()=>{p.tableUrl.value={url:h},p.table.filterableColumns=m,p.fetch({page:1}),p.crudUrl.value=y,p.langKey.value="warehouse",p.initData.value={...u},p.formData.value={...u}}),{appSetting:n,permsArray:c,columns:d,...p,filterableColumns:m,addOrEditSuccess:f=>{p.addEditSuccess(f),l("addOrEditSuccess",{action_type:p.addEditType.value,xid:f})}}}},Uk={class:"table-responsive"},Fk=w("br",null,null,-1);function qk(e,l,c,n,h,y){const u=o("AddEdit"),d=o("a-select-option"),m=o("a-select"),p=o("a-input-search"),_=o("a-input-group"),f=o("a-col"),g=o("a-row"),b=o("a-image"),v=o("OnlineStoreStatus"),k=o("a-button"),$=o("router-link"),A=o("EditOutlined"),O=o("DeleteOutlined"),F=o("a-table");return r(),S("div",null,[t(u,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:n.addOrEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),c.showFilter?(r(),C(g,{key:0,gutter:[15,15],class:"mb-20"},{default:a(()=>[t(f,{xs:24,sm:24,md:12,lg:8,xl:8},{default:a(()=>[t(_,{compact:""},{default:a(()=>[t(m,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=P=>e.table.searchColumn=P),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,P=>(r(),C(d,{key:P.key},{default:a(()=>[i(s(P.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(p,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=P=>e.table.searchString=P),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})):D("",!0),t(g,{class:"mt-20"},{default:a(()=>[t(f,{span:24},{default:a(()=>[w("div",Uk,[t(F,{columns:n.columns,"row-key":P=>P.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange},{bodyCell:a(({column:P,record:E})=>[P.dataIndex==="logo"?(r(),C(b,{key:0,width:48,src:E.logo_url},null,8,["src"])):D("",!0),P.dataIndex==="online_store_enabled"?(r(),S(I,{key:1},[t(v,{status:E.online_store_enabled,x_warehouse_id:E.xid,onSuccess:e.fetch},null,8,["status","x_warehouse_id","onSuccess"]),E.online_store_enabled==1?(r(),S(I,{key:0},[Fk,t($,{to:{name:"front.homepage",params:{warehouse:E.slug}},target:"_blank"},{default:a(()=>[t(k,{type:"link",class:"p-0 mt-5"},{default:a(()=>[i(s(e.$t("warehouse.view_online_store")),1)]),_:1})]),_:2},1032,["to"])],64)):D("",!0)],64)):D("",!0),P.dataIndex==="action"?(r(),S(I,{key:2},[n.permsArray.includes("warehouses_edit")||n.permsArray.includes("admin")?(r(),C(k,{key:0,type:"primary",onClick:U=>e.editItem(E),style:{"margin-left":"4px"}},{icon:a(()=>[t(A)]),_:2},1032,["onClick"])):D("",!0),(n.permsArray.includes("warehouses_delete")||n.permsArray.includes("admin"))&&n.appSetting.x_warehouse_id!=E.xid?(r(),C(k,{key:1,type:"primary",onClick:U=>e.showDeleteConfirm(E.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(O)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})])}const Mk=W(Pk,[["render",qk]]),Rk={props:{showFilter:{default:!0},panelType:{type:String,default:"admin"}},emits:["addOrEditSuccess"],components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:Ka},setup(e,{emit:l}){const{permsArray:c,appSetting:n}=J(),{url:h,addEditUrl:y,initData:u,columns:d,filterableColumns:m}=Ra(e.panelType),p=Ke();return x(()=>{p.tableUrl.value={url:h},p.table.filterableColumns=m,p.fetch({page:1}),p.crudUrl.value=y,p.langKey.value="currency",p.initData.value={...u},p.formData.value={...u}}),{appSetting:n,permsArray:c,columns:d,...p,filterableColumns:m,addOrEditSuccess:f=>{p.addEditSuccess(f),l("addOrEditSuccess",{action_type:p.addEditType.value,xid:f})}}}},Kk={class:"table-responsive"};function Vk(e,l,c,n,h,y){const u=o("AddEdit"),d=o("a-select-option"),m=o("a-select"),p=o("a-input-search"),_=o("a-input-group"),f=o("a-col"),g=o("a-row"),b=o("EditOutlined"),v=o("a-button"),k=o("DeleteOutlined"),$=o("a-table");return r(),S("div",null,[t(u,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:n.addOrEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),c.showFilter?(r(),C(g,{key:0,gutter:[15,15],class:"mb-20"},{default:a(()=>[t(f,{xs:24,sm:24,md:12,lg:8,xl:8},{default:a(()=>[t(_,{compact:""},{default:a(()=>[t(m,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=A=>e.table.searchColumn=A),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,A=>(r(),C(d,{key:A.key},{default:a(()=>[i(s(A.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(p,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=A=>e.table.searchString=A),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})):D("",!0),t(g,{class:"mt-20"},{default:a(()=>[t(f,{span:24},{default:a(()=>[w("div",Kk,[t($,{columns:n.columns,"row-key":A=>A.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange},{bodyCell:a(({column:A,record:O})=>[A.dataIndex==="action"?(r(),S(I,{key:0},[c.panelType=="admin"&&(n.permsArray.includes("currencies_edit")||n.permsArray.includes("admin"))||c.panelType=="superadmin"?(r(),C(v,{key:0,type:"primary",onClick:F=>e.editItem(O),style:{"margin-left":"4px"}},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])):D("",!0),(c.panelType=="admin"&&(n.permsArray.includes("currencies_delete")||n.permsArray.includes("admin"))||c.panelType=="superadmin")&&n.appSetting.x_currency_id!=O.xid?(r(),C(v,{key:1,type:"primary",onClick:F=>e.showDeleteConfirm(O.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})])}const zk=W(Rk,[["render",Vk]]),Lk={props:{showFilter:{default:!0}},emits:["addOrEditSuccess"],components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:Ia},setup(e,{emit:l}){const{permsArray:c}=J(),{url:n,addEditUrl:h,initData:y,columns:u,filterableColumns:d}=Oa(),m=Ke();return x(()=>{m.tableUrl.value={url:n},m.table.filterableColumns=d,m.fetch({page:1}),m.crudUrl.value=h,m.langKey.value="payment_mode",m.initData.value={...y},m.formData.value={...y}}),{permsArray:c,columns:u,...m,filterableColumns:d,addOrEditSuccess:_=>{m.addEditSuccess(_),l("addOrEditSuccess",{action_type:m.addEditType.value,xid:_})}}}},Bk={class:"table-responsive"},Wk={key:0},jk={key:1};function Hk(e,l,c,n,h,y){const u=o("AddEdit"),d=o("a-select-option"),m=o("a-select"),p=o("a-input-search"),_=o("a-input-group"),f=o("a-col"),g=o("a-row"),b=o("EditOutlined"),v=o("a-button"),k=o("DeleteOutlined"),$=o("a-table");return r(),S("div",null,[t(u,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:n.addOrEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),c.showFilter?(r(),C(g,{key:0,gutter:[15,15],class:"mb-20"},{default:a(()=>[t(f,{xs:24,sm:24,md:12,lg:8,xl:8},{default:a(()=>[t(_,{compact:""},{default:a(()=>[t(m,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=A=>e.table.searchColumn=A),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,A=>(r(),C(d,{key:A.key},{default:a(()=>[i(s(A.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(p,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=A=>e.table.searchString=A),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})):D("",!0),t(g,{class:"mt-20"},{default:a(()=>[t(f,{span:24},{default:a(()=>[w("div",Bk,[t($,{columns:n.columns,"row-key":A=>A.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange},{bodyCell:a(({column:A,record:O})=>[A.dataIndex==="action"?(r(),S(I,{key:0},[O.name.toLowerCase()!="cash"?(r(),S("span",Wk,[n.permsArray.includes("payment_modes_edit")||n.permsArray.includes("admin")?(r(),C(v,{key:0,type:"primary",onClick:F=>e.editItem(O),style:{"margin-left":"4px"}},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])):D("",!0),n.permsArray.includes("payment_modes_delete")||n.permsArray.includes("admin")?(r(),C(v,{key:1,type:"primary",onClick:F=>e.showDeleteConfirm(O.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(k)]),_:2},1032,["onClick"])):D("",!0)])):(r(),S("span",jk," - "))],64)):D("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})])}const Nk=W(Lk,[["render",Hk]]),Yk={props:{showSubmitButton:{default:!0}},emits:["updateSuccess"],components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,ExclamationCircleOutlined:Ae,SaveOutlined:he,SettingOutlined:_t,ColorPicker:Wn,Upload:ot,CurrencyAddButton:To,WarehouseAddButton:qt,CreateMenuSetting:Io,FormItemHeading:aa},setup(e,{emit:l}){const{addEditRequestAdmin:c,loading:n,rules:h}=ve(),{permsArray:y,appSetting:u,dayjsObject:d,appType:m}=J(),{t:p}=te(),_=ke(),f=T({}),g=T([]),b=T([]),v=T([]),k=T([]),$=T([]),A=u.value,O="currencies?limit=10000",F="warehouses?limit=10000",P="timezones",E=T("linear-gradient(0deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 100%)"),U=window.config.theme_mode;x(()=>{const B=axiosAdmin.get(F),Y=axiosAdmin.get(O),N=axiosAdmin.get(P);Promise.all([B,Y,N]).then(([le,H,G])=>{b.value=le.data,g.value=H.data,v.value=G.data.timezones,k.value=G.data.date_formates,$.value=G.data.time_formates,R()})});const R=()=>{f.value={name:A.name,short_name:A.short_name,email:A.email,phone:A.phone,address:A.address,left_sidebar_theme:A.left_sidebar_theme,dark_logo:A.dark_logo,dark_logo_url:A.dark_logo_url,light_logo:A.light_logo,light_logo_url:A.light_logo_url,small_dark_logo:A.small_dark_logo,small_light_logo:A.small_light_logo,small_dark_logo_url:A.small_dark_logo_url,small_light_logo_url:A.small_light_logo_url,login_image:A.login_image,login_image_url:A.login_image_url,shortcut_menus:A.shortcut_menus,rtl:A.rtl,currency_id:A.x_currency_id,warehouse_id:A.x_warehouse_id,primary_color:A.primary_color,timezone:A.timezone,date_format:A.date_format,time_format:A.time_format,auto_detect_timezone:A.auto_detect_timezone,app_debug:A.app_debug,update_app_notification:A.update_app_notification,_method:"PUT"}};return{appType:m,permsArray:y,formData:f,loading:n,rules:h,warehouses:b,currencies:g,onSubmit:()=>{c({url:`companies/${A.xid}`,data:f.value,successMessage:p("company.updated"),success:B=>{_.dispatch("auth/updateApp"),l("updateSuccess")}})},currencyAdded:()=>{axiosAdmin.get(O).then(B=>{g.value=B.data})},warehouseAdded:()=>{axiosAdmin.get(F).then(B=>{b.value=B.data})},gradientColor:E,timezones:v,dateFormats:k,timeFormats:$,dayjsObject:d,appThemeMode:U,addMenuSettingUpdated:B=>{f.value.shortcut_menus=B}}}},Gk={class:"mt-40"},Jk={style:{display:"flex"}},Qk={style:{display:"flex"}},Xk={class:"mt-30"},Zk={class:"mt-30"};function xk(e,l,c,n,h,y){const u=o("FormItemHeading"),d=o("a-input"),m=o("a-form-item"),p=o("a-col"),_=o("a-row"),f=o("a-select-option"),g=o("a-select"),b=o("CurrencyAddButton"),v=o("WarehouseAddButton"),k=o("a-switch"),$=o("color-picker"),A=o("Upload"),O=o("SaveOutlined"),F=o("a-button"),P=o("a-form");return r(),C(P,{layout:"vertical"},{default:a(()=>[w("div",Gk,[t(u,null,{default:a(()=>[i(s(e.$t("setup_company.basic_settings")),1)]),_:1})]),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.name"),name:"name",help:n.rules.name?n.rules.name.message:null,validateStatus:n.rules.name?"error":null,class:"required"},{default:a(()=>[t(d,{value:n.formData.name,"onUpdate:value":l[0]||(l[0]=E=>n.formData.name=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.short_name"),name:"short_name",help:n.rules.short_name?n.rules.short_name.message:null,validateStatus:n.rules.short_name?"error":null,class:"required"},{default:a(()=>[t(d,{value:n.formData.short_name,"onUpdate:value":l[1]||(l[1]=E=>n.formData.short_name=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.short_name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.email"),name:"email",help:n.rules.email?n.rules.email.message:null,validateStatus:n.rules.email?"error":null,class:"required"},{default:a(()=>[t(d,{value:n.formData.email,"onUpdate:value":l[2]||(l[2]=E=>n.formData.email=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.email")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.phone"),name:"phone",help:n.rules.phone?n.rules.phone.message:null,validateStatus:n.rules.phone?"error":null,class:"required"},{default:a(()=>[t(d,{value:n.formData.phone,"onUpdate:value":l[3]||(l[3]=E=>n.formData.phone=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.date_format"),name:"date_format",help:n.rules.date_format?n.rules.date_format.message:null,validateStatus:n.rules.date_format?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.date_format,"onUpdate:value":l[4]||(l[4]=E=>n.formData.date_format=E),placeholder:e.$t("common.select_default_text",[e.$t("company.date_format")]),allowClear:!0,optionFilterProp:"value","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.dateFormats,(E,U)=>(r(),C(f,{key:U,value:E},{default:a(()=>[i(s(`(${U}) => `+n.dayjsObject().format(E)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.time_format"),name:"time_format",help:n.rules.time_format?n.rules.time_format.message:null,validateStatus:n.rules.time_format?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.time_format,"onUpdate:value":l[5]||(l[5]=E=>n.formData.time_format=E),placeholder:e.$t("common.select_default_text",[e.$t("company.time_format")]),allowClear:!0,optionFilterProp:"value","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.timeFormats,(E,U)=>(r(),C(f,{key:U,value:U},{default:a(()=>[i(s(`(${E}) => `+n.dayjsObject().format(U)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.currency"),name:"currency_id",help:n.rules.currency_id?n.rules.currency_id.message:null,validateStatus:n.rules.currency_id?"error":null,class:"required"},{default:a(()=>[w("span",Jk,[t(g,{value:n.formData.currency_id,"onUpdate:value":l[6]||(l[6]=E=>n.formData.currency_id=E),placeholder:e.$t("common.select_default_text",[e.$t("company.currency")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.currencies,E=>(r(),C(f,{key:E.xid,value:E.xid},{default:a(()=>[i(s(`${E.name} (${E.symbol})`),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"]),t(b,{onOnAddSuccess:n.currencyAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("warehouse.warehouse"),name:"warehouse_id",help:n.rules.warehouse_id?n.rules.warehouse_id.message:null,validateStatus:n.rules.warehouse_id?"error":null,class:"required"},{default:a(()=>[w("span",Qk,[t(g,{value:n.formData.warehouse_id,"onUpdate:value":l[7]||(l[7]=E=>n.formData.warehouse_id=E),placeholder:e.$t("common.select_default_text",[e.$t("warehouse.warehouse")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.warehouses,E=>(r(),C(f,{key:E.xid,value:E.xid,label:E.name},{default:a(()=>[i(s(E.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder"]),t(v,{onOnAddSuccess:n.warehouseAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:4,lg:4},{default:a(()=>[t(m,{label:e.$t("company.auto_detect_timezone"),name:"auto_detect_timezone",help:n.rules.auto_detect_timezone?n.rules.auto_detect_timezone.message:null,validateStatus:n.rules.auto_detect_timezone?"error":null},{default:a(()=>[t(k,{checked:n.formData.auto_detect_timezone,"onUpdate:checked":l[8]||(l[8]=E=>n.formData.auto_detect_timezone=E),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:8,lg:8},{default:a(()=>[t(m,{label:e.$t("company.default_timezone"),name:"timezone",help:n.rules.timezone?n.rules.timezone.message:null,validateStatus:n.rules.timezone?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.timezone,"onUpdate:value":l[9]||(l[9]=E=>n.formData.timezone=E),placeholder:e.$t("common.select_default_text",[e.$t("company.default_timezone")]),allowClear:!0,optionFilterProp:"value","show-search":""},{default:a(()=>[(r(!0),S(I,null,Q(n.timezones,(E,U)=>(r(),C(f,{key:U,value:E},{default:a(()=>[i(s(E),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),n.appType=="non-saas"?(r(),C(p,{key:0,xs:24,sm:24,md:4,lg:4},{default:a(()=>[t(m,{label:e.$t("company.app_debug"),name:"app_debug",help:n.rules.app_debug?n.rules.app_debug.message:null,validateStatus:n.rules.app_debug?"error":null},{default:a(()=>[t(k,{checked:n.formData.app_debug,"onUpdate:checked":l[10]||(l[10]=E=>n.formData.app_debug=E),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})):D("",!0),n.appType=="non-saas"?(r(),C(p,{key:1,xs:24,sm:24,md:4,lg:4},{default:a(()=>[t(m,{label:e.$t("company.update_app_notification"),name:"update_app_notification",help:n.rules.update_app_notification?n.rules.update_app_notification.message:null,validateStatus:n.rules.update_app_notification?"error":null},{default:a(()=>[t(k,{checked:n.formData.update_app_notification,"onUpdate:checked":l[11]||(l[11]=E=>n.formData.update_app_notification=E),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})):D("",!0)]),_:1}),w("div",Xk,[t(u,null,{default:a(()=>[i(s(e.$t("setup_company.theme_settings")),1)]),_:1})]),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.left_sidebar_theme"),name:"left_sidebar_theme",help:n.rules.left_sidebar_theme?n.rules.left_sidebar_theme.message:null,validateStatus:n.rules.left_sidebar_theme?"error":null},{default:a(()=>[t(g,{value:n.formData.left_sidebar_theme,"onUpdate:value":l[12]||(l[12]=E=>n.formData.left_sidebar_theme=E),placeholder:e.$t("common.select_default_text",[e.$t("company.left_sidebar_theme")])},{default:a(()=>[t(f,{key:"dark",value:"dark"},{default:a(()=>[i(s(e.$t("company.dark")),1)]),_:1}),n.appThemeMode!="dark"?(r(),C(f,{key:"light",value:"light"},{default:a(()=>[i(s(e.$t("company.light")),1)]),_:1})):D("",!0)]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.primary_color"),name:"primary_color",help:n.rules.primary_color?n.rules.primary_color.message:null,validateStatus:n.rules.primary_color?"error":null},{default:a(()=>[t($,{pureColor:n.formData.primary_color,"onUpdate:pureColor":l[13]||(l[13]=E=>n.formData.primary_color=E),format:"hex",useType:"pure",gradientColor:n.gradientColor,"onUpdate:gradientColor":l[14]||(l[14]=E=>n.gradientColor=E)},null,8,["pureColor","gradientColor"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.layout"),name:"rtl",help:n.rules.rtl?n.rules.rtl.message:null,validateStatus:n.rules.rtl?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.rtl,"onUpdate:value":l[15]||(l[15]=E=>n.formData.rtl=E),placeholder:e.$t("common.select_default_text",[e.$t("company.layout")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:a(()=>[t(f,{key:"rtl",value:1},{default:a(()=>[i(s(e.$t("company.rtl")),1)]),_:1}),t(f,{key:"ltr",value:0},{default:a(()=>[i(s(e.$t("company.ltr")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(m,{label:e.$t("company.shortcut_menu_Placement"),name:"shortcut_menus",help:n.rules.shortcut_menus?n.rules.shortcut_menus.message:null,validateStatus:n.rules.shortcut_menus?"error":null,class:"required"},{default:a(()=>[t(g,{value:n.formData.shortcut_menus,"onUpdate:value":l[16]||(l[16]=E=>n.formData.shortcut_menus=E),placeholder:e.$t("common.select_default_text",[e.$t("company.shortcut_menu_Placement")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:a(()=>[t(f,{key:"top_bottom",value:"top_bottom"},{default:a(()=>[i(s(e.$t("company.top_and_bottom")),1)]),_:1}),t(f,{key:"top",value:"top"},{default:a(()=>[i(s(e.$t("company.top_header")),1)]),_:1}),t(f,{key:"bottom",value:"bottom"},{default:a(()=>[i(s(e.$t("company.bottom_corner")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),w("div",Zk,[t(u,null,{default:a(()=>[i(s(e.$t("setup_company.logo_settings")),1)]),_:1})]),t(_,{gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(m,{label:e.$t("company.dark_logo"),name:"dark_logo",help:n.rules.dark_logo?n.rules.dark_logo.message:null,validateStatus:n.rules.dark_logo?"error":null},{default:a(()=>[t(A,{formData:n.formData,folder:"company",imageField:"dark_logo",onOnFileUploaded:l[17]||(l[17]=E=>{n.formData.dark_logo=E.file,n.formData.dark_logo_url=E.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(m,{label:e.$t("company.light_logo"),name:"light_logo",help:n.rules.light_logo?n.rules.light_logo.message:null,validateStatus:n.rules.light_logo?"error":null},{default:a(()=>[t(A,{formData:n.formData,folder:"company",imageField:"light_logo",onOnFileUploaded:l[18]||(l[18]=E=>{n.formData.light_logo=E.file,n.formData.light_logo_url=E.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(m,{label:e.$t("company.small_dark_logo"),name:"small_dark_logo",help:n.rules.small_dark_logo?n.rules.small_dark_logo.message:null,validateStatus:n.rules.small_dark_logo?"error":null},{default:a(()=>[t(A,{formData:n.formData,folder:"company",imageField:"small_dark_logo",onOnFileUploaded:l[19]||(l[19]=E=>{n.formData.small_dark_logo=E.file,n.formData.small_dark_logo_url=E.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(m,{label:e.$t("company.small_light_logo"),name:"small_light_logo",help:n.rules.small_light_logo?n.rules.small_light_logo.message:null,validateStatus:n.rules.small_light_logo?"error":null},{default:a(()=>[t(A,{formData:n.formData,folder:"company",imageField:"small_light_logo",onOnFileUploaded:l[20]||(l[20]=E=>{n.formData.small_light_logo=E.file,n.formData.small_light_logo_url=E.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),n.appType=="non-saas"?(r(),C(_,{key:0,gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:6,lg:6},{default:a(()=>[t(m,{label:e.$t("company.login_image"),name:"login_image",help:n.rules.login_image?n.rules.login_image.message:null,validateStatus:n.rules.login_image?"error":null},{default:a(()=>[t(A,{formData:n.formData,folder:"company",imageField:"login_image",onOnFileUploaded:l[21]||(l[21]=E=>{n.formData.login_image=E.file,n.formData.login_image_url=E.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):D("",!0),c.showSubmitButton?(r(),C(_,{key:1,gutter:16},{default:a(()=>[t(p,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(m,null,{default:a(()=>[t(F,{type:"primary",onClick:n.onSubmit,loading:n.loading},{icon:a(()=>[t(O)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})):D("",!0)]),_:1})}const e0=W(Yk,[["render",xk]]),t0=Z({components:{PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,DoubleRightOutlined:Fn,DoubleLeftOutlined:zl,SaveOutlined:he,SyncOutlined:vt,CheckCircleOutlined:Ca,HomeOutlined:Aa,InfoCircleOutlined:Pt,WarehouseTable:Mk,CurrencyTable:zk,PaymentModeTable:Nk,EditSetupSetting:e0},setup(){J();const e=Re(),l=ke(),c=T(null),n=T(null),h=T(null),y=T(null),u=T([]),d=T(0),m=T(0),p=Se({warehouseStepStatus:"wait",currencyStepStatus:"wait",paymentModeStepStatus:"wait",companySettingStepStatus:"wait"}),_=T(!1),f=T(!1);x(()=>{g()});const g=()=>{axiosAdmin.get("app").then(K=>{u.value=K.data,p.warehouseStepStatus=u.value.total_warehouses>0?"finish":"wait",p.currencyStepStatus=u.value.total_currencies>0?"finish":"wait",p.paymentModeStepStatus=u.value.total_payment_modes>0?"finish":"wait",p.companySettingStepStatus=b()==!1?"finish":"wait",u.value.total_warehouses==0?(d.value=0,m.value=0,p.warehouseStepStatus="error"):u.value.total_currencies==0?(d.value=1,m.value=1,p.currencyStepStatus="error"):u.value.total_payment_modes==0?(d.value=2,m.value=2,p.paymentModeStepStatus="error"):b()?(d.value=3,m.value=3,p.companySettingStepStatus="error"):(d.value=3,m.value=3,f.value=!0,_.value=!0)})},b=()=>u.value.app.x_warehouse_id==null||u.value.app.x_currency_id==null,v=()=>{c.value.addItem()},k=K=>{g()},$=()=>{n.value.addItem()},A=K=>{g()},O=()=>{h.value.addItem()},F=K=>{g()},P=()=>{y.value.onSubmit()},E=()=>{_.value=!0,axiosAdmin.post("/user").then(function(K){l.commit("auth/updateUser",K.data.user),axiosAdmin.post("change-warehouse",{warehouse_id:K.data.user.x_warehouse_id}).then(V=>{l.commit("auth/updateWarehouse",V.data.warehouse),f.value=!0})}).catch(function(K){})},U=()=>{_.value=!1,e.push({name:"admin.dashboard.index"})},R=()=>{d.value=d.value==0?0:d.value-1},L=()=>{d.value=d.value>=3?3:d.value+1};return{appDetails:u,currentStep:d,correctStep:m,...dt(p),warhouseTableRef:c,addWarehouse:v,warehouseAddSuccess:k,currencyTableRef:n,addCurrency:$,currencyAddSuccess:A,paymentModeTableRef:h,addPaymentMode:O,paymentModeAddSuccess:F,companySettingRef:y,submitCompanySetting:P,companySettingUpdated:E,showFinalModal:_,setupCompleted:f,goToDashboard:U,goBack:R,goNext:L}}}),a0={style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"left",zIndex:1,marginBottom:"10px"}},n0={key:0,style:{color:"#7676e3"}},o0={key:1,style:{color:"#7676e3"}};function l0(e,l,c,n,h,y){const u=o("a-alert"),d=o("a-step"),m=o("a-steps"),p=o("a-divider"),_=o("PlusOutlined"),f=o("a-button"),g=o("WarehouseTable"),b=o("CurrencyTable"),v=o("PaymentModeTable"),k=o("EditSetupSetting"),$=o("a-col"),A=o("a-row"),O=o("a-card"),F=o("DoubleLeftOutlined"),P=o("DoubleRightOutlined"),E=o("SaveOutlined"),U=o("a-space"),R=o("CheckCircleOutlined"),L=o("InfoCircleOutlined"),K=o("HomeOutlined"),V=o("SyncOutlined"),q=o("a-result"),B=o("a-modal");return r(),S(I,null,[t(u,{message:e.$t("setup_company.setup_not_completed"),description:e.$t("setup_company.setup_not_completed_description"),type:"error","show-icon":""},null,8,["message","description"]),t(O,{class:"setup-page-content-container"},{default:a(()=>[t(A,{class:"mt-40"},{default:a(()=>[t($,{span:20,offset:1},{default:a(()=>[t(m,{current:e.currentStep},{default:a(()=>[t(d,{status:e.warehouseStepStatus},{title:a(()=>[i(s(e.$t("setup_company.warehouse")),1)]),description:a(()=>[w("span",null,s(e.$t("setup_company.add_first_warehouse")),1)]),_:1},8,["status"]),t(d,{status:e.currencyStepStatus},{title:a(()=>[i(s(e.$t("setup_company.currency")),1)]),description:a(()=>[w("span",null,s(e.$t("setup_company.add_first_currency")),1)]),_:1},8,["status"]),t(d,{status:e.paymentModeStepStatus},{title:a(()=>[i(s(e.$t("setup_company.payment_mode")),1)]),description:a(()=>[w("span",null,s(e.$t("setup_company.add_payment_mode")),1)]),_:1},8,["status"]),t(d,{status:e.companySettingStepStatus},{title:a(()=>[i(s(e.$t("setup_company.company_settings")),1)]),description:a(()=>[w("span",null,s(e.$t("setup_company.set_company_basic_settings")),1)]),_:1},8,["status"])]),_:1},8,["current"]),t(p),e.appDetails&&e.appDetails.app&&e.appDetails.app.name?(r(),S(I,{key:0},[e.currentStep==0?(r(),S(I,{key:0},[t(f,{type:"primary",onClick:e.addWarehouse},{default:a(()=>[t(_),i(" "+s(e.$t("warehouse.add")),1)]),_:1},8,["onClick"]),t(g,{class:"mb-40",ref:"warhouseTableRef",showFilter:!1,onAddOrEditSuccess:e.warehouseAddSuccess},null,8,["onAddOrEditSuccess"])],64)):D("",!0),e.currentStep==1?(r(),S(I,{key:1},[t(f,{type:"primary",onClick:e.addCurrency},{default:a(()=>[t(_),i(" "+s(e.$t("currency.add")),1)]),_:1},8,["onClick"]),t(b,{class:"mb-40",ref:"currencyTableRef",showFilter:!1,onAddOrEditSuccess:e.currencyAddSuccess},null,8,["onAddOrEditSuccess"])],64)):D("",!0),e.currentStep==2?(r(),S(I,{key:2},[t(f,{type:"primary",onClick:e.addPaymentMode},{default:a(()=>[t(_),i(" "+s(e.$t("payment_mode.add")),1)]),_:1},8,["onClick"]),t(v,{class:"mb-40",ref:"paymentModeTableRef",showFilter:!1,onAddOrEditSuccess:e.paymentModeAddSuccess},null,8,["onAddOrEditSuccess"])],64)):D("",!0),e.currentStep==3?(r(),C(k,{key:3,class:"mb-40",ref:"companySettingRef",showSubmitButton:!1,onUpdateSuccess:e.companySettingUpdated},null,8,["onUpdateSuccess"])):D("",!0)],64)):D("",!0)]),_:1})]),_:1})]),_:1}),t(A,null,{default:a(()=>[t($,{span:20,offset:1},{default:a(()=>[w("div",a0,[t(U,null,{default:a(()=>[e.currentStep>=1&&e.currentStep!=3?(r(),C(f,{key:0,type:"primary",style:{backgroundColor:"#faad14",border:"#faad14"},onClick:e.goBack},{default:a(()=>[t(F),i(" "+s(e.$t("setup_company.previous_step")),1)]),_:1},8,["onClick"])):D("",!0),e.currentStep<3?(r(),C(f,{key:1,type:"primary",onClick:e.goNext,disabled:e.currentStep>=e.correctStep},{default:a(()=>[i(s(e.$t("setup_company.next_step"))+" ",1),t(P)]),_:1},8,["onClick","disabled"])):D("",!0),e.currentStep==3&&e.companySettingRef?(r(),C(f,{key:2,type:"primary",style:{backgroundColor:"#52c41a",border:"#52c41a"},onClick:e.submitCompanySetting,loading:e.companySettingRef.loading},{default:a(()=>[t(E),i(" "+s(e.$t("setup_company.save_finish_setup")),1)]),_:1},8,["onClick","loading"])):D("",!0)]),_:1})])]),_:1})]),_:1}),t(B,{open:e.showFinalModal,"onUpdate:open":l[0]||(l[0]=Y=>e.showFinalModal=Y),maskClosable:!1,closable:!1,footer:null,centered:""},{default:a(()=>[t(q,null,{title:a(()=>[e.setupCompleted?(r(),S("span",n0,s(e.$t("setup_company.setup_complete_message")),1)):(r(),S("span",o0,s(e.$t("setup_company.setup_running_message")),1))]),icon:a(()=>[e.setupCompleted?(r(),C(R,{key:0})):(r(),C(L,{key:1}))]),extra:a(()=>[e.setupCompleted?(r(),C(f,{key:0,type:"primary",style:{backgroundColor:"#52c41a",border:"#52c41a"},onClick:e.goToDashboard},{default:a(()=>[t(K),i(" "+s(e.$t("setup_company.go_to_dashboard")),1)]),_:1},8,["onClick"])):(r(),C(V,{key:1,style:{fontSize:"38px",color:"#5254cf"},spin:""}))]),_:1})]),_:1},8,["open"])],64)}const s0=W(t0,[["render",l0]]),Ga=[{path:"/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"/admin/setup",component:s0,name:"admin.setup_app.index",meta:{requireAuth:!0,menuParent:"",menuKey:"setup_company"}}]}];const r0={props:["product","currency"],components:{ShoppingCartOutlined:ft,MinusOutlined:Ll,PlusOutlined:ne},setup(e){const{formatAmountCurrency:l}=St(),c=ke(),n=T(!1),h=T(1),y=T({});x(()=>{const m=c.getters["front/storeCartItems"];let p=0;we(m,_=>{_.xid==e.product.xid&&(p=_.cart_quantity)}),y.value={...e.product,cart_quantity:p}});const u=()=>{n.value=!0},d=m=>{const p=c.getters["front/storeCartItems"],_=Xe(p,f=>f.xid!=m.xid);m.cart_quantity>0&&_.push({...m,cart_quantity:m.cart_quantity}),c.commit("front/addCartItems",_),Oe.success("Item updated in cart")};return me(c.state.front,(m,p)=>{let _=0;we(c.getters["front/storeCartItems"],f=>{f.xid==y.value.xid&&(_=f.cart_quantity)}),y.value={...y.value,cart_quantity:_}}),{currentProduct:y,formatAmountCurrency:l,visible:n,productQuantity:h,showModal:u,addItem:d,getSalesPriceWithTax:Ut}}},d0={key:0,class:"product"},i0={class:"product-top"},u0=["src"],m0={class:"product-bottom"},c0={class:"product-category"},p0={class:"product-title"},_0={class:"product-details"},f0={class:"product-price"},g0=w("br",null,null,-1),y0={class:"product-card-add-edit"},h0={class:"product-details-image"},b0=["src"],v0={key:0,class:"mt-10"},k0={class:"mt-10 mb-20"};function w0(e,l,c,n,h,y){const u=o("minus-outlined"),d=o("a-button"),m=o("plus-outlined"),p=o("a-button-group"),_=o("ShoppingCartOutlined"),f=o("a-col"),g=o("a-typography-title"),b=o("a-tag"),v=o("a-row"),k=o("a-modal");return r(),S(I,null,[n.currentProduct&&n.currentProduct.xid?(r(),S("div",d0,[w("div",i0,[w("a",{href:"javascript:void(0)",onClick:l[0]||(l[0]=(...$)=>n.showModal&&n.showModal(...$))},[w("img",{src:n.currentProduct.image_url,class:"img-fit"},null,8,u0)])]),w("div",m0,[w("div",null,[w("span",c0,s(n.currentProduct.category.name),1),w("h5",p0,s(n.currentProduct.name),1)]),w("div",_0,[w("div",f0,[w("span",null,s(n.formatAmountCurrency(n.getSalesPriceWithTax(n.currentProduct))),1),g0,w("del",null,s(n.formatAmountCurrency(n.currentProduct.details.mrp)),1)]),w("div",y0,[n.currentProduct.cart_quantity>0?(r(),C(p,{key:0},{default:a(()=>[t(d,{onClick:l[1]||(l[1]=$=>{n.currentProduct.cart_quantity-=1,n.addItem(n.currentProduct)}),size:"small"},{default:a(()=>[t(u)]),_:1}),t(d,{size:"small"},{default:a(()=>[i(s(n.currentProduct.cart_quantity),1)]),_:1}),t(d,{onClick:l[2]||(l[2]=$=>{n.currentProduct.cart_quantity+=1,n.addItem(n.currentProduct)}),size:"small"},{default:a(()=>[t(m)]),_:1})]),_:1})):(r(),C(d,{key:1,onClick:l[3]||(l[3]=$=>{n.currentProduct.cart_quantity++,n.addItem(n.currentProduct)}),type:"primary"},{icon:a(()=>[t(_)]),_:1}))])])])])):D("",!0),t(k,{open:n.visible,"onUpdate:open":l[7]||(l[7]=$=>n.visible=$),centered:"",footer:null,title:null,width:850},{default:a(()=>[t(v,{gutter:[16,16]},{default:a(()=>[t(f,{span:12},{default:a(()=>[w("div",h0,[w("span",null,[w("img",{src:n.currentProduct.image_url},null,8,b0)])])]),_:1}),t(f,{span:12},{default:a(()=>[t(g,{level:3},{default:a(()=>[i(s(n.currentProduct.name),1)]),_:1}),w("div",null,[n.currentProduct.category_id?(r(),C(b,{key:0,color:"purple"},{default:a(()=>[i(s(n.currentProduct.category.name),1)]),_:1})):D("",!0),n.currentProduct.brand_id?(r(),C(b,{key:1,color:"cyan"},{default:a(()=>[i(s(n.currentProduct.brand.name),1)]),_:1})):D("",!0)]),n.currentProduct.description?(r(),S("p",v0,s(n.currentProduct.description),1)):D("",!0),t(g,{class:"mt-20",level:3},{default:a(()=>[i(s(n.formatAmountCurrency(n.getSalesPriceWithTax(n.currentProduct))),1)]),_:1}),w("div",k0,[n.currentProduct.cart_quantity>0?(r(),C(p,{key:0},{default:a(()=>[t(d,{onClick:l[4]||(l[4]=$=>{n.currentProduct.cart_quantity-=1,n.addItem(n.currentProduct)}),size:"large"},{default:a(()=>[t(u)]),_:1}),t(d,{size:"large"},{default:a(()=>[i(s(n.currentProduct.cart_quantity),1)]),_:1}),t(d,{onClick:l[5]||(l[5]=$=>{n.currentProduct.cart_quantity+=1,n.addItem(n.currentProduct)}),size:"large"},{default:a(()=>[t(m)]),_:1})]),_:1})):(r(),C(d,{key:1,onClick:l[6]||(l[6]=$=>{n.currentProduct.cart_quantity++,n.addItem(n.currentProduct)}),type:"primary",size:"large"},{default:a(()=>[t(_),i(" "+s(e.$t("front_setting.add_to_cart")),1)]),_:1}))])]),_:1})]),_:1})]),_:1},8,["open"])],64)}const za=W(r0,[["render",w0]]);const C0={props:["warehouse"],components:{ShoppingCartOutlined:ft,FacebookFilled:Bl,LinkedinFilled:Wl,InstagramFilled:jl,YoutubeFilled:Hl,TwitterCircleFilled:Nl},setup(){const{formatAmountCurrency:e,frontAppSetting:l,frontWarehouse:c}=St();return{frontAppSetting:l,formatAmountCurrency:e,frontWarehouse:c}}},S0={key:0,class:"footer"},$0=["src"],A0={class:"site-description mt-20"},D0={class:"mt-10"},T0={class:"social-icon-list"},E0=["href"],O0=["href"],I0=["href"],P0=["href"],U0=["href"],F0={class:"footer-links"},q0=["href"],M0={class:"footer-links"},R0=["href"],K0=w("br",null,null,-1),V0={style:{"font-size":"13px"}},z0={key:1,class:"footer-copyright"};function L0(e,l,c,n,h,y){const u=o("a-typography-title"),d=o("FacebookFilled"),m=o("TwitterCircleFilled"),p=o("InstagramFilled"),_=o("LinkedinFilled"),f=o("YoutubeFilled"),g=o("a-col"),b=o("a-row");return r(),S(I,null,[n.frontAppSetting&&n.frontAppSetting.footer_company_description?(r(),S("div",S0,[t(b,{type:"flex",justify:"center"},{default:a(()=>[t(g,{span:20},{default:a(()=>[t(b,{gutter:[30,30]},{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:10,xl:10},{default:a(()=>[w("img",{src:n.frontWarehouse.dark_logo_url,class:"footer-logo"},null,8,$0),w("p",A0,s(n.frontAppSetting.footer_company_description),1),w("div",D0,[t(u,{level:5},{default:a(()=>[i(s(e.$t("front.follow_us")),1)]),_:1}),w("div",T0,[w("a",{href:n.frontAppSetting.facebook_url!=""?n.frontAppSetting.facebook_url:"#",target:"_blank",class:"social-icon facebook-color"},[t(d)],8,E0),w("a",{href:n.frontAppSetting.twitter_url!=""?n.frontAppSetting.twitter_url:"#",target:"_blank",class:"social-icon twitter-color ml-5"},[t(m)],8,O0),w("a",{href:n.frontAppSetting.instagram_url!=""?n.frontAppSetting.instagram_url:"#",target:"_blank",class:"social-icon instagram-color ml-5"},[t(p)],8,I0),w("a",{href:n.frontAppSetting.linkedin_url!=""?n.frontAppSetting.linkedin_url:"#",target:"_blank",class:"social-icon linkedin-color ml-5"},[t(_)],8,P0),w("a",{href:n.frontAppSetting.youtube_url!=""?n.frontAppSetting.youtube_url:"#",target:"_blank",class:"social-icon youtube-color ml-5"},[t(f)],8,U0)])])]),_:1}),t(g,{xs:24,sm:24,md:24,lg:14,xl:14},{default:a(()=>[t(b,{gutter:[30,30]},{default:a(()=>[t(g,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(u,{level:5},{default:a(()=>[i(s(e.$t("front_setting.useful_links")),1)]),_:1}),w("ul",F0,[(r(!0),S(I,null,Q(n.frontAppSetting.links_widget,(v,k)=>(r(),S("li",{key:k},[w("a",{href:v.value,target:"_blank"},s(v.title),9,q0)]))),128))])]),_:1}),t(g,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(u,{level:5},{default:a(()=>[i(s(e.$t("front_setting.pages")),1)]),_:1}),w("ul",M0,[(r(!0),S(I,null,Q(n.frontAppSetting.pages_widget,(v,k)=>(r(),S("li",{key:k},[w("a",{href:v.value,target:"_blank"},s(v.title),9,R0)]))),128))])]),_:1}),t(g,{xs:24,sm:24,md:8,lg:8,xl:8},{default:a(()=>[t(u,{level:5},{default:a(()=>[i(s(e.$t("front_setting.contact")),1)]),_:1}),(r(!0),S(I,null,Q(n.frontAppSetting.contact_info_widget,(v,k)=>(r(),S("div",{key:k,class:"mt-10"},[w("strong",null,s(v.title),1),i(" :"),K0,w("span",V0,s(v.value),1)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])):D("",!0),n.frontAppSetting&&n.frontAppSetting.footer_company_description?(r(),S("div",z0,[t(b,{type:"flex",justify:"center"},{default:a(()=>[t(g,{span:18},{default:a(()=>[w("div",null,s(n.frontAppSetting.footer_copyright_text),1)]),_:1})]),_:1})])):D("",!0)],64)}const B0=W(C0,[["render",L0]]),W0=Z({emits:["openLoginModal"],components:{ShoppingCartOutlined:ft,ShoppingOutlined:It,CloseOutlined:Yn,DeleteOutlined:fe,RightOutlined:Ht},setup(e,{emit:l}){const c=ke(),n=T(!1),h=Re(),{products:y,updateCart:u,removeItem:d,total:m,formatAmountCurrency:p,frontWarehouse:_}=St(),f=()=>n.value=!0,g=()=>n.value=!1,b=pe(()=>c.getters["front/isLoggedIn"]),v=()=>{n.value=!1,b.value?h.push({name:"front.checkout",params:{warehouse:_.value.slug}}):l("openLoginModal")};return{visible:n,showDrawer:f,closeDrawer:g,totalCartItems:pe(()=>c.getters["front/totalCartItems"]),products:y,removeItem:d,updateCart:u,formatAmountCurrency:p,total:m,proceedCheckout:v,getSalesPriceWithTax:Ut,frontWarehouse:_,innerWidth:window.innerWidth}}}),j0=w("br",null,null,-1);function H0(e,l,c,n,h,y){const u=o("shopping-cart-outlined"),d=o("a-badge"),m=o("a-button"),p=o("shopping-outlined"),_=o("close-outlined"),f=o("a-avatar"),g=o("a-list-item-meta"),b=o("a-input-number"),v=o("delete-outlined"),k=o("a-list-item"),$=o("a-list"),A=o("a-typography-title"),O=o("a-col"),F=o("right-outlined"),P=o("a-row"),E=o("a-drawer");return r(),S(I,null,[t(m,{type:"link",onClick:e.showDrawer},{default:a(()=>[t(d,{count:e.totalCartItems},{default:a(()=>[t(u,{style:{fontSize:"24px",color:"#fff",verticalAlign:"middle"}})]),_:1},8,["count"])]),_:1},8,["onClick"]),t(E,{open:e.visible,"onUpdate:open":l[0]||(l[0]=U=>e.visible=U),width:e.innerWidth<=768?"80%":500,placement:"right",closable:!1,headerStyle:{backgroundColor:"#eef2ff"}},{title:a(()=>[t(p,{style:{fontSize:"20px"}}),i(" Shopping Cart ")]),extra:a(()=>[t(m,{type:"link",onClick:e.closeDrawer},{default:a(()=>[t(_,{style:{fontSize:"14px"}})]),_:1},8,["onClick"])]),footer:a(()=>[t(P,{type:"flex",justify:"start"},{default:a(()=>[t(O,{span:12},{default:a(()=>[t(A,{level:5},{default:a(()=>[i(" Subtotal: "+s(e.formatAmountCurrency(e.total)),1)]),_:1})]),_:1}),t(O,{span:12},{default:a(()=>[t(m,{type:"primary",onClick:e.proceedCheckout,block:""},{default:a(()=>[i(" Checkout "),t(F)]),_:1},8,["onClick"])]),_:1})]),_:1})]),default:a(()=>[t($,{class:"demo-loadmore-list","item-layout":"horizontal","data-source":e.products},{renderItem:a(({item:U})=>[t(k,null,{actions:a(()=>[t(m,{type:"link",onClick:R=>e.removeItem(U.xid)},{default:a(()=>[t(v,{style:{fontSize:"20px",color:"#f87171"}})]),_:2},1032,["onClick"])]),default:a(()=>[t(g,null,{title:a(()=>[i(s(U.name)+" ",1),j0,w("small",{style:Be({color:"rgba(0, 0, 0, 0.45)"})}," Price: "+s(e.formatAmountCurrency(e.getSalesPriceWithTax(U))),5)]),avatar:a(()=>[t(f,{src:U.image_url,size:"large"},null,8,["src"])]),description:a(()=>[i(s(e.formatAmountCurrency(e.getSalesPriceWithTax(U)*U.cart_quantity)),1)]),_:2},1024),w("div",null,[t(b,{value:U.cart_quantity,"onUpdate:value":R=>U.cart_quantity=R,min:1,style:{width:"60px"},onChange:e.updateCart},null,8,["value","onUpdate:value","onChange"])])]),_:2},1024)]),_:1},8,["data-source"])]),_:1},8,["open","width"])],64)}const N0=W(W0,[["render",H0]]),sa=()=>{const e=T(!1),l=T({}),{t:c}=te(),n=ke(),h=pe(()=>n.state.front.warehouseSlug);return{loading:e,rules:l,addEditRequestFront:d=>{e.value=!0;const{url:m,data:p,success:_}=d;var f={};we(p,function(g,b){g==null?f[b]=null:f[b]=g}),f.warehouse=h.value,axiosFront.post(m,f).then(g=>{d.successMessage&&Ee.success({placement:"bottomRight",message:c("common.success"),description:d.successMessage}),_(g.data),e.value=!1,l.value={}}).catch(g=>{var b=g.data;const v=g.status;var k={};if(v==422){if(b.error&&typeof b.error.details<"u")for(var $=Object.keys(b.error.details),A=0;A<$.length;A++){var O=$[A].replace(".","\\.");k[O]={required:!0,message:b.error.details[$[A]][0]}}l.value=k,Oe.error(c("common.fix_errors"))}b&&b.message&&(Oe.error(b.message),b={error:{...b}}),d.error&&d.error(b),e.value=!1})},addEditFileRequestFront:d=>{e.value=!0;const{url:m,data:p,success:_}=d,f=new FormData;we(p,function(g,b){g==null?f.append(b,null):f.append(b,g.originFileObj)}),axiosAdmin.post(m,f,{headers:{"Content-Type":"multipart/form-data"}}).then(g=>{d.successMessage&&Ee.success({placement:"bottomRight",message:c("common.success"),description:d.successMessage}),_(g.data),e.value=!1,l.value={}}).catch(g=>{var b=g.data;const v=g.status;var k={};if(v==422){if(b.error&&typeof b.error.details<"u")for(var $=Object.keys(b.error.details),A=0;A<$.length;A++){var O=$[A].replace(".","\\.");k[O]={required:!0,message:b.error.details[$[A]][0]}}l.value=k,Oe.error(c("common.fix_errors"))}b&&b.message&&(Oe.error(b.message),b={error:{...b}}),d.error&&d.error(b),e.value=!1})}}};const Y0=Z({props:["modalVisible"],emits:["modalClosed"],components:{UserOutlined:ka,MailOutlined:wa,LockOutlined:Yl,PhoneOutlined:Gl},setup(e,{emit:l}){const c=ke(),n=T({email:null,password:null}),h=T({name:null,phone:null,email:null,password:null}),y=T(!1),{t:u}=te(),d=Re(),m=T(!0),p=T(!1),{addEditRequestFront:_,loading:f,rules:g}=sa(),{frontWarehouse:b}=J(),v=T(""),k=()=>{y.value=!0},$=()=>{v.value="",_({url:"front/login",data:n.value,successMessage:u("front.logged_in_successfully"),success:F=>{c.commit("front/updateUser",F.user),c.commit("front/updateToken",F.token),c.commit("front/updateExpires",F.expires_in),y.value=!1,d.push({name:"front.dashboard",params:{warehouse:b.value.slug}})},error:F=>{F.error_message&&(v.value=F.error_message)}})},A=()=>{v.value="",_({url:"front/signup",data:h.value,successMessage:u("front.register_successfully"),success:F=>{p.value=!0},error:F=>{F.error_message&&(v.value=F.error_message)}})},O=()=>{l("modalClosed"),m.value=!0};return me(e,(F,P)=>{y.value=F.modalVisible}),{credentials:n,rules:g,visible:y,showLogin:k,onLogin:$,errorMessage:v,loading:f,frontWarehouse:b,user:pe(()=>c.state.front.user),isLoggedIn:pe(()=>c.getters["front/isLoggedIn"]),loginModalClosed:O,loginForm:m,signupCredentials:h,onSignup:A,signupSuccess:p}}}),G0={key:0},J0={style:{textAlign:"center"},class:"mt-10"},Q0={style:{color:"#6b7280",fontSize:"16px"}},X0={key:1},Z0={style:{textAlign:"center"},class:"mt-10"},x0={style:{color:"#6b7280",fontSize:"16px"}};function ew(e,l,c,n,h,y){const u=o("a-avatar"),d=o("router-link"),m=o("a-button"),p=o("user-outlined"),_=o("a-typography-title"),f=o("a-alert"),g=o("mail-outlined"),b=o("a-input"),v=o("a-form-item"),k=o("lock-outlined"),$=o("a-input-password"),A=o("a-typography-text"),O=o("a-form"),F=o("UserOutlined"),P=o("MailOutlined"),E=o("PhoneOutlined"),U=o("a-modal");return r(),S(I,null,[e.isLoggedIn?(r(),C(m,{key:0,type:"link"},{default:a(()=>[t(d,{to:{name:"front.dashboard",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[t(u,{src:e.user.profile_image_url,size:28},null,8,["src"])]),_:1},8,["to"])]),_:1})):(r(),C(m,{key:1,type:"link",onClick:e.showLogin},{default:a(()=>[t(p,{style:{fontSize:"24px",color:"#fff",verticalAlign:"top"}})]),_:1},8,["onClick"])),t(U,{open:e.visible,"onUpdate:open":l[9]||(l[9]=R=>e.visible=R),centered:"",footer:null,title:null,width:450,closable:!1,bodyStyle:{borderRadius:"10px"},wrapClassName:"login-register-modal",onCancel:e.loginModalClosed},{default:a(()=>[e.loginForm?(r(),S("div",G0,[w("div",J0,[t(_,{level:2,style:{marginBottom:"0px"}},{default:a(()=>[i(s(e.$t("front.login")),1)]),_:1}),w("p",Q0,s(e.$t("front.login_using_email_password")),1)]),t(O,{layout:"vertical",class:"mt-30"},{default:a(()=>[e.errorMessage!=""?(r(),C(f,{key:0,message:e.errorMessage,type:"error",class:"mb-10","show-icon":""},null,8,["message"])):D("",!0),t(v,{label:e.$t("user.email_phone"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null},{default:a(()=>[t(b,{value:e.credentials.email,"onUpdate:value":l[0]||(l[0]=R=>e.credentials.email=R),onPressEnter:e.onLogin,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.email_phone")])},{prefix:a(()=>[t(g)]),_:1},8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(v,{label:e.$t("user.password"),name:"password",help:e.rules.password?e.rules.password.message:null,validateStatus:e.rules.password?"error":null},{default:a(()=>[t($,{value:e.credentials.password,"onUpdate:value":l[1]||(l[1]=R=>e.credentials.password=R),onPressEnter:e.onLogin,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.password")]),autocomplete:"off"},{prefix:a(()=>[t(k)]),_:1},8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(v,null,{default:a(()=>[t(m,{type:"primary",class:"mt-10",onClick:e.onLogin,loading:e.loading,block:""},{default:a(()=>[i(s(e.$t("front.login")),1)]),_:1},8,["onClick","loading"])]),_:1}),t(v,null,{default:a(()=>[t(A,{strong:""},{default:a(()=>[i(s(e.$t("front.dont_have_account")+" "),1)]),_:1}),t(m,{onClick:l[2]||(l[2]=R=>e.loginForm=!1),type:"link",class:"p-0"},{default:a(()=>[i(s(e.$t("front.signup")),1)]),_:1})]),_:1})]),_:1})])):(r(),S("div",X0,[w("div",Z0,[t(_,{level:2,style:{marginBottom:"0px"}},{default:a(()=>[i(s(e.$t("front.signup")),1)]),_:1}),w("p",x0,s(e.$t("front.signup_using_email_password")),1)]),e.signupSuccess?(r(),C(f,{key:0,type:"success",class:"mt-10","show-icon":""},{message:a(()=>[i(s(e.$t("common.success")),1)]),description:a(()=>[i(s(e.$t("front.register_successfully"))+" ",1),t(m,{onClick:l[3]||(l[3]=R=>e.loginForm=!0),type:"link",class:"p-0"},{default:a(()=>[i(s(e.$t("front.click_here_to_login")),1)]),_:1})]),_:1})):(r(),C(O,{key:1,layout:"vertical",class:"mt-30"},{default:a(()=>[t(v,{label:e.$t("user.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null},{default:a(()=>[t(b,{value:e.signupCredentials.name,"onUpdate:value":l[4]||(l[4]=R=>e.signupCredentials.name=R),onPressEnter:e.onSignup,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.name")])},{prefix:a(()=>[t(F)]),_:1},8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(v,{label:e.$t("user.email"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null},{default:a(()=>[t(b,{value:e.signupCredentials.email,"onUpdate:value":l[5]||(l[5]=R=>e.signupCredentials.email=R),onPressEnter:e.onSignup,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.email")])},{prefix:a(()=>[t(P)]),_:1},8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(v,{label:e.$t("user.phone"),name:"phone",help:e.rules.phone?e.rules.phone.message:null,validateStatus:e.rules.phone?"error":null},{default:a(()=>[t(b,{value:e.signupCredentials.phone,"onUpdate:value":l[6]||(l[6]=R=>e.signupCredentials.phone=R),onPressEnter:e.onSignup,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.phone")])},{prefix:a(()=>[t(E)]),_:1},8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(v,{label:e.$t("user.password"),name:"password",help:e.rules.password?e.rules.password.message:null,validateStatus:e.rules.password?"error":null},{default:a(()=>[t($,{value:e.signupCredentials.password,"onUpdate:value":l[7]||(l[7]=R=>e.signupCredentials.password=R),onPressEnter:e.onSignup,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.password")]),autocomplete:"off"},{prefix:a(()=>[t(k)]),_:1},8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(v,null,{default:a(()=>[t(m,{type:"primary",class:"mt-10",onClick:e.onSignup,loading:e.loading,block:""},{default:a(()=>[i(s(e.$t("front.signup")),1)]),_:1},8,["onClick","loading"])]),_:1}),t(v,null,{default:a(()=>[t(A,{strong:""},{default:a(()=>[i(s(e.$t("front.already_have_account")+" "),1)]),_:1}),t(m,{onClick:l[8]||(l[8]=R=>e.loginForm=!0),type:"link",class:"p-0"},{default:a(()=>[i(s(e.$t("front.login")),1)]),_:1})]),_:1})]),_:1}))]))]),_:1},8,["open","onCancel"])],64)}const tw=W(Y0,[["render",ew]]),aw=Z({name:"category-menu",props:["categories"],setup(){const{frontWarehouse:e}=J();return{frontWarehouse:e}}});function nw(e,l,c,n,h,y){const u=o("a-avatar"),d=o("category-menu"),m=o("a-sub-menu"),p=o("router-link"),_=o("a-menu-item");return r(!0),S(I,null,Q(e.categories,f=>(r(),S(I,{key:f.xid},[f.children&&f.children.length?(r(),C(m,{key:f.xid,title:f.name},{icon:a(()=>[t(u,{size:16,src:f.image_url},null,8,["src"])]),default:a(()=>[t(d,{categories:f.children},null,8,["categories"])]),_:2},1032,["title"])):(r(),C(_,{key:f.xid},{default:a(()=>[t(p,{to:{name:"front.categories",params:{warehouse:e.frontWarehouse.slug,slug:[f.slug]}}},{default:a(()=>[t(u,{size:16,src:f.image_url},null,8,["src"]),i(" "+s(f.name),1)]),_:2},1032,["to"])]),_:2},1024))],64))),128)}const ow=W(aw,[["render",nw]]),lw=Z({props:["catSelectedKeys","catOpenKeys"],components:{MailOutlined:wa,CalendarOutlined:Jl,AppstoreOutlined:Gn,SettingOutlined:_t,CategoryMenu:ow},setup(e){const l=T([]),c=T([]),n=T([]);x(()=>{c.value=e.catSelectedKeys,h()});const h=()=>{axiosFront.post("front/categories").then(u=>{const d=[];var m=u.data.categories;m.forEach(p=>{if(!p.x_parent_id)return d.push(p);const _=m.findIndex(f=>f.xid===p.x_parent_id);if(!m[_].children)return m[_].children=[p];m[_].children.push(p)}),l.value=d})},y=(u,d)=>{var m,p=u.id;if(!(!u||typeof u!="object"))return u.id===d?[p]:((u.children||[]).some(_=>m=y(_,d)),m&&[p].concat([...m]))};return me(e,(u,d)=>{c.value=u.catSelectedKeys;let m=[];l.value.forEach(p=>{const _=y(p,c.value[0]);_!=null&&_.includes(c.value[0])&&(m=_)}),n.value=m}),{selectedKeys:c,openKeys:n,allCategories:l}}});function sw(e,l,c,n,h,y){const u=o("a-avatar"),d=o("CategoryMenu"),m=o("a-sub-menu"),p=o("a-menu");return r(),C(p,{selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":l[0]||(l[0]=_=>e.selectedKeys=_),openKeys:e.openKeys,"onUpdate:openKeys":l[1]||(l[1]=_=>e.openKeys=_),style:{width:"100%"},mode:"inline"},{default:a(()=>[(r(!0),S(I,null,Q(e.allCategories,_=>(r(),S(I,{key:_.xid},[_.children&&_.children.length?(r(),C(m,{key:_.xid},{icon:a(()=>[t(u,{size:16,src:_.image_url},null,8,["src"])]),title:a(()=>[i(s(_.name),1)]),default:a(()=>[t(d,{categories:_.children},null,8,["categories"])]),_:2},1024)):D("",!0)],64))),128))]),_:1},8,["selectedKeys","openKeys"])}const La=W(lw,[["render",sw]]);const rw=Z({components:{MenuOutlined:Jn,CloseOutlined:Yn,ShoppingOutlined:It,RightOutlined:Ht,LeftSidebarMenu:La},setup(){const{frontWarehouse:e,frontAppSetting:l}=J(),c=T(!1),n=Se({selectedKeys:[],openKeys:[]}),h=()=>{c.value=!0},y=()=>{c.value=!1},u=()=>{n.selectedKeys=[],n.openKeys=[]};return{...dt(n),frontWarehouse:e,frontAppSetting:l,visible:c,openLeftSidebar:h,closeLeftSidebar:y,drawerClosed:u,innerWidth:pe(()=>window.innerWidth)}}}),dw=["src"],iw={key:0};function uw(e,l,c,n,h,y){const u=o("MenuOutlined"),d=o("close-outlined"),m=o("a-button"),p=o("a-typography-title"),_=o("router-link"),f=o("a-menu-item"),g=o("a-menu"),b=o("a-drawer");return r(),S(I,null,[e.innerWidth<768?(r(),C(u,{key:0,style:{fontSize:"24px",color:"#fff",verticalAlign:"top",paddingTop:"22px"},class:"mr-20",onClick:e.openLeftSidebar},null,8,["onClick"])):D("",!0),t(b,{open:e.visible,"onUpdate:open":l[2]||(l[2]=v=>e.visible=v),width:"300",placement:"left",closable:!1,headerStyle:{backgroundColor:"#2874f0"},bodyStyle:{padding:0},onClose:e.drawerClosed},{title:a(()=>[w("img",{style:{width:"120px"},src:e.frontWarehouse.dark_logo_url},null,8,dw)]),extra:a(()=>[t(m,{type:"link",onClick:e.closeLeftSidebar,class:"close-icon-button"},{default:a(()=>[t(d,{style:{fontSize:"14px",color:"#fff"}})]),_:1},8,["onClick"])]),default:a(()=>[e.frontAppSetting&&e.frontAppSetting.pages_widget&&e.frontAppSetting.pages_widget.length>0?(r(),S("div",iw,[t(p,{class:"pl-24 mt-30 category-menu-title",level:5},{default:a(()=>[i(s(e.$t("front.pages")),1)]),_:1}),t(g,{openKeys:e.openKeys,"onUpdate:openKeys":l[0]||(l[0]=v=>e.openKeys=v),selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":l[1]||(l[1]=v=>e.selectedKeys=v),style:{width:"100%"},mode:"inline"},{default:a(()=>[(r(!0),S(I,null,Q(e.frontAppSetting.pages_widget,(v,k)=>(r(),C(f,{key:k},{default:a(()=>[t(_,{to:v.value},{default:a(()=>[i(s(v.title),1)]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["openKeys","selectedKeys"])])):D("",!0)]),_:1},8,["open","onClose"])],64)}const mw=W(rw,[["render",uw],["__scopeId","data-v-4d3e5fb9"]]);const cw=Z({components:{DownOutlined:Ql,MenuOutlined:Jn,AppstoreOutlined:Gn,ProductCard:za,Footer:B0,CheckoutDrawer:N0,Login:tw,LeftSidebar:mw,LeftSidebarMenu:La},setup(){ke();const{frontWarehouse:e,frontAppSetting:l}=J(),c=T(""),n=T(!1);return{frontAppSetting:l,searchValue:c,openLoginModal:()=>{n.value=!0},loginModalClosed:()=>{n.value=!1},loginModalVisible:n,frontWarehouse:e,innerWidth:window.innerWidth,openKeys:T([]),selectedKeys:T([])}}}),pw=["src"],_w={style:{textAlign:"right"}},fw={style:{background:"#fff"},class:"subheader"},gw={class:"subheader-menu-lists"},yw=["href"],hw={key:1,class:"no-online-store-container"};function bw(e,l,c,n,h,y){const u=o("LeftSidebar"),d=o("router-link"),m=o("a-col"),p=o("CheckoutDrawer"),_=o("Login"),f=o("a-row"),g=o("a-layout-header"),b=o("a-space"),v=o("router-view"),k=o("Footer"),$=o("a-layout-content"),A=o("a-layout"),O=o("a-result");return e.frontWarehouse.online_store_enabled==1?(r(),C(A,{key:0},{default:a(()=>[t(g,{style:{background:"#2874f0",padding:0}},{default:a(()=>[t(f,{type:"flex",justify:"center"},{default:a(()=>[t(m,{span:20},{default:a(()=>[t(f,{type:"flex",justify:"space-between"},{default:a(()=>[e.frontWarehouse&&e.frontWarehouse.slug?(r(),C(m,{key:0,xs:12,sm:12,md:e.innerWidth>=768?6:12,lg:4,xl:4},{default:a(()=>[t(u),t(d,{to:{name:"front.homepage",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[w("img",{style:Be({width:e.innerWidth>=768?"150px":"110px"}),src:e.frontWarehouse.dark_logo_url},null,12,pw)]),_:1},8,["to"])]),_:1},8,["md"])):D("",!0),e.innerWidth>=768?(r(),C(m,{key:1,md:12,lg:12,xl:12})):D("",!0),t(m,{xs:12,sm:12,md:e.innerWidth>=768?6:12,lg:8,xl:8},{default:a(()=>[w("div",_w,[t(p,{onOpenLoginModal:e.openLoginModal},null,8,["onOpenLoginModal"]),t(_,{modalVisible:e.loginModalVisible,onModalClosed:e.loginModalClosed},null,8,["modalVisible","onModalClosed"])])]),_:1},8,["md"])]),_:1})]),_:1})]),_:1})]),_:1}),t($,null,{default:a(()=>[w("div",null,[w("div",fw,[t(f,{type:"flex",justify:"center"},{default:a(()=>[t(m,{span:20},{default:a(()=>[t(f,null,{default:a(()=>[w("div",gw,[e.frontAppSetting&&e.frontAppSetting.pages_widget?(r(),C(b,{key:0},{default:a(()=>[(r(!0),S(I,null,Q(e.frontAppSetting.pages_widget,(F,P)=>(r(),S("a",{key:P,class:"subheader-menu ml-25",href:F.value,target:"_blank"},s(F.title),9,yw))),128))]),_:1})):D("",!0)])]),_:1})]),_:1})]),_:1})]),t(v),t(k)])]),_:1})]),_:1})):(r(),S("div",hw,[t(O,{status:"warning",title:e.$t("warehouse.no_online_store_exists")},null,8,["title"])]))}const vw=W(cw,[["render",bw],["__scopeId","data-v-dfb2434a"]]);const kw=Z({setup(){const e=T([]);return x(()=>{axiosFront.get("front/homepage").then(l=>{e.value=l.data.categories})}),{categories:e}}}),ww={style:{background:"#fff"},class:"category-box"},Cw={class:"category"},Sw=["alt","src"];function $w(e,l,c,n,h,y){const u=o("a-col"),d=o("a-row");return r(),S("div",ww,[t(d,{type:"flex",justify:"center"},{default:a(()=>[t(u,{span:20},{default:a(()=>[t(d,{gutter:[16,16]},{default:a(()=>[(r(!0),S(I,null,Q(e.categories,m=>(r(),C(u,{key:m.id,xs:24,sm:24,md:6,lg:3,xl:2},{default:a(()=>[w("div",Cw,[w("img",{alt:m.name,src:m.image_url,width:"80"},null,8,Sw),w("h4",null,s(m.name),1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])}const Aw=W(kw,[["render",$w],["__scopeId","data-v-7f7214ea"]]);const Dw=Z({components:{RightOutlined:Ht,RightCircleOutlined:$a,LeftCircleOutlined:Sa,ProductCard:za,CategoryHeader:Aw},setup(){const{frontWarehouse:e}=J();Ge();const l=T({}),c=T([]),n=T([]),h=T({});return x(()=>{axiosFront.get(`front/homepage/${e.value.slug}`).then(y=>{h.value=y.data.currency,l.value=y.data.front_settings,c.value=y.data.front_product_cards,n.value=l.value.featured_products_details})}),{frontSettings:l,frontProductCards:c,featuredProducts:n,currency:h}}}),Tw={class:"bg-white"},Ew=["src"],Ow=["src"],Iw=["src"],Pw={key:1},Uw={style:{"text-align":"center"},class:"mt-50 mb-40"},Fw={class:"prdoct-card-list-body mt-20 mb-50"},qw={key:2},Mw={style:{"text-align":"center"},class:"mt-50 mb-40"},Rw={style:{padding:"0px 10px 0px 10px","border-radius":"10px",border:"1px solid #eee"}},Kw={key:3},Vw={style:{"text-align":"center"},class:"mt-50 mb-40"},zw={class:"prdoct-card-list-body mt-20 mb-50"},Lw={class:"custom-slick-arrow",style:{left:"10px",zindex:"1"}},Bw={class:"custom-slick-arrow",style:{right:"10px"}},Ww=["src"];function jw(e,l,c,n,h,y){const u=o("a-carousel"),d=o("a-col"),m=o("a-row"),p=o("a-divider"),_=o("a-typography-title"),f=o("ProductCard"),g=o("a-avatar"),b=o("a-list-item-meta"),v=o("a-list-item"),k=o("a-list"),$=o("left-circle-outlined"),A=o("RightCircleOutlined");return r(),S("div",Tw,[t(m,{type:"flex",justify:"center"},{default:a(()=>[t(d,{span:20},{default:a(()=>[t(m,{gutter:[20,30],class:"mt-20"},{default:a(()=>[t(d,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[t(u,{autoplay:""},{default:a(()=>[(r(!0),S(I,null,Q(e.frontSettings.bottom_banners_1_details,O=>(r(),S("div",{key:O.uid},[w("img",{src:O.url,style:{width:"100%"}},null,8,Ew)]))),128))]),_:1})]),_:1}),t(d,{xs:24,sm:24,md:12,lg:12,xl:12},{default:a(()=>[t(m,{gutter:[20,20]},{default:a(()=>[t(d,{span:24},{default:a(()=>[t(u,{autoplay:""},{default:a(()=>[(r(!0),S(I,null,Q(e.frontSettings.bottom_banners_2_details,O=>(r(),S("div",{key:O.uid},[w("img",{src:O.url,style:{width:"100%"}},null,8,Ow)]))),128))]),_:1})]),_:1}),t(d,{span:24},{default:a(()=>[(r(!0),S(I,null,Q(e.frontSettings.bottom_banners_3_details,O=>(r(),S("div",{key:O.uid},[w("img",{src:O.url,style:{width:"100%"}},null,8,Iw)]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e.frontSettings.bottom_banners_1_details&&e.frontSettings.bottom_banners_1_details.length>0||e.frontSettings.bottom_banners_2_details&&e.frontSettings.bottom_banners_2_details.length>0||e.frontSettings.bottom_banners_3_details&&e.frontSettings.bottom_banners_3_details.length>0?(r(),C(p,{key:0,dashed:""})):D("",!0),e.frontSettings.featured_products_details&&e.frontSettings.featured_products_details.length>0?(r(),S("div",Pw,[w("div",Uw,[t(_,{level:3,style:{marginBottom:"5px"}},{default:a(()=>[i(s(e.frontSettings.featured_products_title),1)]),_:1}),e.frontSettings.featured_products_subtitle?(r(),C(_,{key:0,type:"secondary",level:5,style:{marginTop:"0px"}},{default:a(()=>[i(s(e.frontSettings.featured_products_subtitle),1)]),_:1})):D("",!0)]),w("div",Fw,[t(m,{gutter:[30,30]},{default:a(()=>[(r(!0),S(I,null,Q(e.featuredProducts,O=>(r(),C(d,{xs:24,sm:12,md:8,lg:6,xl:4,key:O.id},{default:a(()=>[(r(),C(f,{product:O,key:O.id,currency:e.currency},null,8,["product","currency"]))]),_:2},1024))),128))]),_:1})]),t(p,{dashed:""})])):D("",!0),e.frontSettings.featured_categories_details&&e.frontSettings.featured_categories_details.length>0?(r(),S("div",qw,[w("div",Mw,[t(_,{level:3,style:{marginBottom:"5px"}},{default:a(()=>[i(s(e.frontSettings.featured_categories_title),1)]),_:1}),e.frontSettings.featured_categories_subtitle?(r(),C(_,{key:0,type:"secondary",level:5,style:{marginTop:"0px"}},{default:a(()=>[i(s(e.frontSettings.featured_categories_subtitle),1)]),_:1})):D("",!0)]),t(m,{gutter:[10,10],class:"mt-20 mb-50 featured-categories"},{default:a(()=>[(r(!0),S(I,null,Q(e.frontSettings.featured_categories_details,O=>(r(),C(d,{xs:24,sm:12,md:8,lg:4,xl:4,key:O.id},{default:a(()=>[w("div",Rw,[t(k,{"item-layout":"horizontal","data-source":[O]},{renderItem:a(({item:F})=>[t(v,null,{default:a(()=>[t(b,null,{title:a(()=>[i(s(F.name),1)]),avatar:a(()=>[t(g,{src:F.image_url},null,8,["src"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["data-source"])])]),_:2},1024))),128))]),_:1}),t(p,{dashed:""})])):D("",!0),e.frontProductCards&&e.frontProductCards.length>0?(r(),S("div",Kw,[(r(!0),S(I,null,Q(e.frontProductCards,O=>(r(),S("div",{key:O.id,class:"prdoct-card-list"},[w("div",Vw,[t(_,{level:3,style:{marginBottom:"5px"}},{default:a(()=>[i(s(O.title),1)]),_:2},1024),O.subtitle!=""?(r(),C(_,{key:0,type:"secondary",level:5,style:{marginTop:"0px"}},{default:a(()=>[i(s(O.subtitle),1)]),_:2},1024)):D("",!0)]),w("div",zw,[t(m,{gutter:[30,30]},{default:a(()=>[(r(!0),S(I,null,Q(O.products_details,F=>(r(),C(d,{xs:24,sm:12,md:8,lg:6,xl:4,key:F.id},{default:a(()=>[(r(),C(f,{product:F,key:F.xid,currency:e.currency},null,8,["product","currency"]))]),_:2},1024))),128))]),_:2},1024)]),t(p,{dashed:""})]))),128))])):D("",!0),t(m,{class:"mt-20 mb-20"},{default:a(()=>[t(d,{span:24},{default:a(()=>[t(u,{arrows:""},{prevArrow:a(()=>[w("div",Lw,[t($)])]),nextArrow:a(()=>[w("div",Bw,[t(A)])]),default:a(()=>[(r(!0),S(I,null,Q(e.frontSettings.top_banners_details,O=>(r(),S("div",{key:O.uid},[w("img",{src:O.url,style:{width:"100%"}},null,8,Ww)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const Hw=W(Dw,[["render",jw]]),Nw=Z({components:{LeftSidebarMenu:La,ProductCard:za},setup(){const e=T([]),l=T([]),c=T([]),n=Ge(),h=T({}),y=T([]),u=T(1),d=T(1),m=T(20);x(()=>{const g=n.params;p(g)});const p=g=>{if(g&&g.slug){const b=g.slug,v=b[b.length-1];axiosFront.post(`/front/category-by-slug/${v}`).then(k=>{h.value=k.data.category,_(h.value.id),y.value=[h.value.id]})}else y.value=[],h.value={},_()},_=()=>{let g="products?fields=id,xid,name,slug,image,image_url,description,category_id,x_category_id,category{id,xid,name,slug},brand_id,x_brand_id,brand{id,xid,name,slug},unit_id,x_unit_id,unit{id,xid,name,short_name},description,details{stock_quantitiy_alert,opening_stock,opening_stock_date,wholesale_price,wholesale_quantity,mrp,purchase_price,sales_price,tax_id,x_tax_id,purchase_tax_type,sales_tax_type,current_stock,warehouse_id,x_warehouse_id,status},details:tax{id,xid,name,rate}";if(h.value&&h.value.id){const k=h.value.id;g+=`&filters=category_id eq ${k}`}const b=m.value,v=(d.value-1)*b;g+=`&offset=${v}&limit=${b}`,axiosFront.get(g).then(k=>{u.value=k.meta.paging.total,c.value=k.data})},f=(g,b)=>{d.value=g,m.value=b,_()};return me(n,(g,b)=>{p(g.params)}),{catSelectedKeys:y,category:h,categoriesSelectedKeys:e,categoriesOpenKeys:l,products:c,currentPage:d,pageSize:m,totalRecords:u,paginationClicked:f}}}),Yw={class:"bg-white"},Gw={key:0},Jw={key:1};function Qw(e,l,c,n,h,y){const u=o("LeftSidebarMenu"),d=o("a-col"),m=o("router-link"),p=o("a-breadcrumb-item"),_=o("a-breadcrumb"),f=o("a-page-header"),g=o("a-divider"),b=o("ProductCard"),v=o("a-row"),k=o("a-empty"),$=o("a-pagination");return r(),S("div",Yw,[t(v,{type:"flex",justify:"center"},{default:a(()=>[t(d,{span:20},{default:a(()=>[t(v,{gutter:[30,30],class:"mt-30"},{default:a(()=>[t(d,{xs:24,sm:24,md:24,lg:6,xl:6,style:{"padding-left":"0px"}},{default:a(()=>[t(u,{catSelectedKeys:e.catSelectedKeys,class:"categories-page-lefbar"},null,8,["catSelectedKeys"])]),_:1}),t(d,{xs:24,sm:24,md:24,lg:18,xl:18},{default:a(()=>[t(v,{class:"mt-30 mb-30 category-page-container"},{default:a(()=>[t(d,{span:24},{default:a(()=>[t(f,{style:{"padding-left":"0px"}},{title:a(()=>[e.category&&e.category.name?(r(),S("span",Gw,s(e.category.name),1)):(r(),S("span",Jw,s(e.$t("front_setting.all_categories")),1))]),breadcrumb:a(()=>[t(_,null,{default:a(()=>[t(p,null,{default:a(()=>[t(m,{to:{name:"front.homepage"}},{default:a(()=>[i(s(e.$t("front.home")),1)]),_:1},8,["to"])]),_:1}),t(p,null,{default:a(()=>[t(m,{to:{name:"front.categories"}},{default:a(()=>[i(s(e.$t("menu.categories")),1)]),_:1},8,["to"])]),_:1}),e.category&&e.category.name?(r(),C(p,{key:0},{default:a(()=>[i(s(e.category.name),1)]),_:1})):D("",!0)]),_:1})]),_:1}),t(g,{class:"mt-0"}),e.products&&e.products.length>0?(r(),C(v,{key:0,gutter:[30,30]},{default:a(()=>[(r(!0),S(I,null,Q(e.products,A=>(r(),C(d,{xs:24,sm:12,md:8,lg:6,xl:6,key:A.id},{default:a(()=>[(r(),C(b,{product:A,key:A.id},null,8,["product"]))]),_:2},1024))),128))]),_:1})):(r(),C(v,{key:1,gutter:30,class:"mt-30 mb-30"},{default:a(()=>[t(d,{span:24},{default:a(()=>[t(k,{description:e.$t("front_setting.no_results")},null,8,["description"])]),_:1})]),_:1})),e.products&&e.products.length>0?(r(),C(v,{key:2,gutter:30,class:"mt-30 mb-30"},{default:a(()=>[t(d,{span:24},{default:a(()=>[t($,{current:e.currentPage,"onUpdate:current":l[0]||(l[0]=A=>e.currentPage=A),pageSize:e.pageSize,"onUpdate:pageSize":l[1]||(l[1]=A=>e.pageSize=A),total:e.totalRecords,onChange:e.paginationClicked,showSizeChanger:!1},null,8,["current","pageSize","total","onChange"])]),_:1})]),_:1})):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const Xw=W(Nw,[["render",Qw]]),Zw=Z({components:{HomeOutlined:Aa,ShoppingOutlined:It,SettingOutlined:_t,LogoutOutlined:Qn},setup(){const e=Ge(),l=ke(),c=T([]);x(()=>{const h=typeof e.meta.menuKey=="function"?e.meta.menuKey(e):e.meta.menuKey;c.value=[h.replace("-","_")]});const n=()=>{l.dispatch("front/logout")};return me(e,(h,y)=>{const u=typeof h.meta.menuKey=="function"?h.meta.menuKey(h):h.meta.menuKey;c.value=[u.replace("-","_")]}),{selectedKeys:c,logout:n}}});function xw(e,l,c,n,h,y){const u=o("home-outlined"),d=o("router-link"),m=o("a-menu-item"),p=o("shopping-outlined"),_=o("setting-outlined"),f=o("logout-outlined"),g=o("a-menu");return r(),C(g,{selectedKeys:e.selectedKeys,"onUpdate:selectedKeys":l[0]||(l[0]=b=>e.selectedKeys=b),style:{paddingTop:"30px",paddingBottom:"30px",paddingLeft:"25px",paddingRight:"25px",borderRadius:"10px"}},{default:a(()=>[t(m,{key:"dashboard"},{icon:a(()=>[t(u)]),default:a(()=>[t(d,{to:{name:"front.dashboard"}},{default:a(()=>[i(s(e.$t("front.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,{key:"orders"},{icon:a(()=>[t(p)]),default:a(()=>[t(d,{to:{name:"front.orders"}},{default:a(()=>[i(s(e.$t("front.my_orders")),1)]),_:1},8,["to"])]),_:1}),t(m,{key:"profile"},{icon:a(()=>[t(_)]),default:a(()=>[t(d,{to:{name:"front.profile"}},{default:a(()=>[i(s(e.$t("front.my_profile")),1)]),_:1},8,["to"])]),_:1}),t(m,{onClick:e.logout,key:"logout"},{icon:a(()=>[t(f)]),default:a(()=>[i(" "+s(e.$t("front.logout")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])}const Ba=W(Zw,[["render",xw]]);const e4=Z({props:["color"],setup(){return{}}}),t4={class:"state-div"},a4={class:"state-icon mr-20"},n4={class:"state-description"};function o4(e,l,c,n,h,y){const u=o("a-avatar");return r(),S("div",t4,[w("div",a4,[t(u,{size:46,style:Be({backgroundColor:e.color?e.color:"#1890ff"})},{icon:a(()=>[de(e.$slots,"icon",{},void 0,!0)]),_:3},8,["style"])]),w("div",n4,[w("p",null,[de(e.$slots,"title",{},void 0,!0)]),w("span",null,[de(e.$slots,"description",{},void 0,!0)])])])}const l4=W(e4,[["render",o4],["__scopeId","data-v-f67bcdf7"]]);const s4=Z({props:["order"],components:{EyeOutlined:Ze,StopOutlined:Zt,OrderStatus:eo,PaymentStatus:ut,OrderDetails:to},setup(){const{formatAmountCurrency:e}=St(),l=T(!1);return{visible:l,showModal:()=>{l.value=!0},columns:[{title:"#",dataIndex:"id"},{title:"Product",dataIndex:"product_id"},{title:"Quantity",dataIndex:"quantity"},{title:"Price",dataIndex:"unit_price"},{title:"Total",dataIndex:"subtotal"}],formatAmountCurrency:e,buildAddress:Ta}}});function r4(e,l,c,n,h,y){const u=o("eye-outlined"),d=o("a-menu-item"),m=o("OrderDetails"),p=o("a-modal");return r(),S(I,null,[t(d,{onClick:e.showModal},{default:a(()=>[t(u),i(" "+s(e.$t("stock.view_order")),1)]),_:1},8,["onClick"]),t(p,{open:e.visible,"onUpdate:open":l[0]||(l[0]=_=>e.visible=_),width:"70%",footer:!1},{title:a(()=>[i(s(e.order.invoice_number),1)]),default:a(()=>[t(m,{order:e.order},null,8,["order"])]),_:1},8,["open"])],64)}const d4=W(s4,[["render",r4]]),i4=Z({props:["data"],emits:["reloadOrders"],components:{EyeOutlined:Ze,DeleteOutlined:fe,MoreOutlined:Pn,StopOutlined:Zt,DownloadOutlined:Ct,PaymentStatus:ut,OrderStatus:ta,OrderDetailsModal:d4},setup(e,{emit:l}){const{t:c}=te(),{formatDateTime:n}=J(),{formatAmountCurrency:h}=St();return{columns:[{title:"Date",dataIndex:"order_date"},{title:"Total",dataIndex:"total"},{title:"Order Status",dataIndex:"order_status"},{title:"Payment Status",dataIndex:"payment_status"},{title:"Action",dataIndex:"action"}],cancelOrder:m=>{qe.confirm({title:c("common.delete")+"?",icon:t(Ae),content:c("stock.order_cancel_message"),centered:!0,okText:c("common.yes"),okType:"danger",cancelText:c("common.no"),onOk(){axiosFront.post(`front/self/cancel-order/${m}`).then(p=>{l("reloadOrders"),Ee.success({message:c("common.success"),description:c("stock.order_canceled"),placement:"bottomRight"})})},onCancel(){}})},downloadInvoice:m=>{window.location.href=window.config.path+"/api/v1/pdf/"+m},formatAmountCurrency:h,formatDateTime:n}}});function u4(e,l,c,n,h,y){const u=o("PaymentStatus"),d=o("OrderStatus"),m=o("OrderDetailsModal"),p=o("stop-outlined"),_=o("a-menu-item"),f=o("download-outlined"),g=o("a-menu"),b=o("more-outlined"),v=o("a-dropdown"),k=o("a-table");return r(),C(k,{columns:e.columns,"row-key":$=>$.id,"data-source":e.data,pagination:!1},{bodyCell:a(({column:$,record:A})=>[$.dataIndex==="order_date"?(r(),S(I,{key:0},[i(s(e.formatDateTime(A.order_date)),1)],64)):D("",!0),$.dataIndex==="total"?(r(),S(I,{key:1},[i(s(e.formatAmountCurrency(A.total)),1)],64)):D("",!0),$.dataIndex==="payment_status"?(r(),C(u,{key:2,paymentStatus:A.payment_status},null,8,["paymentStatus"])):D("",!0),$.dataIndex==="order_status"?(r(),C(d,{key:3,data:A},null,8,["data"])):D("",!0),$.dataIndex==="action"?(r(),C(v,{key:4,placement:"bottomRight"},{overlay:a(()=>[t(g,null,{default:a(()=>[t(m,{order:A},null,8,["order"]),A.order_status=="ordered"&&!A.cancelled?(r(),C(_,{key:0,onClick:O=>e.cancelOrder(A.unique_id)},{default:a(()=>[t(p),i(" Cancel Order ")]),_:2},1032,["onClick"])):D("",!0),t(_,{onClick:O=>e.downloadInvoice(A.unique_id)},{default:a(()=>[t(f),i(" Download Invoice ")]),_:2},1032,["onClick"])]),_:2},1024)]),default:a(()=>[t(b,{style:{fontSize:"16px"}})]),_:2},1024)):D("",!0)]),_:1},8,["columns","row-key","data-source"])}const Wo=W(i4,[["render",u4]]),m4=Z({components:{DashboardSidebar:Ba,ShoppingCartOutlined:ft,SyncOutlined:vt,FieldTimeOutlined:Xl,CheckOutlined:bt,Stats:l4,OrderTable:Wo},setup(){const{frontWarehouse:e}=J(),{addEditRequestFront:l,loading:c,rules:n}=sa(),h=T({totalOrders:0,pendingOrders:0,processingOrders:0,completedOrders:0}),y=T([]);x(()=>{u()});const u=()=>{l({url:"front/self/dashboard",data:{},success:d=>{h.value={totalOrders:d.totalOrders,pendingOrders:d.pendingOrders,processingOrders:d.processingOrders,completedOrders:d.completedOrders},y.value=d.recentOrders}})};return{states:h,recentOrders:y,fetchOrders:u,frontWarehouse:e}}}),c4={class:"mt-30 mb-30"},p4={class:"table-responsive"};function _4(e,l,c,n,h,y){const u=o("router-link"),d=o("a-breadcrumb-item"),m=o("a-breadcrumb"),p=o("dashboard-sidebar"),_=o("a-col"),f=o("a-page-header"),g=o("a-row"),b=o("ShoppingCartOutlined"),v=o("Stats"),k=o("SyncOutlined"),$=o("FieldTimeOutlined"),A=o("CheckOutlined"),O=o("OrderTable"),F=o("a-card");return r(),S("div",c4,[t(g,{type:"flex",justify:"center"},{default:a(()=>[t(_,{span:20},{default:a(()=>[t(m,null,{default:a(()=>[t(d,null,{default:a(()=>[t(u,{to:{name:"front.homepage",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[i(s(e.$t("front.home")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[i(s(e.$t("front.dashboard")),1)]),_:1})]),_:1}),t(g,{gutter:[30,30],class:"mt-30"},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:6,xl:6},{default:a(()=>[t(p)]),_:1}),t(_,{xs:24,sm:24,md:24,lg:18,xl:18},{default:a(()=>[t(F,{title:null,bordered:!1,style:{borderRadius:"10px"},class:"dashboard-container"},{default:a(()=>[t(g,null,{default:a(()=>[t(_,{span:24},{default:a(()=>[t(f,{title:e.$t("front.dashboard"),style:{"padding-left":"0px"}},null,8,["title"])]),_:1})]),_:1}),t(g,{gutter:[20,20]},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:12,xl:6},{default:a(()=>[t(v,{color:"#87d068"},{icon:a(()=>[t(b)]),title:a(()=>[i(s(e.$t("front.total_orders")),1)]),description:a(()=>[i(s(e.states.totalOrders),1)]),_:1})]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12,xl:6},{default:a(()=>[t(v,{color:"#f56a00"},{icon:a(()=>[t(k)]),title:a(()=>[i(s(e.$t("front.pending_orders")),1)]),description:a(()=>[i(s(e.states.pendingOrders),1)]),_:1})]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12,xl:6},{default:a(()=>[t(v,{color:"#7265e6"},{icon:a(()=>[t($)]),title:a(()=>[i(s(e.$t("front.processing_orders")),1)]),description:a(()=>[i(s(e.states.processingOrders),1)]),_:1})]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12,xl:6},{default:a(()=>[t(v,{color:"#ffbf00"},{icon:a(()=>[t(A)]),title:a(()=>[i(s(e.$t("front.completed_orders")),1)]),description:a(()=>[i(s(e.states.completedOrders),1)]),_:1})]),_:1})]),_:1}),t(g,{class:"mt-30"},{default:a(()=>[t(_,{span:24},{default:a(()=>[t(f,{title:e.$t("front.recent_orders"),style:{"padding-left":"0px"}},null,8,["title"])]),_:1})]),_:1}),t(g,null,{default:a(()=>[t(_,{span:24},{default:a(()=>[w("div",p4,[t(O,{data:e.recentOrders,onReloadOrders:e.fetchOrders},null,8,["data","onReloadOrders"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const f4=W(m4,[["render",_4]]),jo=e=>{const{url:l,data:c,success:n,error:h,t:y}=e;var u={};we(c,function(d,m){d==null?u[m]=null:u[m]=d}),axiosFront.post(l,u).then(d=>{n(d.data)}).catch(d=>{const m=d.data,p=d.status;var _={};if(p==422){if(m.error&&typeof m.error.details<"u")for(var f=Object.keys(m.error.details),g=0;g<f.length;g++){var b=f[g].replace(".","\\.");_[b]={required:!0,message:m.error.details[f[g]][0]}}h(_)}else p==406?h(m):p==403&&Ee.error({message:y("common.success")})}).then(()=>{})};const g4=Z({props:{formData:null,folder:String,imageField:{default:"image",type:String},url:{default:"front/upload-file",type:String}},components:{LoadingOutlined:Ie,PlusOutlined:ne},setup(e,{emit:l}){const c=T([]),n=T(!1),{t:h}=te();return{fileList:c,loading:n,customRequest:u=>{const d=new FormData;d.append("image",u.file),d.append("folder",e.folder),n.value=!0,axiosFront.post(e.url,d,{headers:{"Content-Type":"multipart/form-data"}}).then(m=>{c.value=[],n.value=!1,l("onFileUploaded",{file:m.data.file,file_url:m.data.file_url})}).catch(()=>{n.value=!1,Oe.error(h("messages.uploading_failed"))})}}}}),y4={key:0},h4=["src"],b4={key:1},v4={class:"ant-upload-text"};function k4(e,l,c,n,h,y){const u=o("loading-outlined"),d=o("plus-outlined"),m=o("a-upload");return r(),C(m,{accept:"image/*","file-list":e.fileList,"onUpdate:fileList":l[0]||(l[0]=p=>e.fileList=p),name:"image","list-type":"picture-card",class:"avatar-uploader","show-upload-list":!1,customRequest:e.customRequest},{default:a(()=>[e.formData[e.imageField]!=null?(r(),S("div",y4,[w("img",{style:{width:"128px"},src:e.formData[`${e.imageField}_url`],alt:"avatar"},null,8,h4)])):(r(),S("div",b4,[e.loading?(r(),C(u,{key:0})):(r(),C(d,{key:1})),w("div",v4,s(e.$t("common.upload")),1)]))]),_:1},8,["file-list","customRequest"])}const w4=W(g4,[["render",k4]]),C4={components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,ExclamationCircleOutlined:Ae,SaveOutlined:he,DashboardSidebar:Ba,UploadFront:w4},setup(){const{t:e}=te(),l=ke(),c=T({}),n=T({}),h=T({}),y=l.state.front.user,u=T({image:"",image_url:""});return x(()=>{c.value={name:y.name,email:y.email,password:"",phone:y.phone,address:y.address,shipping_address:y.shipping_address,city:y.city,state:y.state,country:y.country,zipcode:y.zipcode,profile_image:y.profile_image,profile_image_url:y.profile_image_url}}),{formData:c,rules:n,formImage:u,currencies:h,onSubmit:()=>{jo({url:"front/profile",data:c.value,success:m=>{l.commit("front/updateUser",m.user),Ee.success({placement:"bottomRight",message:e("common.success"),description:e("user.profile_updated")}),n.value={}},error:m=>{n.value=m,message.error(e("common.fix_errors"))}})}}}},S4={class:"mt-30 mb-30"},$4={class:"small-text-message"};function A4(e,l,c,n,h,y){const u=o("router-link"),d=o("a-breadcrumb-item"),m=o("a-breadcrumb"),p=o("dashboard-sidebar"),_=o("a-col"),f=o("a-page-header"),g=o("a-row"),b=o("a-input"),v=o("a-form-item"),k=o("UploadFront"),$=o("a-textarea"),A=o("SaveOutlined"),O=o("a-button"),F=o("a-form"),P=o("a-card");return r(),S("div",S4,[t(g,{type:"flex",justify:"center"},{default:a(()=>[t(_,{span:20},{default:a(()=>[t(m,null,{default:a(()=>[t(d,null,{default:a(()=>[t(u,{to:{name:"front.homepage"}},{default:a(()=>[i(s(e.$t("front.home")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[t(u,{to:{name:"front.dashboard"}},{default:a(()=>[i(s(e.$t("front.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[i(s(e.$t("front.profile")),1)]),_:1})]),_:1}),t(g,{gutter:[30,30],class:"mt-30"},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:6,xl:6},{default:a(()=>[t(p)]),_:1}),t(_,{xs:24,sm:24,md:24,lg:18,xl:18},{default:a(()=>[t(P,{title:null,bordered:!1,style:{borderRadius:"10px"}},{default:a(()=>[t(g,null,{default:a(()=>[t(_,{span:24},{default:a(()=>[t(f,{title:e.$t("front.profile_settings"),style:{"padding-left":"0px"}},null,8,["title"])]),_:1})]),_:1}),t(F,{layout:"vertical"},{default:a(()=>[t(g,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(v,{label:e.$t("user.name"),name:"name",help:n.rules.name?n.rules.name.message:null,validateStatus:n.rules.name?"error":null},{default:a(()=>[t(b,{value:n.formData.name,"onUpdate:value":l[0]||(l[0]=E=>n.formData.name=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(v,{label:e.$t("user.email"),name:"email",help:n.rules.email?n.rules.email.message:null,validateStatus:n.rules.email?"error":null},{default:a(()=>[t(b,{value:n.formData.email,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.email")]),disabled:""},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(v,{label:e.$t("user.phone"),name:"phone",help:n.rules.phone?n.rules.phone.message:null,validateStatus:n.rules.phone?"error":null},{default:a(()=>[t(b,{value:n.formData.phone,"onUpdate:value":l[1]||(l[1]=E=>n.formData.phone=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(_,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(v,{label:e.$t("user.password"),name:"password",help:n.rules.password?n.rules.password.message:null,validateStatus:n.rules.password?"error":null},{default:a(()=>[t(b,{value:n.formData.password,"onUpdate:value":l[2]||(l[2]=E=>n.formData.password=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.password")]),type:"password",autocomplete:"off"},null,8,["value","placeholder"]),w("small",$4,s(e.$t("user.password_blank")),1)]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("user.profile_image"),name:"profile_image",help:n.rules.profile_image?n.rules.profile_image.message:null,validateStatus:n.rules.profile_image?"error":null},{default:a(()=>[t(k,{formData:n.formData,folder:"user",imageField:"profile_image",onOnFileUploaded:l[3]||(l[3]=E=>{n.formData.profile_image=E.file,n.formData.profile_image_url=E.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("user.billing_address"),name:"address",help:n.rules.address?n.rules.address.message:null,validateStatus:n.rules.address?"error":null},{default:a(()=>[t($,{value:n.formData.address,"onUpdate:value":l[4]||(l[4]=E=>n.formData.address=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.billing_address")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,{label:e.$t("user.shipping_address"),name:"shipping_address",help:n.rules.shipping_address?n.rules.shipping_address.message:null,validateStatus:n.rules.shipping_address?"error":null},{default:a(()=>[t($,{value:n.formData.shipping_address,"onUpdate:value":l[5]||(l[5]=E=>n.formData.shipping_address=E),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.shipping_address")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(v,null,{default:a(()=>[t(O,{type:"primary",onClick:n.onSubmit},{icon:a(()=>[t(A)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const D4=W(C4,[["render",A4]]),T4={components:{DashboardSidebar:Ba,OrderTable:Wo},setup(){const{addEditRequestFront:e}=sa(),{orderStatus:l}=J(),c=T([]),n=Se({order_status_type:"all",dates:[]}),h="YYYY-MM-DD";x(()=>{y()});const y=()=>{e({url:"front/self/orders",data:n,success:d=>{c.value=d.orders}})};return{myOrders:c,filters:n,orderStatus:l,fetchOrders:y,dateFormat:h}}},E4={class:"mt-30 mb-30"},O4={class:"table-responsive"};function I4(e,l,c,n,h,y){const u=o("router-link"),d=o("a-breadcrumb-item"),m=o("a-breadcrumb"),p=o("dashboard-sidebar"),_=o("a-col"),f=o("a-range-picker"),g=o("a-page-header"),b=o("a-row"),v=o("a-tab-pane"),k=o("a-tabs"),$=o("OrderTable"),A=o("a-card");return r(),S("div",E4,[t(b,{type:"flex",justify:"center"},{default:a(()=>[t(_,{span:20},{default:a(()=>[t(m,null,{default:a(()=>[t(d,null,{default:a(()=>[t(u,{to:{name:"front.homepage"}},{default:a(()=>[i(s(e.$t("front.home")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[t(u,{to:{name:"front.dashboard"}},{default:a(()=>[i(s(e.$t("front.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[i(s(e.$t("front.my_orders")),1)]),_:1})]),_:1}),t(b,{gutter:[30,30],class:"mt-30"},{default:a(()=>[t(_,{xs:24,sm:24,md:24,lg:6,xl:6},{default:a(()=>[t(p)]),_:1}),t(_,{xs:24,sm:24,md:24,lg:18,xl:18},{default:a(()=>[t(A,{title:null,bordered:!1,style:{borderRadius:"10px"},class:"dashboard-container"},{default:a(()=>[t(b,null,{default:a(()=>[t(_,{span:24},{default:a(()=>[t(g,{title:e.$t("front.order_history"),style:{"padding-left":"0px"}},{extra:a(()=>[t(f,{value:n.filters.dates,"onUpdate:value":l[0]||(l[0]=O=>n.filters.dates=O),placeholder:[e.$t("common.start_date"),e.$t("common.end_date")],style:{width:"100%"},onChange:n.fetchOrders,valueFormat:n.dateFormat},null,8,["value","placeholder","onChange","valueFormat"])]),_:1},8,["title"])]),_:1})]),_:1}),t(b,null,{default:a(()=>[t(_,{span:24},{default:a(()=>[t(k,{activeKey:n.filters.order_status_type,"onUpdate:activeKey":l[1]||(l[1]=O=>n.filters.order_status_type=O),onChange:n.fetchOrders},{default:a(()=>[t(v,{key:"all",tab:"All Orders"}),(r(!0),S(I,null,Q(n.orderStatus,O=>(r(),C(v,{key:O.key,tab:`${O.value}`},null,8,["tab"]))),128))]),_:1},8,["activeKey","onChange"]),w("div",O4,[t($,{data:n.myOrders,onReloadOrders:n.fetchOrders},null,8,["data","onReloadOrders"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const P4=W(T4,[["render",I4]]),U4=Z({props:["formData","addEditVisible","addEditId"],emits:["addEditSuccess"],components:{SaveOutlined:he},setup(e,{emit:l}){const c=T(!1),n=T({}),h=T({}),y=T(null),{t:u}=te();x(()=>{c.value=e.addEditVisible,n.value=e.formData,y.value=e.addEditId});const d=()=>{var p="front/self/address";e.addEditId!=null&&(p=`front/self/address/${e.addEditId}`),jo({url:p,data:n.value,success:_=>{Ee.success({placement:"bottomRight",message:u("common.success"),description:u("front.address_saved")}),l("addEditSuccess"),h.value={},c.value=!1},error:_=>{h.value=_,Oe.error(u("common.fix_errors"))}})},m=()=>{c.value=!1};return me(e,(p,_)=>{c.value=p.addEditVisible,n.value=p.formData,y.value=p.addEditId}),{address:n,rules:h,visible:c,onSubmit:d,onClose:m}}});function F4(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-textarea"),f=o("a-form"),g=o("SaveOutlined"),b=o("a-button"),v=o("a-modal");return r(),C(v,{open:e.visible,"onUpdate:open":l[9]||(l[9]=k=>e.visible=k),width:"700px",title:e.addEditId==null?e.$t("front.add_new_address"):e.$t("front.edit_address")},{footer:a(()=>[t(b,{type:"primary",onClick:e.onSubmit,style:{"margin-right":"8px"}},{icon:a(()=>[t(g)]),default:a(()=>[i(" "+s(e.$t("common.save")),1)]),_:1},8,["onClick"]),t(b,{onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(f,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("user.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null},{default:a(()=>[t(u,{value:e.address.name,"onUpdate:value":l[0]||(l[0]=k=>e.address.name=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.email"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null},{default:a(()=>[t(u,{value:e.address.email,"onUpdate:value":l[1]||(l[1]=k=>e.address.email=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.email")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.phone"),name:"phone",help:e.rules.phone?e.rules.phone.message:null,validateStatus:e.rules.phone?"error":null},{default:a(()=>[t(u,{value:e.address.phone,"onUpdate:value":l[2]||(l[2]=k=>e.address.phone=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("user.billing_address"),name:"address",help:e.rules.address?e.rules.address.message:null,validateStatus:e.rules.address?"error":null},{default:a(()=>[t(_,{value:e.address.address,"onUpdate:value":l[3]||(l[3]=k=>e.address.address=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.billing_address")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("user.shipping_address"),name:"shipping_address",help:e.rules.shipping_address?e.rules.shipping_address.message:null,validateStatus:e.rules.shipping_address?"error":null},{default:a(()=>[t(_,{value:e.address.shipping_address,"onUpdate:value":l[4]||(l[4]=k=>e.address.shipping_address=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.shipping_address")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.city"),name:"city",help:e.rules.city?e.rules.city.message:null,validateStatus:e.rules.city?"error":null},{default:a(()=>[t(u,{value:e.address.city,"onUpdate:value":l[5]||(l[5]=k=>e.address.city=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.city")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.state"),name:"state",help:e.rules.state?e.rules.state.message:null,validateStatus:e.rules.state?"error":null},{default:a(()=>[t(u,{value:e.address.state,"onUpdate:value":l[6]||(l[6]=k=>e.address.state=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.state")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.country"),name:"country",help:e.rules.country?e.rules.country.message:null,validateStatus:e.rules.country?"error":null},{default:a(()=>[t(u,{value:e.address.country,"onUpdate:value":l[7]||(l[7]=k=>e.address.country=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.country")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("user.zipcode"),name:"zipcode",help:e.rules.zipcode?e.rules.zipcode.message:null,validateStatus:e.rules.zipcode?"error":null},{default:a(()=>[t(u,{value:e.address.zipcode,"onUpdate:value":l[8]||(l[8]=k=>e.address.zipcode=k),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.zipcode")]),type:"number"},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title"])}const q4=W(U4,[["render",F4]]),M4=Z({props:[],emits:["onAddressSelection"],components:{AddEdit:q4},setup(e,{emit:l}){const c=T(null),n=T([]),h=ke(),{t:y}=te(),u=h.state.front.user,d="front/self/address?fields=id,xid,name,email,phone,address,shipping_address,city,state,country,zipcode",m=T(!1),p=T({}),_=T(null);x(()=>{f(),c.value=e.selectedAddress});const f=()=>{axiosFront.get(d).then(A=>{n.value=A.data})};return{userAddresses:n,addAddress:()=>{p.value={name:u.name,phone:u.phone,email:u.email,address:u.address,shipping_address:u.shipping_address,city:u.city,state:u.state,country:u.country,zipcode:u.zipcode},_.value=null,m.value=!0},editAddress:A=>{p.value={name:A.name,email:A.email,phone:A.phone,address:A.address,shipping_address:A.shipping_address,city:A.city,state:A.state,country:A.country,zipcode:A.zipcode,_method:"PUT"},_.value=A.xid,m.value=!0},selectedAddress:c,addressSelected:()=>{l("onAddressSelection",c.value)},buildAddress:Ta,addEditVisible:m,addEditAddress:p,addEditId:_,addEditSuccess:()=>{f()},deleteAddress:A=>{qe.confirm({title:y("common.delete")+"?",icon:t(Ae),content:y("front.address_delete_message"),centered:!0,okText:y("common.yes"),okType:"danger",cancelText:y("common.no"),onOk(){axiosFront.delete(`front/self/address/${A}`).then(O=>{f(),Ee.success({message:y("common.success"),description:y("front.address_deleted"),placement:"bottomRight"})})},onCancel(){}})}}}}),R4=w("br",null,null,-1);function K4(e,l,c,n,h,y){const u=o("a-button"),d=o("a-radio"),m=o("a-radio-group"),p=o("a-list-item-meta"),_=o("a-list-item"),f=o("a-list"),g=o("AddEdit");return r(),S(I,null,[t(f,{"item-layout":"horizontal","data-source":e.userAddresses},{renderItem:a(({item:b})=>[t(_,null,{actions:a(()=>[t(u,{onClick:v=>e.editAddress(b),class:"p-0",type:"link"},{default:a(()=>[i(s(e.$t("common.edit")),1)]),_:2},1032,["onClick"]),t(u,{onClick:v=>e.deleteAddress(b.xid),class:"p-0",type:"link"},{default:a(()=>[i(s(e.$t("common.delete")),1)]),_:2},1032,["onClick"])]),default:a(()=>[t(p,null,{title:a(()=>[t(m,{value:e.selectedAddress,"onUpdate:value":l[0]||(l[0]=v=>e.selectedAddress=v),name:"addressCheckbox",onChange:e.addressSelected},{default:a(()=>[t(d,{value:b.xid},{default:a(()=>[i(s(b.name),1)]),_:2},1032,["value"])]),_:2},1032,["value","onChange"])]),description:a(()=>[i(s(e.buildAddress(b)),1),R4,i(" "+s(e.$t("user.phone"))+": "+s(b.phone),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["data-source"]),t(u,{class:"pl-0",type:"link",onClick:e.addAddress},{default:a(()=>[i(s(e.$t("front.add_new_address")),1)]),_:1},8,["onClick"]),t(g,{addEditVisible:e.addEditVisible,formData:e.addEditAddress,addEditId:e.addEditId,onAddEditSuccess:e.addEditSuccess},null,8,["addEditVisible","formData","addEditId","onAddEditSuccess"])],64)}const V4=W(M4,[["render",K4]]);const z4=Z({components:{DeleteOutlined:fe,WalletOutlined:Nn,RollbackOutlined:Zl,RightOutlined:Ht,UserAddress:V4,ExclamationCircleOutlined:Ae},setup(){const{products:e,updateCart:l,removeItem:c,subtotal:n,totalTax:h,total:y,formatAmountCurrency:u,frontWarehouse:d}=St(),m=T(null),p=T(!0),{t:_}=te(),f=Re(),g=ke(),{loading:b,addEditRequestFront:v}=sa();return x(()=>{}),{products:e,removeItem:c,updateCart:l,formatAmountCurrency:u,subtotal:n,total:y,totalTax:h,selectedAddress:m,addressSelected:A=>{m.value=A},addressMethod:p,getSalesPriceWithTax:Ut,confirmOrder:()=>{qe.confirm({title:_("front.confirm_order"),icon:t(Ae),content:_("front.confirm_order_message"),okText:_("common.yes"),cancelText:_("common.no"),onOk(){v({url:`front/self/checkout-orders/${d.value.slug}`,data:{products:e.value,address_id:m.value,warehouse:d.value.slug},successMessage:_("front.order_placed_message"),success:A=>{g.commit("front/addCartItems",[]),f.push({name:"front.checkout.success",params:{uniqueId:A.unique_id,warehouse:d.value.slug}})}})},onCancel(){b.value=!1}})},loading:b,frontWarehouse:d}}}),L4={class:"mt-30 mb-30"},B4={class:"payment-methods"},W4={class:"cod"},j4={class:"icon-text"},H4=w("br",null,null,-1),N4={class:"item-total pd-10"};function Y4(e,l,c,n,h,y){const u=o("router-link"),d=o("a-breadcrumb-item"),m=o("a-breadcrumb"),p=o("a-alert"),_=o("a-typography-title"),f=o("UserAddress"),g=o("a-divider"),b=o("wallet-outlined"),v=o("a-radio"),k=o("a-col"),$=o("a-row"),A=o("RollbackOutlined"),O=o("a-button"),F=o("RightOutlined"),P=o("a-card"),E=o("a-avatar"),U=o("a-list-item-meta"),R=o("a-input-number"),L=o("delete-outlined"),K=o("a-list-item"),V=o("a-list");return r(),S("div",L4,[t($,{type:"flex",justify:"center"},{default:a(()=>[t(k,{span:20},{default:a(()=>[t(m,null,{default:a(()=>[t(d,null,{default:a(()=>[t(u,{to:{name:"front.homepage",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[i(s(e.$t("front.home")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[t(u,{to:{name:"front.dashboard",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[i(s(e.$t("front.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[t(u,{to:{name:"front.orders",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[i(s(e.$t("front.my_orders")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[i(s(e.$t("front.checkout_page")),1)]),_:1})]),_:1}),t($,{gutter:[30,30],class:"mt-30"},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:16,xl:16},{default:a(()=>[t(P,{title:null,bordered:!1,style:{borderRadius:"10px"},class:"dashboard-container"},{default:a(()=>[t($,null,{default:a(()=>[t(k,{span:24},{default:a(()=>[e.selectedAddress==null?(r(),C(p,{key:0,message:e.$t("front.select_shipping_address"),type:"error",class:"mb-10","show-icon":""},null,8,["message"])):D("",!0),t(_,{level:3},{default:a(()=>[i(" 1. "+s(e.$t("front.address_details")),1)]),_:1}),t(f,{onOnAddressSelection:e.addressSelected},null,8,["onOnAddressSelection"]),t(g),t(_,{level:3},{default:a(()=>[i(" 2. "+s(e.$t("front.payment_details")),1)]),_:1}),t($,{gutter:30,class:"mt-20"},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:12,xl:12},{default:a(()=>[w("div",B4,[w("div",W4,[w("div",j4,[t(b,{class:"mr-5"}),i(" "+s(e.$t("front.cash_on_delivery")),1)]),t(v,{checked:e.addressMethod,"onUpdate:checked":l[0]||(l[0]=q=>e.addressMethod=q)},null,8,["checked"])])])]),_:1})]),_:1}),t(g),t($,{gutter:[30,10],class:"mt-40"},{default:a(()=>[t(k,{xs:24,sm:24,md:24,lg:12,xl:12},{default:a(()=>[t(O,{type:"primary",size:"large",block:""},{default:a(()=>[t(u,{to:{name:"front.homepage",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[t(A),i(" "+s(e.$t("front.continue_shopping")),1)]),_:1},8,["to"])]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:24,lg:12,xl:12},{default:a(()=>[t(O,{type:"primary",size:"large",onClick:e.confirmOrder,disabled:e.products.length==0||e.selectedAddress==null,loading:e.loading,block:""},{default:a(()=>[i(s(e.$t("front.confirm_order"))+" ",1),t(F)]),_:1},8,["onClick","disabled","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:24,lg:8,xl:8},{default:a(()=>[t(P,{title:null,bordered:!1,style:{borderRadius:"10px"}},{default:a(()=>[t(V,{class:"demo-loadmore-list","item-layout":"horizontal","data-source":e.products},{renderItem:a(({item:q})=>[t(K,null,{actions:a(()=>[t(O,{type:"link",onClick:B=>e.removeItem(q.xid)},{default:a(()=>[t(L,{style:{fontSize:"20px",color:"#f87171"}})]),_:2},1032,["onClick"])]),default:a(()=>[t(U,null,{title:a(()=>[i(s(q.name)+" ",1),H4,w("small",{style:Be({color:"rgba(0, 0, 0, 0.45)"})}," Price: "+s(e.formatAmountCurrency(e.getSalesPriceWithTax(q))),5)]),avatar:a(()=>[t(E,{src:q.image_url,size:"large"},null,8,["src"])]),description:a(()=>[i(s(e.formatAmountCurrency(e.getSalesPriceWithTax(q)*q.cart_quantity)),1)]),_:2},1024),w("div",null,[t(R,{value:q.cart_quantity,"onUpdate:value":B=>q.cart_quantity=B,min:1,style:{width:"60px"},onChange:e.updateCart},null,8,["value","onUpdate:value","onChange"])])]),_:2},1024)]),_:1},8,["data-source"]),t(g),w("div",N4,[t($,{class:"mt-10"},{default:a(()=>[t(k,{span:12},{default:a(()=>[i(s(e.$t("stock.grand_total")),1)]),_:1}),t(k,{span:12,class:"text-right"},{default:a(()=>[i(s(e.formatAmountCurrency(e.total)),1)]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const G4=W(z4,[["render",Y4]]),J4=Z({components:{ShoppingOutlined:It},setup(){const{frontWarehouse:e}=J();return{orderUniqueId:Ge().params.uniqueId,frontWarehouse:e}}}),Q4={class:"mt-30 mb-30"};function X4(e,l,c,n,h,y){const u=o("router-link"),d=o("a-breadcrumb-item"),m=o("a-breadcrumb"),p=o("ShoppingOutlined"),_=o("a-button"),f=o("a-space"),g=o("a-result"),b=o("a-card"),v=o("a-col"),k=o("a-row");return r(),S("div",Q4,[t(k,{type:"flex",justify:"center"},{default:a(()=>[t(v,{span:20},{default:a(()=>[t(m,null,{default:a(()=>[t(d,null,{default:a(()=>[t(u,{to:{name:"front.homepage",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[i(s(e.$t("front.home")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[t(u,{to:{name:"front.dashboard",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[i(s(e.$t("front.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[t(u,{to:{name:"front.orders",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[i(s(e.$t("front.my_orders")),1)]),_:1},8,["to"])]),_:1}),t(d,null,{default:a(()=>[i(s(e.$t("front.order_placed")),1)]),_:1})]),_:1}),t(k,{class:"mt-30"},{default:a(()=>[t(v,{span:24},{default:a(()=>[t(b,{title:null,bordered:!1,style:{borderRadius:"10px"},class:"dashboard-container"},{default:a(()=>[t(g,{status:"success",title:e.$t("front.order_placed"),"sub-title":e.$t("front.order_placed_message",[e.orderUniqueId])},{extra:a(()=>[t(f,null,{default:a(()=>[t(_,{key:"console",type:"primary"},{default:a(()=>[t(u,{to:{name:"front.orders",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[t(p),i(" "+s(e.$t("front.all_orders")),1)]),_:1},8,["to"])]),_:1}),t(_,{key:"buy"},{default:a(()=>[t(u,{to:{name:"front.homepage",params:{warehouse:e.frontWarehouse.slug}}},{default:a(()=>[i(s(e.$t("front.continue_shopping")),1)]),_:1},8,["to"])]),_:1})]),_:1})]),_:1},8,["title","sub-title"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const Z4=W(J4,[["render",X4]]),x4=[{path:"/",component:vw,children:[{path:"/store/:warehouse",component:Hw,name:"front.homepage",meta:{isFrontStore:!0,requireUnauth:!0,menuKey:"homepage"}},{path:"/store/:warehouse/categories/:slug*",component:Xw,name:"front.categories",meta:{isFrontStore:!0,requireUnauth:!0,menuKey:"categories"}},{path:"/store/:warehouse/dashboard",component:f4,name:"front.dashboard",meta:{isFrontStore:!0,requireAuth:!0,menuKey:"dashboard"}},{path:"/store/:warehouse/profile",component:D4,name:"front.profile",meta:{isFrontStore:!0,requireAuth:!0,menuKey:"profile"}},{path:"/store/:warehouse/orders",component:P4,name:"front.orders",meta:{isFrontStore:!0,requireAuth:!0,menuKey:"orders"}},{path:"/store/:warehouse/checkout",component:G4,name:"front.checkout",meta:{isFrontStore:!0,requireAuth:!0,menuKey:"orders"}},{path:"/store/:warehouse/checkout-success/:uniqueId",component:Z4,name:"front.checkout.success",meta:{isFrontStore:!0,requireAuth:!0,menuKey:"orders"}}]}],Ho=e=>{const{url:l,data:c,success:n,error:h}=e;var y={};we(c,function(u,d){u==null?y[d]=null:y[d]=u}),axiosAdmin.post(l,y).then(u=>{n(u.data)}).catch(u=>{const d=u.data,m=u.status;var p={};if(m==422){if(d.error&&typeof d.error.details<"u")for(var _=Object.keys(d.error.details),f=0;f<_.length;f++){var g=_[f].replace(".","\\.");p[g]={required:!0,message:d.error.details[_[f]][0]}}h(p),e.t&&Oe.error(e.t("common.fix_errors"))}else m==403&&h(d)}).then(()=>{})},eC=Z({props:["formData","data","visible","url","addEditType"],components:{PlusOutlined:ne,LoadingOutlined:Ie,SaveOutlined:he,SearchOutlined:nt,DeleteOutlined:fe},setup(e,{emit:l}){const c=Se({formSubmitting:!1,formData:e.formData}),n=T({}),h=()=>{n.value={},l("closed")},{t:y}=te(),u=Se({orderSearchTerm:[],productFetching:!1,products:[]}),d=T([]),{formatAmountCurrency:m}=J(),p=pe(()=>e.addEditType=="add"?y("product_card.add"):y("product_card.edit")),_=()=>{c.formSubmitting=!0,Ho({url:e.url,data:c.formData,success:v=>{Ee.success({placement:"bottomRight",message:y("common.success"),description:e.addEditType=="add"?y("product_card.created"):y("product_card.updated")}),l("addEditSuccess",v.xid),c.formSubmitting=!1,n.value={}},error:v=>{n.value=v,Oe.error(y("common.fix_errors")),c.formSubmitting=!1}})},f=ht(v=>{if(u.products=[],v!=""){u.productFetching=!0;let k="product-lists/search-products";axiosAdmin.post(k,{search_term:v,except:c.formData.products}).then($=>{u.products=$.data.products,u.productFetching=!1})}},300),g=(v,k)=>{const $=k.product;d.value=[...d.value,$],c.formData.products=[...c.formData.products,$.xid],u.orderSearchTerm=[],u.products=[]},b=v=>{const k=Xe(d.value,A=>A.xid!=v),$=Xe(c.formData.products,A=>A!=v);d.value=k,c.formData.products=$};return me(e,(v,k)=>{c.formData={...v.formData},d.value=v.addEditType=="edit"?v.data.products_details:[]}),{...dt(u),fetchProducts:f,searchValueSelected:g,selectedProducts:d,rules:n,onClose:h,onSubmit:_,pageTitle:p,drawerWidth:window.innerWidth<=991?"90%":"45%",formatAmountCurrency:m,getSalesPriceWithTax:Ut,removeItem:b,addEditForm:c}}}),tC=w("br",null,null,-1);function aC(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("SearchOutlined"),f=o("a-spin"),g=o("a-select-option"),b=o("a-select"),v=o("a-tag"),k=o("a-space"),$=o("a-avatar"),A=o("a-list-item-meta"),O=o("delete-outlined"),F=o("a-button"),P=o("a-list-item"),E=o("a-list"),U=o("a-form"),R=o("SaveOutlined"),L=o("a-modal");return r(),C(L,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:a(()=>[t(F,{key:"submit",type:"primary",loading:e.addEditForm.formSubmitting,onClick:e.onSubmit},{icon:a(()=>[t(R)]),default:a(()=>[i(" "+s(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),t(F,{key:"back",onClick:e.onClose},{default:a(()=>[i(s(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:a(()=>[t(U,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("product_card.title"),name:"title",help:e.rules.title?e.rules.title.message:null,validateStatus:e.rules.title?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.title,"onUpdate:value":l[0]||(l[0]=K=>e.addEditForm.formData.title=K),placeholder:e.$t("common.placeholder_default_text",[e.$t("product_card.title")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("product_card.subtitle"),name:"subtitle",help:e.rules.subtitle?e.rules.subtitle.message:null,validateStatus:e.rules.subtitle?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.subtitle,"onUpdate:value":l[1]||(l[1]=K=>e.addEditForm.formData.subtitle=K),placeholder:e.$t("common.placeholder_default_text",[e.$t("product_card.subtitle")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,{label:e.$t("product_card.products"),name:"products",help:e.rules.products?e.rules.products.message:null,validateStatus:e.rules.products?"error":null},{default:a(()=>[t(b,{value:e.orderSearchTerm,"onUpdate:value":l[2]||(l[2]=K=>e.orderSearchTerm=K),"show-search":"","filter-option":!1,placeholder:e.$t("common.select_default_text",[e.$t("product_card.products")]),style:{width:"100%"},"not-found-content":e.productFetching?void 0:null,onSearch:e.fetchProducts,"option-label-prop":"label",onFocus:l[3]||(l[3]=K=>e.products=[]),onSelect:e.searchValueSelected},We({suffixIcon:a(()=>[t(_)]),default:a(()=>[(r(!0),S(I,null,Q(e.products,K=>(r(),C(g,{key:K.xid,value:K.xid,label:K.name,product:K},{default:a(()=>[i(" => "+s(K.name),1)]),_:2},1032,["value","label","product"]))),128))]),_:2},[e.productFetching?{name:"notFoundContent",fn:a(()=>[t(f,{size:"small"})]),key:"0"}:void 0]),1032,["value","placeholder","not-found-content","onSearch","onSelect"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(E,{"item-layout":"horizontal","data-source":e.selectedProducts},{renderItem:a(({item:K})=>[t(P,null,{actions:a(()=>[t(F,{type:"link",onClick:V=>e.removeItem(K.xid)},{default:a(()=>[t(O,{style:{fontSize:"20px",color:"#f87171"}})]),_:2},1032,["onClick"])]),default:a(()=>[t(A,null,{title:a(()=>[i(s(K.name),1)]),description:a(()=>[t(k,null,{default:a(()=>[w("div",null,[K.category_id?(r(),C(v,{key:0,color:"purple"},{default:a(()=>[i(s(K.category.name),1)]),_:2},1024)):D("",!0),K.brand_id?(r(),C(v,{key:1,color:"cyan"},{default:a(()=>[i(s(K.brand.name),1)]),_:2},1024)):D("",!0)])]),_:2},1024),tC,t(k,{class:"mt-5"},{default:a(()=>[w("span",null,s(e.$t("product.sales_price"))+": ",1),w("span",null,s(e.formatAmountCurrency(e.getSalesPriceWithTax(K))),1),w("del",null,s(e.formatAmountCurrency(K.details.mrp)),1)]),_:2},1024)]),avatar:a(()=>[t($,{src:K.image_url},null,8,["src"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data-source"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const nC=W(eC,[["render",aC]]),oC=()=>{const e="product-cards?fields=xid,title,subtitle,products,x_products,products_details",{t:l}=te(),c=["products"],n={title:"",subtitle:"",products:[]},h=[{title:l("product_card.title"),dataIndex:"title"},{title:l("product_card.products"),dataIndex:"products"},{title:l("common.action"),dataIndex:"action"}],y=[{key:"title",value:l("product_card.title")}];return{url:e,initData:n,columns:h,filterableColumns:y,hashableColumns:c}},lC={components:{EyeOutlined:Ze,PlusOutlined:ne,EditOutlined:$e,DeleteOutlined:fe,AddEdit:nC,AdminPageHeader:ge},setup(){const{formatAmountCurrency:e,selectedWarehouse:l}=J(),{url:c,initData:n,columns:h,filterableColumns:y,hashableColumns:u}=oC(),d=Ke();x(()=>{m()});const m=()=>{d.tableUrl.value={url:c},d.table.filterableColumns=y,d.fetch({page:1}),d.crudUrl.value="product-cards",d.langKey.value="product_card",d.initData.value={...n},d.formData.value={...n},d.hashableColumns.value=[...u]};return me(l,(p,_)=>{m()}),{columns:h,...d,filterableColumns:y,formatAmountCurrency:e,getSalesPriceWithTax:Ut}}},sC={class:"table-responsive"},rC=w("br",null,null,-1);function dC(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("PlusOutlined"),g=o("a-button"),b=o("DeleteOutlined"),v=o("a-space"),k=o("a-col"),$=o("a-select-option"),A=o("a-select"),O=o("a-input-search"),F=o("a-input-group"),P=o("a-row"),E=o("admin-page-filters"),U=o("AddEdit"),R=o("a-avatar"),L=o("a-list-item-meta"),K=o("a-list-item"),V=o("a-list"),q=o("EditOutlined"),B=o("a-table"),Y=o("admin-page-table-content");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.product_cards"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.website_setup")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.product_cards")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(P,{gutter:[16,16]},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(v,null,{default:a(()=>[t(g,{type:"primary",onClick:e.addItem},{default:a(()=>[t(f),i(" "+s(e.$t("product_card.add")),1)]),_:1},8,["onClick"]),e.table.selectedRowKeys.length>0?(r(),C(g,{key:0,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.delete")),1)]),_:1},8,["onClick"])):D("",!0)]),_:1})]),_:1}),t(k,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(P,{gutter:[16,16],justify:"end"},{default:a(()=>[t(k,{xs:24,sm:24,md:12,lg:8,xl:8},{default:a(()=>[t(F,{compact:""},{default:a(()=>[t(A,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":l[0]||(l[0]=N=>e.table.searchColumn=N),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(r(!0),S(I,null,Q(n.filterableColumns,N=>(r(),C($,{key:N.key},{default:a(()=>[i(s(N.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(O,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":l[1]||(l[1]=N=>e.table.searchString=N),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Y,null,{default:a(()=>[t(U,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data"]),t(P,{class:"mt-20"},{default:a(()=>[t(k,{span:24},{default:a(()=>[w("div",sC,[t(B,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:N=>({disabled:!1,name:N.xid})},columns:n.columns,"row-key":N=>N.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:N,record:le})=>[N.dataIndex==="title"?(r(),S(I,{key:0},[i(s(le.title)+" ",1),rC,w("small",null,s(le.subtitle),1)],64)):D("",!0),N.dataIndex==="products"?(r(),C(V,{key:1,"item-layout":"horizontal","data-source":le.products_details},{renderItem:a(({item:H})=>[t(K,null,{default:a(()=>[t(L,{title:H.name},{avatar:a(()=>[t(R,{src:H.image_url,size:"small"},null,8,["src"])]),_:2},1032,["title"])]),_:2},1024)]),_:2},1032,["data-source"])):D("",!0),N.dataIndex==="action"?(r(),C(v,{key:2},{default:a(()=>[t(g,{type:"primary",onClick:H=>e.editItem(le)},{icon:a(()=>[t(q)]),_:2},1032,["onClick"]),t(g,{type:"primary",onClick:H=>e.showDeleteConfirm(le.xid)},{icon:a(()=>[t(b)]),_:2},1032,["onClick"])]),_:2},1024)):D("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const iC=W(lC,[["render",dC]]),uC=Z({props:["formData","data","rules"],emits:["onSubmit"],components:{SaveOutlined:he,SearchOutlined:nt,DeleteOutlined:fe},setup(e,{emit:l}){const c=Se({searchTerm:[],productFetching:!1,products:[]}),n=T([]),{formatAmountCurrency:h}=J(),y=Se({formSubmitting:!1,formData:e.formData});x(()=>{y.formData=e.formData,n.value=e.data.featured_products_details});const u=ht(_=>{if(c.products=[],_!=""){c.productFetching=!0;const f=y.formData.featured_products;let g="products?fields=id,xid,name,image,image_url,details{id,xid,product_id,x_product_id,sales_price,sales_tax_type,tax_id,x_tax_id,mrp},brand_id,x_brand_id,category_id,x_category_id,details:tax{id,xid,rate},brand{id,xid,name,image,image_url},category{id,xid,name,image,image_url}",b="",v="";if(f.length>0){let k="";f.forEach($=>{k+=`products.id ne ${$} and `,v+=`${$},`}),b+=`(${k.substring(0,k.length-5)}) and `,v=v.substring(0,v.length-1)}b+=`products.name lk "%${_}%"`,g+=`&filters=${encodeURIComponent(b)}`,g+=`&hashable=${v}`,axiosAdmin.get(g).then(k=>{c.products=k.data,c.productFetching=!1})}},300),d=(_,f)=>{const g=f.product;n.value=[...n.value,g],y.formData.featured_products=[...y.formData.featured_products,g.xid],c.searchTerm=[],c.products=[]},m=_=>{const f=Xe(n.value,b=>b.xid!=_),g=Xe(y.formData.featured_products,b=>b!=_);n.value=f,y.formData.featured_products=g},p=()=>{l("onSubmit",y.formData)};return{...dt(c),fetchProducts:u,searchValueSelected:d,selectedProducts:n,formatAmountCurrency:h,getSalesPriceWithTax:Ut,removeItem:m,onSubmit:p,addEditForm:y}}}),mC=w("br",null,null,-1);function cC(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("SearchOutlined"),p=o("a-spin"),_=o("a-select-option"),f=o("a-select"),g=o("a-col"),b=o("a-row"),v=o("a-tag"),k=o("a-space"),$=o("a-avatar"),A=o("a-list-item-meta"),O=o("delete-outlined"),F=o("a-button"),P=o("a-list-item"),E=o("a-list"),U=o("SaveOutlined"),R=o("a-form"),L=o("a-card");return r(),C(L,{title:e.$t("front_setting.featured_products"),class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(R,{layout:"vertical"},{default:a(()=>[t(b,{gutter:16},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("front_setting.featured_products_title"),name:"featured_products_title",help:e.rules.featured_products_title?e.rules.featured_products_title.message:null,validateStatus:e.rules.featured_products_title?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.featured_products_title,"onUpdate:value":l[0]||(l[0]=K=>e.addEditForm.formData.featured_products_title=K),placeholder:e.$t("common.placeholder_default_text",[e.$t("product_card.title")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(d,{label:e.$t("front_setting.featured_products_subtitle"),name:"featured_products_subtitle",help:e.rules.featured_products_subtitle?e.rules.featured_products_subtitle.message:null,validateStatus:e.rules.featured_products_subtitle?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.featured_products_subtitle,"onUpdate:value":l[1]||(l[1]=K=>e.addEditForm.formData.featured_products_subtitle=K),placeholder:e.$t("common.placeholder_default_text",[e.$t("product_card.subtitle")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(d,{label:e.$t("product.product"),name:"featured_products",help:e.rules.featured_products?e.rules.featured_products.message:null,validateStatus:e.rules.featured_products?"error":null},{default:a(()=>[t(f,{value:e.searchTerm,"onUpdate:value":l[2]||(l[2]=K=>e.searchTerm=K),"show-search":"","filter-option":!1,placeholder:e.$t("common.select_default_text",[e.$t("product.product")]),style:{width:"100%"},"not-found-content":e.productFetching?void 0:null,onSearch:e.fetchProducts,"option-label-prop":"label",onFocus:l[3]||(l[3]=K=>e.products=[]),onSelect:e.searchValueSelected},We({suffixIcon:a(()=>[t(m)]),default:a(()=>[(r(!0),S(I,null,Q(e.products,K=>(r(),C(_,{key:K.xid,value:K.xid,label:K.name,product:K},{default:a(()=>[i(" => "+s(K.name),1)]),_:2},1032,["value","label","product"]))),128))]),_:2},[e.productFetching?{name:"notFoundContent",fn:a(()=>[t(p,{size:"small"})]),key:"0"}:void 0]),1032,["value","placeholder","not-found-content","onSearch","onSelect"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(b,{gutter:16},{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:12},{default:a(()=>[t(E,{"item-layout":"horizontal","data-source":e.selectedProducts},{renderItem:a(({item:K})=>[t(P,null,{actions:a(()=>[t(F,{type:"link",onClick:V=>e.removeItem(K.xid)},{default:a(()=>[t(O,{style:{fontSize:"20px",color:"#f87171"}})]),_:2},1032,["onClick"])]),default:a(()=>[t(A,null,{title:a(()=>[i(s(K.name),1)]),description:a(()=>[t(k,null,{default:a(()=>[w("div",null,[K.category_id?(r(),C(v,{key:0,color:"purple"},{default:a(()=>[i(s(K.category.name),1)]),_:2},1024)):D("",!0),K.brand_id?(r(),C(v,{key:1,color:"cyan"},{default:a(()=>[i(s(K.brand.name),1)]),_:2},1024)):D("",!0)])]),_:2},1024),mC,t(k,{class:"mt-5"},{default:a(()=>[w("span",null,s(e.$t("product.sales_price"))+": ",1),w("span",null,s(e.formatAmountCurrency(e.getSalesPriceWithTax(K))),1),w("del",null,s(e.formatAmountCurrency(K.details.mrp)),1)]),_:2},1024)]),avatar:a(()=>[t($,{src:K.image_url},null,8,["src"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data-source"])]),_:1})]),_:1}),t(b,{gutter:16,class:"mt-30"},{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,null,{default:a(()=>[t(F,{type:"primary",onClick:e.onSubmit},{icon:a(()=>[t(U)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])}const pC=W(uC,[["render",cC]]),_C=Z({props:["formData","data","rules"],emits:["onSubmit"],components:{SaveOutlined:he,SearchOutlined:nt,DeleteOutlined:fe},setup(e,{emit:l}){const c=Se({searchTerm:[],categoryFetching:!1,categories:[]}),n=T([]),h=Se({formSubmitting:!1,formData:e.formData});x(()=>{h.formData=e.formData,n.value=e.data.featured_categories_details});const y=ht(p=>{if(c.categories=[],p!=""){c.categoryFetching=!0;const _=h.formData.featured_categories;let f="categories?fields=id,xid,name,image,image_url",g="",b="";if(_.length>0){let v="";_.forEach(k=>{v+=`id ne ${k} and `,b+=`${k},`}),g+=`(${v.substring(0,v.length-5)}) and `}g+=`name lk "%${p}%"`,f+=`&filters=${encodeURIComponent(g)}`,f+=`&hashable=${b}`,axiosAdmin.get(f).then(v=>{c.categories=v.data,c.categoryFetching=!1})}},300),u=(p,_)=>{const f=_.category;n.value=[...n.value,f],h.formData.featured_categories=[...h.formData.featured_categories,f.xid],c.searchTerm=[],c.categories=[]},d=p=>{const _=Xe(n.value,g=>g.xid!=p),f=Xe(h.formData.featured_categories,g=>g!=p);n.value=_,h.formData.featured_categories=f},m=()=>{l("onSubmit",h.formData)};return{...dt(c),fetchCategories:y,searchValueSelected:u,selectedCategoriess:n,removeItem:d,addEditForm:h,onSubmit:m}}});function fC(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("SearchOutlined"),p=o("a-spin"),_=o("a-select-option"),f=o("a-select"),g=o("a-col"),b=o("a-row"),v=o("a-avatar"),k=o("a-list-item-meta"),$=o("delete-outlined"),A=o("a-button"),O=o("a-list-item"),F=o("a-list"),P=o("SaveOutlined"),E=o("a-form"),U=o("a-card");return r(),C(U,{title:e.$t("front_setting.featured_categories"),class:"page-content-container mt-20 mb-20 mt-20 mb-20"},{default:a(()=>[t(E,{layout:"vertical"},{default:a(()=>[t(b,{gutter:16},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("front_setting.featured_categories_title"),name:"featured_categories_title",help:e.rules.featured_categories_title?e.rules.featured_categories_title.message:null,validateStatus:e.rules.featured_categories_title?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.featured_categories_title,"onUpdate:value":l[0]||(l[0]=R=>e.addEditForm.formData.featured_categories_title=R),placeholder:e.$t("common.placeholder_default_text",[e.$t("product_card.title")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(d,{label:e.$t("front_setting.featured_categories_subtitle"),name:"featured_categories_subtitle",help:e.rules.featured_categories_subtitle?e.rules.featured_categories_subtitle.message:null,validateStatus:e.rules.featured_categories_subtitle?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.featured_categories_subtitle,"onUpdate:value":l[1]||(l[1]=R=>e.addEditForm.formData.featured_categories_subtitle=R),placeholder:e.$t("common.placeholder_default_text",[e.$t("product_card.subtitle")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(d,{label:e.$t("category.category"),name:"featured_categories",help:e.rules.featured_categories?e.rules.featured_categories.message:null,validateStatus:e.rules.featured_categories?"error":null},{default:a(()=>[t(f,{value:e.searchTerm,"onUpdate:value":l[2]||(l[2]=R=>e.searchTerm=R),"show-search":"","filter-option":!1,placeholder:e.$t("common.select_default_text",[e.$t("category.category")]),style:{width:"100%"},"not-found-content":e.categoryFetching?void 0:null,onSearch:e.fetchCategories,"option-label-prop":"label",onFocus:l[3]||(l[3]=R=>e.categories=[]),onSelect:e.searchValueSelected},We({suffixIcon:a(()=>[t(m)]),default:a(()=>[(r(!0),S(I,null,Q(e.categories,R=>(r(),C(_,{key:R.xid,value:R.xid,label:R.name,category:R},{default:a(()=>[i(s(R.name),1)]),_:2},1032,["value","label","category"]))),128))]),_:2},[e.categoryFetching?{name:"notFoundContent",fn:a(()=>[t(p,{size:"small"})]),key:"0"}:void 0]),1032,["value","placeholder","not-found-content","onSearch","onSelect"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(b,{gutter:16},{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:12},{default:a(()=>[t(F,{"item-layout":"horizontal","data-source":e.selectedCategoriess,size:"middle"},{renderItem:a(({item:R})=>[t(O,null,{actions:a(()=>[t(A,{type:"link",onClick:L=>e.removeItem(R.xid)},{default:a(()=>[t($,{style:{fontSize:"20px",color:"#f87171"}})]),_:2},1032,["onClick"])]),default:a(()=>[t(k,null,{title:a(()=>[i(s(R.name),1)]),avatar:a(()=>[t(v,{src:R.image_url,size:"small"},null,8,["src"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data-source"])]),_:1})]),_:1}),t(b,{gutter:16,class:"mt-30"},{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,null,{default:a(()=>[t(A,{type:"primary",onClick:e.onSubmit},{icon:a(()=>[t(P)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])}const gC=W(_C,[["render",fC]]),yC=Z({props:["formData","data","rules"],emits:["onSubmit"],components:{SaveOutlined:he,SearchOutlined:nt,DeleteOutlined:fe},setup(e,{emit:l}){const c=Se({formSubmitting:!1,formData:e.formData});return x(()=>{c.formData=e.formData}),{addEditForm:c,onSubmit:()=>{l("onSubmit",c.formData)}}}});function hC(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("SaveOutlined"),f=o("a-button"),g=o("a-form"),b=o("a-card");return r(),C(b,{title:e.$t("front_setting.social_links"),class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(g,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("front_setting.facebook"),name:"name",help:e.rules.facebook_url?e.rules.facebook_url.message:null,validateStatus:e.rules.facebook_url?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.facebook_url,"onUpdate:value":l[0]||(l[0]=v=>e.addEditForm.formData.facebook_url=v),placeholder:e.$t("front_setting.placeholder_social_text",[e.$t("front_setting.facebook")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("front_setting.twitter"),name:"name",help:e.rules.twitter_url?e.rules.twitter_url.message:null,validateStatus:e.rules.twitter_url?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.twitter_url,"onUpdate:value":l[1]||(l[1]=v=>e.addEditForm.formData.twitter_url=v),placeholder:e.$t("front_setting.placeholder_social_text",[e.$t("front_setting.twitter")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("front_setting.instagram"),name:"name",help:e.rules.instagram_url?e.rules.instagram_url.message:null,validateStatus:e.rules.instagram_url?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.instagram_url,"onUpdate:value":l[2]||(l[2]=v=>e.addEditForm.formData.instagram_url=v),placeholder:e.$t("front_setting.placeholder_social_text",[e.$t("front_setting.instagram")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("front_setting.linkedin"),name:"name",help:e.rules.linkedin_url?e.rules.linkedin_url.message:null,validateStatus:e.rules.linkedin_url?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.linkedin_url,"onUpdate:value":l[3]||(l[3]=v=>e.addEditForm.formData.linkedin_url=v),placeholder:e.$t("front_setting.placeholder_social_text",[e.$t("front_setting.linkedin")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("front_setting.youtube"),name:"name",help:e.rules.youtube_url?e.rules.youtube_url.message:null,validateStatus:e.rules.youtube_url?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.youtube_url,"onUpdate:value":l[4]||(l[4]=v=>e.addEditForm.formData.youtube_url=v),placeholder:e.$t("front_setting.placeholder_social_text",[e.$t("front_setting.youtube")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(p,{gutter:16,class:"mt-30"},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,null,{default:a(()=>[t(f,{type:"primary",onClick:e.onSubmit},{icon:a(()=>[t(_)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])}const bC=W(yC,[["render",hC]]),vC=Z({props:["data","addText"],emits:["onEntry"],components:{PlusOutlined:ne,MinusCircleOutlined:Da},setup(e,{emit:l}){const c=T([]);return x(()=>{c.value=e.data}),{dynamicValidateForm:c,onSubmit:()=>{l("onEntry",c.value)},removeItem:u=>{let d=c.value.indexOf(u);d!==-1&&c.value.splice(d,1)},addItem:()=>{c.value.push({title:"",value:""})}}}});function kC(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("MinusCircleOutlined"),_=o("a-row"),f=o("PlusOutlined"),g=o("a-button");return r(),S("div",null,[(r(!0),S(I,null,Q(e.dynamicValidateForm,(b,v)=>(r(),S("div",{key:v},[t(_,{gutter:[16,16]},{default:a(()=>[t(m,{xs:10,sm:10,md:11,lg:11},{default:a(()=>[t(d,{name:["dataArray",v,"title"]},{default:a(()=>[t(u,{value:b.title,"onUpdate:value":k=>b.title=k,placeholder:e.$t("common.title"),rules:{required:!0,message:e.$t("front_setting.required_text",[e.$t("common.title")])}},null,8,["value","onUpdate:value","placeholder","rules"])]),_:2},1032,["name"])]),_:2},1024),t(m,{xs:10,sm:10,md:11,lg:11},{default:a(()=>[t(d,{name:["dataArray",v,"value"]},{default:a(()=>[t(u,{value:b.value,"onUpdate:value":k=>b.value=k,placeholder:e.$t("common.value"),rules:{required:!0,message:e.$t("front_setting.required_text",[e.$t("common.value")])}},null,8,["value","onUpdate:value","placeholder","rules"])]),_:2},1032,["name"])]),_:2},1024),t(m,{xs:4,sm:4,md:2,lg:2},{default:a(()=>[t(p,{onClick:k=>e.removeItem(b)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),t(_,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,null,{default:a(()=>[t(g,{type:"dashed",block:"",onClick:e.addItem},{default:a(()=>[t(f),i(" "+s(e.addText),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})])}const No=W(vC,[["render",kC]]),wC=Z({props:["formData","data","rules"],emits:["onSubmit"],components:{SaveOutlined:he,SearchOutlined:nt,DeleteOutlined:fe,PlusOutlined:ne,MinusCircleOutlined:Da,DyanmicForm:No},setup(e,{emit:l}){const c=Se({formSubmitting:!1,formData:e.formData});x(()=>{c.formData=e.formData});const n=d=>{c.formData.contact_info_widget=d,u()},h=d=>{c.formData.pages_widget=d,u()},y=d=>{c.formData.links_widget=d,u()},u=()=>{l("onSubmit",c.formData)};return{addEditForm:c,onSubmit:u,updateContactInfoWidget:n,updatePagesWidget:h,updateLinkInfoWidget:y}}});function CC(e,l,c,n,h,y){const u=o("a-input"),d=o("a-form-item"),m=o("a-col"),p=o("a-row"),_=o("a-divider"),f=o("a-typography-title"),g=o("DyanmicForm"),b=o("SaveOutlined"),v=o("a-button"),k=o("a-form"),$=o("a-card");return r(),C($,{title:e.$t("front_setting.footer"),class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(k,{layout:"vertical"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(d,{label:e.$t("front_setting.footer_company_description"),name:"footer_company_description",help:e.rules.footer_company_description?e.rules.footer_company_description.message:null,validateStatus:e.rules.footer_company_description?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.footer_company_description,"onUpdate:value":l[0]||(l[0]=A=>e.addEditForm.formData.footer_company_description=A),placeholder:e.$t("common.placeholder_default_text",[e.$t("front_setting.copyright_text")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"]),t(d,{label:e.$t("front_setting.copyright_text"),name:"footer_copyright_text",help:e.rules.footer_copyright_text?e.rules.footer_copyright_text.message:null,validateStatus:e.rules.footer_copyright_text?"error":null},{default:a(()=>[t(u,{value:e.addEditForm.formData.footer_copyright_text,"onUpdate:value":l[1]||(l[1]=A=>e.addEditForm.formData.footer_copyright_text=A),placeholder:e.$t("common.placeholder_default_text",[e.$t("front_setting.copyright_text")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(f,{level:5,style:{marginBottom:"20px"}},{default:a(()=>[i(s(e.$t("front_setting.footer_contact_widget")),1)]),_:1}),t(g,{data:e.formData.contact_info_widget,addText:e.$t("front_setting.addContactLink"),onOnEntry:e.updateContactInfoWidget},null,8,["data","addText","onOnEntry"])]),_:1})]),_:1}),t(_),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(f,{level:5,style:{marginBottom:"20px"}},{default:a(()=>[i(s(e.$t("front_setting.footer_page_widget")),1)]),_:1}),t(g,{data:e.formData.pages_widget,addText:e.$t("front_setting.addPageDetails"),onOnEntry:e.updatePagesWidget},null,8,["data","addText","onOnEntry"])]),_:1})]),_:1}),t(_),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(f,{level:5,style:{marginBottom:"20px"}},{default:a(()=>[i(s(e.$t("front_setting.footer_links_widget")),1)]),_:1}),t(g,{data:e.formData.links_widget,addText:e.$t("front_setting.addLink"),onOnEntry:e.updateLinkInfoWidget},null,8,["data","addText","onOnEntry"])]),_:1})]),_:1}),t(_),t(p,{gutter:16,class:"mt-30"},{default:a(()=>[t(m,{xs:24,sm:24,md:24,lg:24},{default:a(()=>[t(d,null,{default:a(()=>[t(v,{type:"primary",onClick:e.onSubmit},{icon:a(()=>[t(b)]),default:a(()=>[i(" "+s(e.$t("common.update")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])}const SC=W(wC,[["render",CC]]);function $C(e){return new Promise((l,c)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>l(n.result),n.onerror=h=>c(h)})}const AC=Z({props:["fileNames","fileUrls"],emits:["uploadSuccess"],components:{PlusOutlined:ne,LoadingOutlined:Ie},setup(e,{emit:l}){const c=T(!1),n=T(""),h=T([]),y=T([]),u=T([]),d=T(!1);return x(()=>{h.value=[...e.fileUrls],y.value=[...e.fileNames],u.value=[...e.fileUrls]}),{previewVisible:c,previewImage:n,fileList:h,handleCancel:()=>{c.value=!1},handlePreview:async g=>{!g.url&&!g.preview&&(g.preview=await $C(g.originFileObj)),n.value=g.url||g.preview,c.value=!0},loading:d,customRequest:({onSuccess:g,onError:b,file:v})=>{const k=new FormData;k.append("image",v),k.append("folder","banners"),d.value=!0,axiosAdmin.post("upload-file",k,{headers:{"Content-Type":"multipart/form-data"}}).then($=>{y.value.push($.data.file),d.value=!1,g({name:$.data.file},v),u.value.push({uid:v.uid,name:$.data.file}),l("uploadSuccess",y.value)}).catch(()=>{d.value=!1,Oe.error("upload failed.")})},fileArray:y,handleRemove:g=>{const b=Xe(u.value,k=>k.uid!=g.uid),v=[];we(b,k=>{v.push(k.name)}),u.value=b,y.value=v,l("uploadSuccess",y.value)}}}}),DC={class:"clearfix"},TC={key:0},EC={key:1},OC=w("div",{class:"ant-upload-text"},"Upload",-1),IC=["src"];function PC(e,l,c,n,h,y){const u=o("loading-outlined"),d=o("plus-outlined"),m=o("a-upload"),p=o("a-modal");return r(),S("div",DC,[t(m,{accept:"image/*",name:"image","file-list":e.fileList,"onUpdate:fileList":l[0]||(l[0]=_=>e.fileList=_),"list-type":"picture-card","show-upload-list":!0,onPreview:e.handlePreview,customRequest:e.customRequest,remove:e.handleRemove},{default:a(()=>[e.loading?(r(),S("div",TC,[t(u)])):(r(),S("div",EC,[t(d),OC]))]),_:1},8,["file-list","onPreview","customRequest","remove"]),t(p,{open:e.previewVisible,footer:null,onCancel:e.handleCancel},{default:a(()=>[w("img",{alt:"example",style:{width:"100%"},src:e.previewImage},null,8,IC)]),_:1},8,["open","onCancel"])])}const UC=W(AC,[["render",PC]]),FC=Z({props:["formData","data","rules"],emits:["onSubmit"],components:{SaveOutlined:he,SearchOutlined:nt,DeleteOutlined:fe,PlusOutlined:ne,MinusCircleOutlined:Da,DyanmicForm:No,FileUploader:UC},setup(e,{emit:l}){const c=Se({formSubmitting:!1,formData:e.formData});x(()=>{c.formData=e.formData});const n=p=>{c.formData.contact_info_widget=p},h=()=>{l("onSubmit",c.formData)};return{addEditForm:c,onSubmit:h,updateContactInfoWidget:n,topBannerUploadSuccess:p=>{c.formData.top_banners=p,h()},bottomBanner1UploadSuccess:p=>{c.formData.bottom_banners_1=p,h()},bottomBanner2UploadSuccess:p=>{c.formData.bottom_banners_2=p,h()},bottomBanner3UploadSuccess:p=>{c.formData.bottom_banners_3=p,h()}}}});function qC(e,l,c,n,h,y){const u=o("a-typography-title"),d=o("FileUploader"),m=o("a-col"),p=o("a-row"),_=o("a-divider"),f=o("a-form"),g=o("a-card");return r(),C(g,{title:e.$t("front_setting.banners"),class:"page-content-container mt-20 mb-20"},{default:a(()=>[t(f,{layout:"vertical",class:"mb-20"},{default:a(()=>[t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(u,{level:5,style:{marginBottom:"20px"}},{default:a(()=>[i(s(e.$t("front_setting.top_banners_1")),1)]),_:1}),t(d,{key:"bottom_banners_1",fileUrls:e.data.bottom_banners_1_details,fileNames:e.formData.bottom_banners_1,onUploadSuccess:e.bottomBanner1UploadSuccess},null,8,["fileUrls","fileNames","onUploadSuccess"])]),_:1})]),_:1}),t(_),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(u,{level:5,style:{marginBottom:"20px"}},{default:a(()=>[i(s(e.$t("front_setting.top_banners_2")),1)]),_:1}),t(d,{key:"bottom_banners_2",fileUrls:e.data.bottom_banners_2_details,fileNames:e.formData.bottom_banners_2,onUploadSuccess:e.bottomBanner2UploadSuccess},null,8,["fileUrls","fileNames","onUploadSuccess"])]),_:1})]),_:1}),t(_),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(u,{level:5,style:{marginBottom:"20px"}},{default:a(()=>[i(s(e.$t("front_setting.top_banners_3")),1)]),_:1}),t(d,{key:"bottom_banners_3",fileUrls:e.data.bottom_banners_3_details,fileNames:e.formData.bottom_banners_3,onUploadSuccess:e.bottomBanner3UploadSuccess},null,8,["fileUrls","fileNames","onUploadSuccess"])]),_:1})]),_:1}),t(_),t(p,{gutter:16},{default:a(()=>[t(m,{xs:24,sm:24,md:12,lg:12},{default:a(()=>[t(u,{level:5,style:{marginBottom:"20px"}},{default:a(()=>[i(s(e.$t("front_setting.bottom_banners")),1)]),_:1}),t(d,{key:"top_banners_details",fileUrls:e.data.top_banners_details,fileNames:e.formData.top_banners,onUploadSuccess:e.topBannerUploadSuccess},null,8,["fileUrls","fileNames","onUploadSuccess"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])}const MC=W(FC,[["render",qC]]);const RC=Z({components:{FeaturedCategories:gC,FeaturedProducts:pC,SocialLinks:bC,Footers:SC,Banners:MC,HomeOutlined:Aa,ShoppingOutlined:It,SettingOutlined:_t,LogoutOutlined:Qn,SaveOutlined:he,AdminPageHeader:ge},setup(){const{selectedWarehouse:e}=J(),{t:l}=te(),c=T({}),n=T({}),h=T({}),y=T(["featured_categories"]);x(()=>{u()});const u=()=>{const m="front-settings?fields=id,xid,featured_categories,x_featured_categories,featured_products_details,featured_categories_title,featured_categories_subtitle,featured_products,x_featured_products,featured_categories_details,featured_products_title,featured_products_subtitle,facebook_url,twitter_url,instagram_url,linkedin_url,youtube_url,pages_widget,contact_info_widget,links_widget,footer_copyright_text,top_banners,top_banners_details,bottom_banners_1,bottom_banners_1_details,bottom_banners_2,bottom_banners_2_details,bottom_banners_3,bottom_banners_3_details,footer_company_description";axiosAdmin.get(m).then(p=>{const _=p.data[0];n.value={featured_categories:_.x_featured_categories,featured_categories_title:_.featured_categories_title,featured_categories_subtitle:_.featured_categories_subtitle,featured_products:_.x_featured_products,featured_products_title:_.featured_products_title,featured_products_subtitle:_.featured_products_subtitle,facebook_url:_.facebook_url,twitter_url:_.twitter_url,instagram_url:_.instagram_url,linkedin_url:_.linkedin_url,youtube_url:_.youtube_url,pages_widget:_.pages_widget,contact_info_widget:_.contact_info_widget,links_widget:_.links_widget,footer_company_description:_.footer_company_description,footer_copyright_text:_.footer_copyright_text,top_banners:_.top_banners,bottom_banners_1:_.bottom_banners_1,bottom_banners_2:_.bottom_banners_2,bottom_banners_3:_.bottom_banners_3},h.value=_})},d=m=>{Ho({url:`front-settings/${h.value.xid}`,data:{...m,_method:"PUT"},success:p=>{Ee.success({placement:"bottomRight",message:l("common.success"),description:l("front.setting_updated_successfully")}),c.value={}},error:p=>{c.value=p,message.error(l("common.fix_errors"))}})};return me(e,(m,p)=>{n.value={},h.value={},u()}),{rules:c,formData:n,frontSettingsData:h,onSubmit:d,activeKey:y}}}),KC={class:"setting-sidebar"};function VC(e,l,c,n,h,y){const u=o("a-page-header"),d=o("router-link"),m=o("a-breadcrumb-item"),p=o("a-breadcrumb"),_=o("AdminPageHeader"),f=o("a-menu-item"),g=o("a-menu"),b=o("perfect-scrollbar"),v=o("a-col"),k=o("FeaturedCategories"),$=o("FeaturedProducts"),A=o("SocialLinks"),O=o("Footers"),F=o("Banners"),P=o("admin-page-table-content"),E=o("a-row");return r(),S(I,null,[t(_,null,{header:a(()=>[t(u,{title:e.$t("menu.front_settings"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(p,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(m,null,{default:a(()=>[t(d,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.website_setup")),1)]),_:1}),t(m,null,{default:a(()=>[i(s(e.$t("menu.front_settings")),1)]),_:1})]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(v,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[w("div",KC,[t(b,{options:{wheelSpeed:1,swipeEasing:!0,suppressScrollX:!0}},{default:a(()=>[t(g,{selectedKeys:e.activeKey,"onUpdate:selectedKeys":l[0]||(l[0]=U=>e.activeKey=U)},{default:a(()=>[t(f,{key:"featured_categories"},{default:a(()=>[i(s(e.$t("front_setting.featured_categories")),1)]),_:1}),t(f,{key:"featured_producs"},{default:a(()=>[i(s(e.$t("front_setting.featured_products")),1)]),_:1}),t(f,{key:"social_links"},{default:a(()=>[i(s(e.$t("front_setting.social_links")),1)]),_:1}),t(f,{key:"footers"},{default:a(()=>[i(s(e.$t("front_setting.footers")),1)]),_:1}),t(f,{key:"banners"},{default:a(()=>[i(s(e.$t("front_setting.banners")),1)]),_:1})]),_:1},8,["selectedKeys"])]),_:1})])]),_:1}),t(v,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(P,null,{default:a(()=>[e.formData&&e.formData.featured_categories?(r(),S(I,{key:0},[Et(t(k,{formData:e.formData,data:e.frontSettingsData,rules:e.rules,onOnSubmit:e.onSubmit},null,8,["formData","data","rules","onOnSubmit"]),[[Vt,e.activeKey[0]=="featured_categories"]]),Et(t($,{formData:e.formData,data:e.frontSettingsData,rules:e.rules,onOnSubmit:e.onSubmit},null,8,["formData","data","rules","onOnSubmit"]),[[Vt,e.activeKey[0]=="featured_producs"]]),Et(t(A,{formData:e.formData,data:e.frontSettingsData,rules:e.rules,onOnSubmit:e.onSubmit},null,8,["formData","data","rules","onOnSubmit"]),[[Vt,e.activeKey[0]=="social_links"]]),Et(t(O,{formData:e.formData,data:e.frontSettingsData,rules:e.rules,onOnSubmit:e.onSubmit},null,8,["formData","data","rules","onOnSubmit"]),[[Vt,e.activeKey[0]=="footers"]]),Et(t(F,{formData:e.formData,data:e.frontSettingsData,rules:e.rules,onOnSubmit:e.onSubmit},null,8,["formData","data","rules","onOnSubmit"]),[[Vt,e.activeKey[0]=="banners"]])],64)):D("",!0)]),_:1})]),_:1})]),_:1})],64)}const zC=W(RC,[["render",VC]]),LC=[{path:"/admin/website-setup/",component:()=>rt(()=>import("./Admin-7c60ed9d.js"),["assets/Admin-7c60ed9d.js","assets/vendor-f6e1d56c.js","assets/vendor-dcfd1035.css","assets/Admin-14aea5fe.css"]),children:[{path:"product-cards",component:iC,name:"admin.website-setup.product-cards.index",meta:{requireAuth:!0,menuParent:"website_setup",menuKey:e=>"product-cards",permission:"product_cards_view"}},{path:"front-settings",component:zC,name:"admin.website-setup.front-settings.edit",meta:{requireAuth:!0,menuParent:"website_setup",menuKey:e=>"front-settings",permission:"front_settings_edit"}}]}],Wa=window.config.app_type,Yo=window.config.modules,BC=()=>{var e=Ce.state.auth.appSetting;return!(e.x_currency_id==null||e.x_warehouse_id==null)},WC=()=>{var e=Ce.state.auth.appSetting;return!(e.x_currency_id==null||e.white_label_completed==!1)},Le=xl({history:es(),routes:[...x4,{path:"",redirect:"/admin/login"},...LC,...Mu,...Gg,...by,...Is,...yd,...Ky,...Ik,...s2],scrollBehavior:()=>({left:0,top:0})}),Ja=Wa=="saas"?"superadmin":"";if(Wa=="saas"){const e=pa(Object.assign({}),`../../${Ja}/router/index.js`),l=pa(Object.assign({}),`../../${Ja}/router/admin/index.js`);Promise.all([e,l]).then(([c,n])=>{c.default.forEach(h=>Le.addRoute(h)),n.default.forEach(h=>Le.addRoute(h)),Ga.forEach(h=>Le.addRoute(h))})}else Ga.forEach(e=>Le.addRoute(e));var pt=jt;function jt(e,l){var c=Gt();return jt=function(n,h){n=n-260;var y=c[n];return y},jt(e,l)}(function(e,l){for(var c=jt,n=e();[];)try{var h=-parseInt(c(293))/1+-parseInt(c(260))/2*(-parseInt(c(289))/3)+-parseInt(c(324))/4+-parseInt(c(329))/5+-parseInt(c(326))/6+parseInt(c(292))/7*(parseInt(c(279))/8)+parseInt(c(316))/9;if(h===l)break;n.push(n.shift())}catch{n.push(n.shift())}})(Gt,881551);const Qa=(e,l,c)=>{var n=jt,h=window.config[n(275)]==n(302)?n(281):n(305);const y=e[n(297)][n(314)](".");if(y.length>0&&y[0]==n(305))e.meta[n(300)]&&Ce[n(296)][n(271)]&&Ce.state[n(295)][n(299)]&&!Ce[n(318)].auth[n(299)][n(268)]?(Ce.dispatch("auth/logout"),c({name:"admin.login"})):e[n(263)][n(300)]&&WC()==![]&&y[1]!="setup_app"?c({name:"superadmin.setup_app.index"}):e[n(263)][n(300)]&&!Ce[n(296)][n(271)]?c({name:n(298)}):e.meta.requireUnauth&&Ce.getters[n(271)]?c({name:n(272)}):c();else if(y[n(322)]>0&&y[0]=="admin"&&Ce[n(318)].auth&&Ce[n(318)][n(295)][n(299)]&&Ce.state[n(295)].user[n(268)])c({name:"superadmin.dashboard.index"});else if(y[n(322)]>0&&y[0]==n(281))if(e[n(263)].requireAuth&&!Ce[n(296)]["auth/isLoggedIn"])Ce[n(265)](n(311)),c({name:n(298)});else if(e[n(263)].requireAuth&&BC()==![]&&y[1]!="setup_app")c({name:n(321)});else if(e[n(263)][n(303)]&&Ce[n(296)][n(271)])c({name:n(264)});else if(e[n(297)]==h+n(323))Ce[n(328)](n(313),![]),c();else{var u=e[n(263)].permission;y[1]=="stock"&&(u=ts(e[n(263)].permission(e),"-","_")),!e[n(263)][n(284)]||Xn(u,Ce.state[n(295)][n(299)])?c():c({name:"admin.dashboard.index"})}else y[n(322)]>0&&y[0]==n(306)&&e.meta[n(300)]&&!Ce[n(296)][n(287)]?(Ce[n(265)](n(285)),c({name:"front.homepage"})):c()};var ct=["t","S","y","o","i","c","l","k","f"],Wt=""+ct[1]+ct[0]+ct[3]+ct[5]+ct[7]+ct[4]+ct[8]+ct[6]+ct[2];window[pt(270)][pt(275)]=="saas"&&(Wt+=pt(319));var Ot=[{verified_name:Wt,value:![]}];Yo[pt(317)](e=>{var l=pt;Ot[l(325)]({verified_name:e,value:![]})});function Gt(){var e=["1588490hiraUv","toJSON","auth","getters","name","admin.login","user","requireAuth","module","non-saas","requireUnauth","envato","superadmin","front","verified_name","modules_not_registered","saas","Our license verification server is now offline. Please verify your license manually.","auth/logout","Error","auth/updateAppChecking","split","host","21467601CyhfxU","forEach","state","Saas","Modules Not Verified","admin.setup_app.index","length",".settings.modules.index","4103972tzBeCZ","push","1561668TYsroc","location","commit","110245YavZko","modules","6538nlBscG","check","is_main_product_valid","meta","admin.dashboard.index","dispatch","value","verify.main","is_superadmin","main_product_registered","config","auth/isLoggedIn","superadmin.dashboard.index","beforeEach","url","app_type","charAt",".com/","catch","8FcnhtU","auth/updateActiveModules","admin","error","bottomRight","permission","front/logout","data","front/isLoggedIn","Error!","153rGKDYi","post","appModule","8584471jlRnQW"];return Gt=function(){return e},Gt()}const jC=()=>Qe(Ot,["value",![]]),HC=(e,l,c)=>{var n=pt;return e.length!=5||l[n(322)]!=8||c.length!=6?![]:e[n(276)](3)!="c"||e.charAt(4)!="k"||e[n(276)](0)!="c"||e[n(276)](1)!="h"||e.charAt(2)!="e"?![]:l.charAt(2)!="d"||l[n(276)](3)!="e"||l.charAt(4)!="i"||l[n(276)](0)!="c"||l.charAt(1)!="o"||l[n(276)](5)!="f"||l[n(276)](6)!="l"||l[n(276)](7)!="y"?![]:c[n(276)](2)!="v"||c[n(276)](3)!="a"||c[n(276)](0)!="e"||c[n(276)](1)!="n"||c[n(276)](4)!="t"||c[n(276)](5)!="o"?![]:!![]},Xa=e=>{var l=pt;return e[l(276)](19)!="i"||e[l(276)](13)!="o"||e[l(276)](9)!="n"||e[l(276)](16)!="o"||e.charAt(22)!="y"||e[l(276)](11)!="a"||e.charAt(18)!="e"||e[l(276)](21)!="l"||e.charAt(10)!="v"||e.charAt(20)!="f"||e.charAt(12)!="t"||e.charAt(17)!="d"||e[l(276)](8)!="e"||e[l(276)](15)!="c"||e[l(276)](26)!="m"||e[l(276)](24)!="c"||e.charAt(25)!="o"?![]:!![]};Le[pt(273)]((e,l,c)=>{var n=pt,h=n(304),y="codeifly",u=n(261),d={modules:window[n(270)].modules};if(e[n(263)]&&e.meta[n(291)]&&(d[n(301)]=e[n(263)][n(291)],!et(Yo,e.meta[n(291)])&&c({name:n(298)})),!HC(u,y,h))qe[n(282)]({title:n(288),content:n(310)});else{var m=window[n(270)][n(275)]=="non-saas"?n(281):n(305);if(jC()!==void 0&&e.name&&e[n(297)]!=n(267)&&e.name!=m+".settings.modules.index"){var p="https://"+h+"."+y+n(277)+u;st({method:n(290),url:p,data:{verified_name:Wt,...d,domain:"demo.stockifly.in"},timeout:4e3}).then(_=>{var f=n;if(!Xa(_[f(270)][f(274)]))qe[f(282)]({title:f(288),content:f(310)});else{Ce.commit("auth/updateAppChecking",![]);const g=_[f(286)];if(g[f(269)]&&(Ot.forEach(b=>{var v=f;b[v(307)]==Wt&&(b[v(266)]=!![])}),Ot.forEach(b=>{var v=f;if(et(g[v(308)],b.verified_name)||et(g.multiple_registration_modules,b[v(307)])){if(b[v(307)]!=Wt){var k=[...window[v(270)].modules],$=On(k,function(A){var O=v;return A!=b[O(307)]});Ce[v(328)](v(280),$),window[v(270)][v(330)]=$}b.value=![]}else b[v(266)]=!![]})),g[f(262)])if(!g.main_product_registered||g.multiple_registration)c({name:f(267)});else if(e[f(263)]&&e.meta[f(291)]&&Qe(Ot,{verified_name:e.meta[f(291)],value:![]})!==void 0){Ee.error({placement:f(283),message:f(312),description:f(320)});const b=Wa==f(309)?f(305):f(281);c({name:b+f(323)})}else Qa(e,l,c)}})[n(278)](_=>{var f=n;Xa(_[f(294)]()[f(270)][f(274)])?(Ot[f(317)](g=>{g.value=!![]}),Ce[f(328)](f(313),![]),c()):qe.error({title:"Error!",content:f(310)})})}else Qa(e,l,c)}});const Za="auth_user",xa="auth_token",en="expire_key",tn="app_settings",an="global_settings",nn="per_page_item",on="all_langs",ln="selected_lang",sn="page_title",rn="dark_theme",dn="active_modules",un="css_settings",mn="selected_warehouse",cn="all_warehouses",NC="all_front_warehouses",pn="add_menus",_n="all_export_data",fn="email_setting_verified",gn="visible_subscription_modules";at.suppressDeprecationWarnings=!0;const xe=e=>{const l=window.localStorage.getItem(e);return l==="undefined"||l==="null"||l===void 0||l===null?null:JSON.parse(l)},YC=()=>{var e=window.config.defaultLangKey;return e||"en"},GC={namespaced:!0,state(){return{user:xe(Za),warehouse:xe(mn),all_warehouses:xe(cn)||[],all_front_warehouses:xe(NC)||[],allLangs:xe(on)||[],lang:window.localStorage.getItem(ln)||YC(),token:window.localStorage.getItem(xa)||null,expires:window.localStorage.getItem(en)||null,globalSetting:xe(an),appSetting:xe(tn),addMenus:xe(pn)||[],visibleSubscriptionModules:xe(gn)||[],perPage:window.localStorage.getItem(nn)||window.config.path,pageTitle:window.localStorage.getItem(sn)||"",darkTheme:xe(rn),activeModules:xe(dn),cssSettings:xe(un)||{leftRightPadding:"50px",headerMenuMode:"vertical"},appChecking:!0,emailSettingVerified:window.localStorage.getItem(fn)||!1,menuCollapsed:window.innerWidth<=991,allExportData:xe(_n)||[]}},mutations:{updateUser(e,l){e.user=l,window.localStorage.setItem(Za,JSON.stringify(l))},updateWarehouse(e,l){e.warehouse=l,window.localStorage.setItem(mn,JSON.stringify(l))},updateAllWarehouses(e,l){e.all_warehouses=l,window.localStorage.setItem(cn,JSON.stringify(l))},updateAppChecking(e,l){e.appChecking=l},updateToken(e,l){e.token=l,window.localStorage.setItem(xa,l),axiosAdmin.defaults.headers.common.Authorization=`Bearer ${l}`},updateExpires(e,l){e.expires=new Date(l),window.localStorage.setItem(en,l)},updateApp(e,l){e.appSetting=l,window.localStorage.setItem(tn,JSON.stringify(l));var c=document.querySelector("link[rel~='icon']");c.href=l.small_light_logo_url},updateGlobalSetting(e,l){e.globalSetting=l,window.localStorage.setItem(an,JSON.stringify(l));var c=document.querySelector("link[rel~='icon']");c.href=l.small_light_logo_url},updateAddMenus(e,l){e.addMenus=l,window.localStorage.setItem(pn,JSON.stringify(l))},updatePerPage(e,l){e.perPage=l,window.localStorage.setItem(nn,l)},updateLang(e,l){e.lang=l,window.localStorage.setItem(ln,l)},updatePageTitle(e,l){e.pageTitle=l,window.localStorage.setItem(sn,l),e.appSetting!==null&&e.appSetting!==void 0?document.title=`${l} - ${e.appSetting.name}`:document.title=`${l} - Stockify`},updateDarkTheme(e,l){e.darkTheme=l,window.localStorage.setItem(rn,l)},updateActiveModules(e,l){e.activeModules=l,window.localStorage.setItem(dn,JSON.stringify(l))},updateCssSettings(e,l){e.cssSettings=l,window.localStorage.setItem(un,JSON.stringify(l))},updateAllLangs(e,l){e.allLangs=l,window.localStorage.setItem(on,JSON.stringify(l))},updateMenuCollapsed(e,l){e.menuCollapsed=l},updatAllExportData(e,l){e.allExportData=l,window.localStorage.setItem(_n,JSON.stringify(l))},updateEmailVerifiedSetting(e,l){e.emailSettingVerified=l,window.localStorage.setItem(fn,l)},updateVisibleSubscriptionModules(e,l){e.visibleSubscriptionModules=l,window.localStorage.setItem(gn,JSON.stringify(l))}},actions:{updateUser(e){axiosAdmin.post("/user").then(function(l){e.commit("updateUser",l.data.user)}).catch(function(l){})},updateGlobalSetting(e){axiosAdmin.get("/global-setting").then(function(l){e.commit("updateGlobalSetting",l.data.global_setting);var c=document.querySelector("link[rel~='icon']");c.href=globalSetting.small_light_logo_url}).catch(function(l){})},updateApp(e){axiosAdmin.get("/app").then(function(l){e.commit("updateApp",l.data.app),e.commit("updateAddMenus",l.data.shortcut_menus.credentials),e.commit("updateEmailVerifiedSetting",l.data.email_setting_verified);var c=document.querySelector("link[rel~='icon']");c.href=l.data.app.small_light_logo_url}).catch(function(l){})},updateAllLangs(e){axiosAdmin.get("/all-langs").then(function(l){e.commit("updateAllLangs",l.data.langs)}).catch(function(l){})},updateAllWarehouses(e){axiosAdmin.get("/warehouses?limit=10000").then(function(l){e.commit("updateAllWarehouses",l.data)}).catch(function(l){})},refreshToken(e){const l=e.state.token;l!==""&&l!=="undefined"&&l!="null"&&l!=null&&axiosAdmin.post("/auth/refresh-token").then(function(c){e.commit("updateUser",c.data.user),e.commit("updateToken",c.data.token),e.commit("updateExpires",c.data.expires_in)}).catch(function(c){})},logout(e){axiosAdmin.post("/auth/logout").then(function(l){window.sessionStorage.clear(),e.commit("updateUser",[]),e.commit("updateToken",null),e.commit("updateExpires",null),e.commit("updateEmailVerifiedSetting",0),Le.push({name:"admin.login"})}).catch(function(l){})},logoutToRootUrl(e){axiosAdmin.post("/auth/logout").then(function(l){e.commit("updateUser",[]),e.commit("updateToken",null),e.commit("updateExpires",null),window.location.href=window.config.path}).catch(function(l){})},updateVisibleSubscriptionModules(e){axiosAdmin.post("/visible-subscription-modules").then(function(l){e.commit("updateVisibleSubscriptionModules",l.data)}).catch(function(l){})}},getters:{isLoggedIn:e=>e.token===null||e.token===""?!1:at(e.expires).isAfter(at())}},yn="cart_items",hn="front_auth_user",bn="front_auth_token",vn="front_expire_key",kn="front_app_settings_key",ia=e=>{const l=window.localStorage.getItem(e);return l==="undefined"||l==="null"||l===void 0||l===null?null:JSON.parse(l)},JC={namespaced:!0,state(){return{appSetting:ia(kn),user:ia(hn),token:window.localStorage.getItem(bn)||null,expires:window.localStorage.getItem(vn)||null,cartItems:ia(yn)||{},warehouseSlug:"",warehouseCurrency:{}}},mutations:{updateApp(e,l){e.appSetting=l,window.localStorage.setItem(kn,JSON.stringify(l))},updateWarehouseCurrency(e,l){e.warehouseCurrency=l},updateUser(e,l){e.user=l,window.localStorage.setItem(hn,JSON.stringify(l))},updateToken(e,l){e.token=l,window.localStorage.setItem(bn,l),axiosFront.defaults.headers.common.Authorization=`Bearer ${l}`},updateExpires(e,l){e.expires=new Date(l),window.localStorage.setItem(vn,l)},addCartItems(e,l){e.cartItems[e.warehouseSlug]=l,window.localStorage.setItem(yn,JSON.stringify(e.cartItems))},updateWarehouseSlug(e,l){e.warehouseSlug=l}},actions:{updateApp(e,l){axiosFront.get(`/front/app/${l}`).then(function(c){e.commit("updateApp",c.data.app)}).catch(function(c){})},updateUser(e){axiosFront.post("/front/user").then(function(l){e.commit("updateUser",l.data.user)}).catch(function(l){})},refreshToken(e){const l=e.state.token;l!==""&&l!=="undefined"&&axiosFront.post(`/front/refresh-token?token=${l}`).then(function(c){e.commit("updateUser",c.data.user),e.commit("updateToken",c.data.token),e.commit("updateExpires",c.data.expires_in)}).catch(function(c){})},logout(e){axiosFront.post("/front/logout").then(function(l){window.sessionStorage.clear(),e.state.token,e.commit("updateToken",null),e.commit("updateExpires",null),Le.push({name:"front.homepage",params:{warehouse:window.config.frontStoreWarehouse.slug}})}).catch(function(l){Le.push({name:"front.homepage",params:{warehouse:window.config.frontStoreWarehouse.slug}})})}},getters:{isLoggedIn:e=>e.token===null||e.token===""?!1:at(e.expires).isAfter(at()),totalCartItems:e=>{var l=0;return e.cartItems&&e.cartItems[e.warehouseSlug]&&we(e.cartItems[e.warehouseSlug],c=>{l+=c.cart_quantity}),l},storeCartItems:e=>e.cartItems&&e.cartItems[e.warehouseSlug]?e.cartItems[e.warehouseSlug]:[]}},Ce=as({modules:{auth:GC,front:JC}});var Mt=st.create({baseURL:window.config.path+"/api/v1"});Mt.defaults.headers.Accept="application/json";Mt.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";Mt.defaults.headers.common["X-CSRF-TOKEN"]=document.head.querySelector('meta[name="csrf-token"]').content;localStorage.getItem("auth_token")&&(Mt.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("auth_token"));Mt.interceptors.response.use(function(e){return e.data},function(e){const l=e.response.status;if(l===401||l===500&&e.response&&e.response.data&&e.response.data.message&&e.response.data.message=="UNAUTHORIZED EXCEPTION")window.location.href=window.config.path+"/admin/login",delete window.axiosAdmin.defaults.headers.common.Authorization,localStorage.removeItem("auth_token"),localStorage.setItem("auth_user",null);else if(l===400){var c=e.response.data.error.message;Oe.error(c)}else if(l===403){var c=e.response.data.error.message;Oe.error(c)}else if(l===404){var c=e.response.data.error.message;Oe.error(c)}else l===405&&(Ce.dispatch("auth/updateApp"),window.config.app_type=="saas"&&Le.push({name:"admin.subscription.current_plan"}));return Promise.reject(e.response)});window.axiosAdmin=Mt;var Rt=st.create({baseURL:window.config.path+"/api/v1"});Rt.defaults.headers.Accept="application/json";Rt.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";Rt.defaults.headers.common["X-CSRF-TOKEN"]=document.head.querySelector('meta[name="csrf-token"]').content;localStorage.getItem("front_auth_token")&&(Rt.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("front_auth_token"));Rt.interceptors.response.use(function(e){return e.data},function(e){const l=e.response.status;if(l===401)window.location.href=window.config.path,delete window.axiosFront.defaults.headers.common.Authorization,localStorage.removeItem("front_auth_token"),localStorage.setItem("front_auth_user",null);else if(l===400){var c=e.response.data.error.message;Oe.error(c)}else if(l===403){var c=e.response.data.error.message;Oe.error(c)}else if(l===404){var c=e.response.data.error.message;Oe.error(c)}return Promise.reject(e.response)});window.axiosFront=Rt;at.suppressDeprecationWarnings=!0;window.moment=at;const Bt="#5F63F2",QC="#4347D9",XC="#FF69A5",ZC="#E34A87",xC="#1890ff",eS="#0D79DF",tS="rgba(0, 0, 0, 0.85)",ua="#20C997",aS="#0CAB7C",ma="#FA8B0C",nS="#D47407",wn="#f5222d",oS="#E30D0F",Cn="#2C99FF",lS="#0D79DF",Tt="#272B41",sS="#131623",Sn="#5A5F7D",$n="#363A51",rS="#9299B8",dS="#e2e6ea",An="#ffffff",iS="#5A5F7D",uS="#5A5F7D",mS="#ADB4D2",cS="#FF4D4F",pS="#E30D0F",Dn="#F1F2F6",Tn="#E3E6EF",_S="#C6D0DC",fS="#EFF0F3",gS="#F8F9FB",yS="#F4F5F7",hS="#868EAE",En="rgba(95,99,242,0.2)",bS="#9299b8",vS="#F63178",kS="48px",wS="36px",CS="29px",Go={"primary-color":Bt,"primary-hover":QC,"secondary-color":XC,"secondary-hover":ZC,"link-color":xC,"link-hover":eS,"success-color":ua,"success-hover":aS,"warning-color":ma,"warning-hover":nS,"error-color":wn,"error-hover":oS,"info-color":Cn,"info-hover":lS,"dark-color":Tt,"dark-hover":sS,"gray-color":Sn,"gray-hover":$n,"light-color":rS,"light-hover":dS,"white-color":An,"white-hover":uS,white:An,black:"#000",pink:vS,"dash-color":iS,"dash-hover":$n,"extra-light-color":mS,"danger-color":cS,"danger-hover":pS,"font-family":"'Inter', sans-serif","font-size-base":"14px","heading-color":tS,"text-color":Tt,"text-color-secondary":Sn,"disabled-color":"rgba(0, 0, 0, 0.25)","border-radius-base":"4px","border-color-base":"#d9d9d9","box-shadow-base":"0 2px 8px rgba(0, 0, 0, 0.15)","border-color-light":Dn,"border-color-normal":Tn,"border-color-deep":_S,"bg-color-light":gS,"bg-color-normal":yS,"bg-color-deep":fS,"light-gray-color":hS,"gray-solid":bS,"btn-height-large":kS,"btn-height-small":wS,"btn-height-extra-small":CS,"btn-default-color":Tt,"card-head-background":"#ffffff","card-head-color":Tt,"card-background":"#ffffff","card-head-padding":"16px","card-padding-base":"12px","card-radius":"10px","card-shadow":"0 5px 20px rgba(146,153,184,0.03)","layout-body-background":"#F4F5F7","layout-header-background":"#ffffff","layout-footer-background":"#fafafa","layout-header-height":"64px","layout-header-padding":"0 15px","layout-footer-padding":"24px 15px","layout-sider-background":"#ffffff","layout-trigger-height":"48px","layout-trigger-background":"#002140","layout-trigger-color":"#fff","layout-zero-trigger-width":"36px","layout-zero-trigger-height":"42px","layout-sider-background-light":"#fff","layout-trigger-background-light":"#fff","layout-trigger-color-light":"rgba(0, 0, 0, 0.65)","page-header-padding":"24px","page-header-padding-vertical":"16px","page-header-padding-breadcrumb":"12px","page-header-back-color":"#000","page-header-ghost-bg":"inherit","popover-color":Tt,"alert-success-border-color":ua,"alert-success-bg-color":ua+15,"alert-error-bg-color":wn+15,"alert-warning-bg-color":ma+15,"alert-info-bg-color":Cn+15,"radio-button-checked-bg":Bt,"grid-gutter-width":25,"skeleton-color":Dn,"slider-rail-background-color":En,"slider-rail-background-color-hover":En,"slider-track-background-color":Bt,"slider-track-background-color-hover":Bt,"slider-handle-color":Bt,"slider-handle-size":"16px","input-height-base":"48px","input-border-color":Tn,"input-height-sm":"30px","input-height-lg":"50px","rate-star-color":ma,"rate-star-size":"13px","switch-min-width":"30px","switch-sm-min-width":"30px","switch-height":"18px","switch-sm-height":"15px","result-title-font-size":"20px","result-subtitle-font-size":"12px","result-icon-font-size":"50px","tabs-horizontal-padding":"12px 15px","tabs-horizontal-margin":"0","list-item-padding":"10px 24px","tag-default-bg":"#EFF0F3","tag-default-color":Tt,"tag-font-size":"11px"};({...Go});const SS=Z({components:{SyncOutlined:vt},setup(){const{appSetting:e}=J();return{appSetting:e}}}),$S={class:"loading-app-container"},AS={style:{color:"#7676e3"}},DS=["src"];function TS(e,l,c,n,h,y){const u=o("SyncOutlined"),d=o("a-result");return r(),S("div",$S,[t(d,null,{title:a(()=>[w("span",AS,s(e.$t("messages.loading_app_message")),1)]),icon:a(()=>[w("img",{style:{width:"150px"},src:e.appSetting.light_logo_url},null,8,DS)]),extra:a(()=>[t(u,{style:{fontSize:"38px",color:"#5254cf"},spin:""})]),_:1})])}const ES=W(SS,[["render",TS],["__scopeId","data-v-c2a22665"]]);const OS={name:"App",components:{ThemeProvider:ns,LoadingApp:ES},setup(){const e=Ge(),l=Re(),c=ke(),n="dark",{updatePageTitle:h,appSetting:y,frontWarehouse:u,appType:d}=J(),m=pe(()=>c.state.auth.appChecking);return x(()=>{l.currentRoute&&l.currentRoute.value&&l.currentRoute.value.meta.isFrontStore==null&&setInterval(()=>{c.dispatch("auth/refreshToken")},5*60*1e3)}),me(e,(p,_)=>{const f=typeof p.meta.menuKey=="function"?p.meta.menuKey(p):p.meta.menuKey;h(f.replace("-","_")),d=="saas"&&y.value.is_global==0&&y.value.status=="license_expired"&&p&&p.meta&&!(p.meta.menuParent=="subscription"||p.name=="admin.login"||p.name=="verify.main")&&l.push({name:"admin.subscription.current_plan"})}),{theme:os,themeVars:Go,darkTheme:n,appChecking:m,appSetting:y}}},IS={class:"theme-container"};function PS(e,l,c,n,h,y){const u=o("LoadingApp"),d=o("ThemeProvider"),m=o("a-config-provider"),p=o("router-view");return r(),C(p,null,{default:a(({Component:_,route:f})=>[(r(),C(ls,null,{default:a(()=>[t(m,{theme:{token:{colorPrimary:n.appSetting.primary_color,fontFamily:"Nunito,sans-serif",borderRadius:4}},direction:n.appSetting.rtl?"rtl":"ltr"},{default:a(()=>[w("div",IS,[t(d,{theme:{...n.themeVars}},{default:a(()=>[n.appChecking?(r(),C(u,{key:0})):(r(),C(zn(_),{key:1}))]),_:2},1032,["theme"])])]),_:2},1032,["theme","direction"])]),fallback:a(()=>[i(" Loading... ")]),_:2},1024))]),_:1})}const US=W(OS,[["render",PS]]);const FS=Z({setup(){return{}}}),qS={style:{padding:"10px 16px",background:"white"},class:"mb-20"};function MS(e,l,c,n,h,y){return r(),S("div",qS,[de(e.$slots,"default")])}const RS=W(FS,[["render",MS]]),KS=Z({setup(){return{}}}),VS={class:"dashboard-page-content-container"};function zS(e,l,c,n,h,y){return r(),S("div",VS,[de(e.$slots,"default")])}const LS=W(KS,[["render",zS]]);async function BS(){Ce.getters["auth/isLoggedIn"]&&Ce.dispatch("auth/updateUser"),Ce.dispatch("auth/updateGlobalSetting"),Ce.dispatch("auth/updateApp"),Ce.dispatch("auth/updateAllLangs"),Ce.dispatch("auth/updateAllWarehouses"),Ce.commit("auth/updateActiveModules",window.config.modules),Ce.dispatch("auth/updateVisibleSubscriptionModules");const e=ss(US),l=sb({legacy:!1,globalInjection:!0,locale:Ce.state.auth.lang,warnHtmlMessage:!1});await db(l,Ce.state.auth.lang),e.use(l),e.use(rs),e.use(ds),e.use(Ce),e.use(is);const c=window.config.installed_modules,n=[];c.forEach(h=>{const y=h.verified_name,u=pa(Object.assign({}),`../../Modules/${y}/Resources/assets/js/${y}.js`);n.push(u)}),Promise.all(n).then(h=>{h.forEach(y=>{e.use(y.default,{routes:Le,store:Ce})}),Le.addRoute({path:"/:catchAll(.*)",redirect:"/"}),e.use(Le)}),e.component("admin-page-filters",RS),e.component("admin-page-table-content",LS),window.i18n=l,Le.isReady().then(()=>{Le.currentRoute&&Le.currentRoute.value&&Le.currentRoute.value.meta&&Le.currentRoute.value.meta.isFrontStore&&(Ce.commit("front/updateWarehouseSlug",Le.currentRoute.value.params.warehouse),Ce.commit("front/updateWarehouseCurrency",window.config.warehouseCurrency),Ce.commit("front/updateApp",window.config.frontStoreSettings)),e.mount("#app")})}BS();export{py as A,ui as B,wo as C,oy as E,Va as L,qa as P,p_ as R,dy as S,Pa as T,vi as U,qt as W,A_ as a,_i as b,J as c,To as d,xn as e,_y as f,ES as g,db as l};
